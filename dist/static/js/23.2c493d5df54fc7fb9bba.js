webpackJsonp([23],{BYCq:function(e,t){},tvVI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("Dd8w"),r=n.n(o),i=n("Gu7T"),c=n.n(i),a={components:{EditableCell:n("SGdj").a},created:function(){this.getAssistSort()},data:function(){return{outerCount:0,outerDataSource:[],columns:[{title:"分类名称",dataIndex:"service",width:130,align:"center",scopedSlots:{customRender:"service"}},{title:"建议货物价值费用",dataIndex:"cost",align:"center",width:150,scopedSlots:{customRender:"cost"}},{title:"建议服务时间",dataIndex:"suggestionTime",align:"center",width:130,scopedSlots:{customRender:"suggestionTime"}},{title:"操作",dataIndex:"operation",align:"center",width:130,scopedSlots:{customRender:"operation"}}]}},methods:{getAssistSort:function(){var e=this;this.outerDataSource=[],this.$get("aidServiceType").then(function(t){t.data.data.forEach(function(t){0==t.oncampus&&e.outerDataSource.push({key:t.id,service:t.service,cost:t.cost,suggestionTime:t.suggestionTime})})})},onCellChangeOuter:function(e,t,n){var o=[].concat(c()(this.outerDataSource)),r=o.find(function(t){return t.key===e});r&&(r[t]=n,this.outerDataSource=o,this.onChangeInfo(e))},onDeleteOuter:function(e){var t=this;this.$get("/aidServiceType/delete",{id:e}).then(function(){var n=[].concat(c()(t.outerDataSource));t.outerDataSource=n.filter(function(t){return t.key!==e})})},handleAddOuter:function(){var e=this,t={service:"校外服务"+this.outerCount,cost:2,oncampus:0,suggestionTime:10};this.$post("/aidServiceType",r()({},t)).then(function(){return e.outerCount+=1,e.getAssistSort()})},onChangeInfo:function(e){var t=[].concat(c()(this.outerDataSource)).find(function(t){return t.key===e});this.$post("/aidServiceType/update",{id:t.key,service:t.service,cost:t.cost,suggestionTime:t.suggestionTime})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{attrs:{title:"校外分类",bordered:!1}},[n("a-button",{staticClass:"editable-add-btn",on:{click:e.handleAddOuter}},[e._v("新增校外服务分类")]),e._v(" "),n("a-table",{attrs:{bordered:"","data-source":e.outerDataSource,columns:e.columns},scopedSlots:e._u([{key:"service",fn:function(t,o){return[n("editable-cell",{attrs:{text:t},on:{change:function(t){return e.onCellChangeOuter(o.key,"service",t)}}})]}},{key:"cost",fn:function(t,o){return[n("editable-cell",{attrs:{text:t},on:{change:function(t){return e.onCellChangeOuter(o.key,"cost",t)}}})]}},{key:"suggestionTime",fn:function(t,o){return[n("editable-cell",{attrs:{text:t},on:{change:function(t){return e.onCellChangeOuter(o.key,"suggestionTime",t)}}})]}},{key:"operation",fn:function(t,o){return[e.outerDataSource.length?n("a-popconfirm",{attrs:{title:"确认删除?"},on:{confirm:function(){return e.onDeleteOuter(o.key)}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("删除该分类")])]):e._e()]}}])})],1)],1)},staticRenderFns:[]},u=n("VU/8")(a,s,!1,function(e){n("BYCq")},null,null);t.default=u.exports}});