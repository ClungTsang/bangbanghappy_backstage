webpackJsonp([80],{"v/TO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),d=[{title:"头像",dataIndex:"headimgurl",scopedSlots:{customRender:"headimgurl"},width:100,align:"center"},{title:"用户姓名",dataIndex:"customername",width:150,align:"center"},{title:"电话号码",dataIndex:"phonenum",width:200,align:"center"},{title:"会员等级",dataIndex:"viplevel",width:100,align:"center"},{title:"更新时间",dataIndex:"updatetime",width:200,align:"center"},{title:"是否需要交押金",dataIndex:"needdeposit",align:"center",width:100,scopedSlots:{customRender:"needdeposit"}}],o={data:function(){return{dataSource:[],columns:d,pagination:{},loading:!1,setPersonalVisible:!1}},mounted:function(){this.fetch()},methods:{handleTableChange:function(t,e,a){var n=i()({},this.pagination);n.current=t.current,this.pagination=n,this.fetch({pageSize:t.pageSize,pageNum:t.current})},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var a=this.$db.get("USER_TOKEN");this.$get("/wechatcustomer",i()({Authentication:a,pageSize:10},e)).then(function(e){var a=i()({},t.pagination);a.total=e.data.data.total,t.loading=!1,t.dataSource=e.data.data,t.pagination=a})},onChange:function(t,e){var a=this,n={needdeposit:t,id:e.id};this.$post("/wechatcustomer/update",i()({},n)).then(function(){a.$message.success("切换成功")})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{columns:t.columns,"data-source":t.dataSource,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"headimgurl",fn:function(t,e){return a("span",{},[a("img",{staticStyle:{width:"60px",heigth:"60px"},attrs:{src:e.headimgurl}})])}},{key:"needdeposit",fn:function(e,n){return a("span",{},[a("a-select",{staticStyle:{width:"100px"},attrs:{"default-value":1==e?"需要":"不需要"},on:{change:function(e){t.onChange(e,n)}}},[a("a-select-option",{attrs:{value:"1"}},[t._v("需要")]),t._v(" "),a("a-select-option",{attrs:{value:"0"}},[t._v("不需要")])],1)],1)}}])})],1)],1)},staticRenderFns:[]},c=a("VU/8")(o,s,!1,null,null,null);e.default=c.exports}});