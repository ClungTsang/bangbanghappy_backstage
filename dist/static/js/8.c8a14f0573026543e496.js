webpackJsonp([8,41,58],{Buzq:function(e,t){},"F1q/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),o=i("FJ7W"),s={data:function(){return{form:this.$form.createForm(this,{name:"dynamic_rule"})}},props:{addVisible:{type:Boolean,default:!1}},computed:{visible:function(){return this.addVisible}},methods:{handleOk:function(){var e=this;this.form.validateFields(function(t,i){t||e.$post("/question",a()({},i)).then(function(){e.$emit("close"),o.a.$emit("addCompleted"),e.form.resetFields()})})},handleCancel:function(){this.$emit("close")}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-modal",{attrs:{visible:e.visible,title:"新增问题"},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("a-form",{attrs:{form:e.form}},[i("a-form-item",{attrs:{label:"问题标题"}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title"],expression:"['title']"}]})],1),e._v(" "),i("a-form-item",{attrs:{label:"问题解答"}},[i("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detail"],expression:"['detail']"}]})],1),e._v(" "),i("a-form-item",{attrs:{label:"是否显示"}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isDelete"],expression:"['isDelete']"}]},[i("a-radio",{attrs:{value:"0"}},[e._v("显示")]),e._v(" "),i("a-radio",{attrs:{value:"1"}},[e._v("不显示")])],1)],1)],1)],1)],1)},staticRenderFns:[]},l=i("VU/8")(s,r,!1,function(e){i("wsqn")},null,null);t.default=l.exports},FV7H:function(e,t){},FusJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("F1q/"),a=i("V8ht"),o={components:{questionAdd:n.default,questionInfo:a.default},data:function(){return{addVisible:!1}},methods:{onOpenQuestion:function(){this.addVisible=!0},onClose:function(){this.addVisible=!1}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:["question:add"],expression:"['question:add']"}],attrs:{type:"success"},on:{click:e.onOpenQuestion}},[e._v("新增答疑\n  ")]),e._v(" "),i("question-add",{attrs:{addVisible:e.addVisible},on:{close:e.onClose}}),e._v(" "),i("question-info")],1)},staticRenderFns:[]},r=i("VU/8")(o,s,!1,function(e){i("Buzq")},null,null);t.default=r.exports},V8ht:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),o=i("FJ7W"),s=[{title:"id",dataIndex:"id"},{title:"标题",dataIndex:"title",align:"center"},{title:"内容",dataIndex:"detail",align:"center"},{title:"是否显示",dataIndex:"isDelete",align:"center",scopedSlots:{customRender:"isDelete"}},{title:"创建时间",width:200,dataIndex:"createTime",align:"center"},{title:"更新时间",width:200,dataIndex:"updateTime",align:"center"},{title:"操作",width:200,dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],r={data:function(){return{columns:s,dataSource:[],changeVisible:!1,form:this.$form.createForm(this),question:null}},created:function(){this.getQuestion()},mounted:function(){var e=this;o.a.$on("addCompleted",function(){e.dataSource=[],e.getQuestion()})},methods:{onUpdateQuestion:function(e){this.changeVisible=!0,this.form.getFieldDecorator("title"),this.form.getFieldDecorator("detail"),this.form.setFieldsValue({title:e.title,detail:e.detail}),this.question=e},handleOk:function(){var e=this,t=this.form.getFieldsValue(),i=this.question.id;this.$post("/question/update",a()({},t,{id:i})).then(function(){e.changeVisible=!1,e.dataSource=[],e.getQuestion()})},onChange:function(e,t){var i=this,n={isDelete:e,id:t.id};this.$post("/question/update",a()({},n)).then(function(){i.$message.success("切换成功")})},handleCancel:function(){this.changeVisible=!1},getQuestion:function(){var e=this;this.$get("/question").then(function(t){e.dataSource=t.data.data})},confirmDelete:function(e){var t=this;this.$get("/question/delete",{id:e.id}).then(function(){var i=t.dataSource.filter(function(t){return t.id!==e.id});t.dataSource=i})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-table",{attrs:{columns:e.columns,"data-source":e.dataSource},scopedSlots:e._u([{key:"isDelete",fn:function(t,n){return i("span",{},[i("a-select",{staticStyle:{width:"80px"},attrs:{"default-value":0==t?"显示":"不显示"},on:{change:function(t){e.onChange(t,n)}}},[i("a-select-option",{attrs:{value:"0"}},[e._v(" 显示 ")]),e._v(" "),i("a-select-option",{attrs:{value:"1"}},[e._v(" 不显示 ")])],1)],1)}},{key:"action",fn:function(t,n){return i("span",{},[i("a-popconfirm",{attrs:{title:"确定删除该答疑","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.confirmDelete(n)}}},[i("a",[e._v("删除答疑")])]),e._v(" "),i("a-divider",{attrs:{type:"vertical"}}),e._v(" "),i("a",{on:{click:function(t){return e.onUpdateQuestion(n)}}},[e._v("修改答疑")])],1)}}])}),e._v(" "),i("a-modal",{attrs:{visible:e.changeVisible,title:"修改答疑"},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("a-form",{attrs:{form:e.form}},[i("a-form-item",{attrs:{label:"问题标题"}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title"],expression:"['title']"}]})],1),e._v(" "),i("a-form-item",{attrs:{label:"问题解答"}},[i("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detail"],expression:"['detail']"}]})],1)],1)],1)],1)},staticRenderFns:[]},d=i("VU/8")(r,l,!1,function(e){i("FV7H")},null,null);t.default=d.exports},wsqn:function(e,t){}});