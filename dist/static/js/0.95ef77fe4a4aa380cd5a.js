webpackJsonp([0],{"+9Ou":function(e,t,n){function i(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},n={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},i=(e&&e.AccessControlList||{}).Grant;i&&(i=c.isArray(i)?i:[i]);var r={READ:0,WRITE:0,FULL_CONTROL:0};return i&&i.length&&c.each(i,function(i){"qcs::cam::anyone:anyone"===i.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===i.Grantee.URI?r[i.Permission]=1:i.Grantee.ID!==e.Owner.ID&&t[n[i.Permission]].push('id="'+i.Grantee.ID+'"')}),r.FULL_CONTROL||r.WRITE&&r.READ?t.ACL="public-read-write":r.READ?t.ACL="public-read":t.ACL="private",c.each(n,function(e){t[e]=o(t[e].join(","))}),t}function o(e){var t,n,i=e.split(","),o={};for(t=0;t<i.length;)o[n=i[t].trim()]?i.splice(t,1):(o[n]=!0,i[t]=n,t++);return i.join(",")}function r(e){var t=e.bucket,n=t.substr(0,t.lastIndexOf("-")),i=t.substr(t.lastIndexOf("-")+1),o=e.domain,r=e.region,a=e.object,s=e.protocol||(c.isBrowser&&"http:"===location.protocol?"http:":"https:");o||(o=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(r)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(o="{Bucket}."+o)),o=(o=o.replace(/\{\{AppId\}\}/gi,i).replace(/\{\{Bucket\}\}/gi,n).replace(/\{\{Region\}\}/gi,r).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,i).replace(/\{BucketName\}/gi,n).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,r).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(o)||(o=s+"//"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1));var l=o;return e.ForcePathStyle&&(l+="/"+t),l+="/",a&&(l+=c.camSafeUrlEncode(a).replace(/%2F/g,"/")),e.isLocation&&(l=l.replace(/^https?:\/\//,"")),l}function a(e,t){var n=c.clone(e.Headers);c.each(n,function(e,t){(""===e||["content-type","cache-control","expires"].indexOf(t.toLowerCase())>-1)&&delete n[t]});var i=!1,o=function(e,n){i||(i=!0,n&&n.XCosSecurityToken&&!n.SecurityToken&&((n=c.clone(n)).SecurityToken=n.XCosSecurityToken,delete n.XCosSecurityToken),t&&t(e,n))},r=this,a=e.Bucket||"",s=e.Region||"",l=e.Key||"";r.options.ForcePathStyle&&a&&(l=a+"/"+l);var u="/"+l,d={},h=e.Scope;if(!h){var p=e.Action||"",f=e.ResourceKey||e.Key||"";h=e.Scope||[{action:p,bucket:a,region:s,prefix:f}]}var m=c.md5(JSON.stringify(h));r._StsCache=r._StsCache||[],function(){var e,t;for(e=r._StsCache.length-1;e>=0;e--){t=r._StsCache[e];var n=Math.round(c.getSkewTime(r.options.SystemClockOffset)/1e3)+30;if(t.StartTime&&n<t.StartTime||n>=t.ExpiredTime)r._StsCache.splice(e,1);else if(!t.ScopeLimit||t.ScopeLimit&&t.ScopeKey===m){d=t;break}}}();var g=function(){var t=d.StartTime&&d.ExpiredTime?d.StartTime+";"+d.ExpiredTime:"",i={Authorization:c.getAuth({SecretId:d.TmpSecretId,SecretKey:d.TmpSecretKey,Method:e.Method,Pathname:u,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:r.options.UseRawKey,SystemClockOffset:r.options.SystemClockOffset,KeyTime:t}),SecurityToken:d.SecurityToken||d.XCosSecurityToken||"",Token:d.Token||"",ClientIP:d.ClientIP||"",ClientUA:d.ClientUA||""};o(null,i)},y=function(e){if(e.Authorization){var t=!1,n=e.Authorization;if(n)if(n.indexOf(" ")>-1)t=!1;else if(n.indexOf("q-sign-algorithm=")>-1&&n.indexOf("q-ak=")>-1&&n.indexOf("q-sign-time=")>-1&&n.indexOf("q-key-time=")>-1&&n.indexOf("q-url-param-list=")>-1)t=!0;else try{(n=atob(n)).indexOf("a=")>-1&&n.indexOf("k=")>-1&&n.indexOf("t=")>-1&&n.indexOf("r=")>-1&&n.indexOf("b=")>-1&&(t=!0)}catch(e){}if(!t)return c.error(new Error("getAuthorization callback params format error"))}else{if(!e.TmpSecretId)return c.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!e.TmpSecretKey)return c.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!e.SecurityToken&&!e.XCosSecurityToken)return c.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!e.ExpiredTime)return c.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(e.ExpiredTime&&10!==e.ExpiredTime.toString().length)return c.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(e.StartTime&&10!==e.StartTime.toString().length)return c.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(d.ExpiredTime&&d.ExpiredTime-c.getSkewTime(r.options.SystemClockOffset)/1e3>60)g();else if(r.options.getAuthorization)r.options.getAuthorization.call(r,{Bucket:a,Region:s,Method:e.Method,Key:l,Pathname:u,Query:e.Query,Headers:n,Scope:h,SystemClockOffset:r.options.SystemClockOffset},function(e){"string"==typeof e&&(e={Authorization:e});var t=y(e);if(t)return o(t);e.Authorization?o(null,e):((d=e||{}).Scope=h,d.ScopeKey=m,r._StsCache.push(d),g())});else{if(!r.options.getSTS)return function(){var t={Authorization:c.getAuth({SecretId:e.SecretId||r.options.SecretId,SecretKey:e.SecretKey||r.options.SecretKey,Method:e.Method,Pathname:u,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:r.options.UseRawKey,SystemClockOffset:r.options.SystemClockOffset}),SecurityToken:r.options.SecurityToken||r.options.XCosSecurityToken};return o(null,t),t}();r.options.getSTS.call(r,{Bucket:a,Region:s},function(e){(d=e||{}).Scope=h,d.ScopeKey=m,d.TmpSecretId||(d.TmpSecretId=d.SecretId),d.TmpSecretKey||(d.TmpSecretKey=d.SecretKey);var t=y(d);if(t)return o(t);r._StsCache.push(d),g()})}return""}function s(e,t){var n=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=c.clearKey(e.qs),e.headers&&(e.headers=c.clearKey(e.headers)),e.qs&&(e.qs=c.clearKey(e.qs));var i=c.clone(e.qs);e.action&&(i[e.action]="");var o=function(s){var u=n.options.SystemClockOffset;a.call(n,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:i,Headers:e.headers,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope},function(i,a){i?t(i):(e.AuthData=a,function(e,t){var n=this,i=e.TaskId;if(!i||n._isRunningTask(i)){var o=e.Bucket,a=e.Region,s=e.Key,u=e.method||"GET",d=e.url,h=e.body,p=e.rawBody;n.options.UseAccelerate&&(a="accelerate"),d=d||r({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:o,region:a,object:s}),e.action&&(d=d+"?"+e.action),e.qsStr&&(d=d.indexOf("?")>-1?d+"&"+e.qsStr:d+"?"+e.qsStr);var f={method:u,url:d,headers:e.headers,qs:e.qs,body:h};if(f.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(f.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(f.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(f.headers.clientUA=e.AuthData.ClientUA),e.AuthData.SecurityToken&&(f.headers["x-cos-security-token"]=e.AuthData.SecurityToken),f.headers&&(f.headers=c.clearKey(f.headers)),f=c.clearKey(f),e.onProgress&&"function"==typeof e.onProgress){var m=h&&(h.size||h.length)||0;f.onProgress=function(t){if(!i||n._isRunningTask(i)){var o=t?t.loaded:0;e.onProgress({loaded:o,total:m})}}}e.onDownloadProgress&&(f.onDownloadProgress=e.onDownloadProgress),e.DataType&&(f.dataType=e.DataType),this.options.Timeout&&(f.timeout=this.options.Timeout),n.options.ForcePathStyle&&(f.pathStyle=n.options.ForcePathStyle),n.emit("before-send",f);var g=(n.options.Request||l)(f,function(e){if("abort"!==e.error){n.emit("after-receive",e);var o,r={statusCode:e.statusCode,statusMessage:e.statusMessage,headers:e.headers},a=e.error,s=e.body,l=function(e,a){if(i&&n.off("inner-kill-task",y),!o){o=!0;var s={};r&&r.statusCode&&(s.statusCode=r.statusCode),r&&r.headers&&(s.headers=r.headers),e?(e=c.extend(e||{},s),t(e,null)):(a=c.extend(a||{},s),t(null,a)),g=null}};if(a)return l(c.error(a));var u,d=r.statusCode,h=2===Math.floor(d/100);if(p&&h)return l(null,{body:s});try{u=s&&s.indexOf("<")>-1&&s.indexOf(">")>-1&&c.xml2json(s)||{}}catch(e){u={}}var f=u&&u.Error;h?l(null,u):f?l(c.error(new Error(f.Message),{code:f.Code,error:f})):d?l(c.error(new Error(r.statusMessage),{code:""+d})):d&&l(c.error(new Error("statusCode error")))}}),y=function(e){e.TaskId===i&&(g&&g.abort&&g.abort(),n.off("inner-kill-task",y))};i&&n.on("inner-kill-task",y)}}.call(n,e,function(i,r){i&&s<2&&(u!==n.options.SystemClockOffset||function(e){var t=!1,n=!1,i=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var o=e.error.Code,r=e.error.Message;("RequestTimeTooSkewed"===o||"AccessDenied"===o&&"Request has expired"===r)&&(n=!0)}catch(e){}if(e)if(n&&i){var a=Date.parse(i);this.options.CorrectClockSkew&&Math.abs(c.getSkewTime(this.options.SystemClockOffset)-a)>=3e4&&(this.options.SystemClockOffset=a-Date.now(),t=!0)}else 5===Math.floor(e.statusCode/100)&&(t=!0);return t}.call(n,i))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,delete e.headers["x-cos-security-token"]),o(s+1)):t(i,r)}))})};o(1)}var l=n("VegO"),c=n("wImY"),u={getService:function(e,t){"function"==typeof e&&(t=e,e={});var n=this.options.Protocol||(c.isBrowser&&"http:"===location.protocol?"http:":"https:"),i=this.options.ServiceDomain,o=e.AppId||this.options.appId,r=e.Region;i?(i=i.replace(/\{\{AppId\}\}/gi,o||"").replace(/\{\{Region\}\}/gi,r||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(i)||(i=n+"//"+i),"/"===i.slice(-1)&&(i=i.slice(0,-1))):i=r?n+"//cos."+r+".myqcloud.com":n+"//service.cos.myqcloud.com",s.call(this,{Action:"name/cos:GetService",url:i,method:"GET",headers:e.Headers},function(e,n){if(e)return t(e);var i=n&&n.ListAllMyBucketsResult&&n.ListAllMyBucketsResult.Buckets&&n.ListAllMyBucketsResult.Buckets.Bucket||[];i=c.isArray(i)?i:[i];var o=n&&n.ListAllMyBucketsResult&&n.ListAllMyBucketsResult.Owner||{};t(null,{Buckets:i,Owner:o,statusCode:n.statusCode,headers:n.headers})})},putBucket:function(e,t){var n=this,i="";if(e.BucketAZConfig){var o={BucketAZConfig:e.BucketAZConfig};i=c.json2xml({CreateBucketConfiguration:o})}s.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,body:i},function(i,o){if(i)return t(i);var a=r({protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,isLocation:!0});t(null,{Location:a,statusCode:o.statusCode,headers:o.headers})})},headBucket:function(e,t){s.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},t)},getBucket:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n.marker=e.Marker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,s.call(this,{Action:"name/cos:GetBucket",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);var i=n.ListBucketResult||{},o=i.Contents||[],r=i.CommonPrefixes||[];o=c.isArray(o)?o:[o],r=c.isArray(r)?r:[r];var a=c.clone(i);c.extend(a,{Contents:o,CommonPrefixes:r,statusCode:n.statusCode,headers:n.headers}),t(null,a)})},deleteBucket:function(e,t){s.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketAcl:function(e,t){var n=e.Headers,i="";if(e.AccessControlPolicy){var r=c.clone(e.AccessControlPolicy||{}),a=r.Grants||r.Grant;a=c.isArray(a)?a:[a],delete r.Grant,delete r.Grants,r.AccessControlList={Grant:a},i=c.json2xml({AccessControlPolicy:r}),n["Content-Type"]="application/xml",n["Content-MD5"]=c.binaryBase64(c.md5(i))}c.each(n,function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=o(n[t]))}),s.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:n,action:"acl",body:i},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketAcl:function(e,t){s.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(e,n){if(e)return t(e);var o=n.AccessControlPolicy||{},r=o.Owner||{},a=o.AccessControlList.Grant||[];a=c.isArray(a)?a:[a];var s=i(o);n.headers&&n.headers["x-cos-acl"]&&(s.ACL=n.headers["x-cos-acl"]),s=c.extend(s,{Owner:r,Grants:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})},putBucketCors:function(e,t){var n=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[];n=c.clone(c.isArray(n)?n:[n]),c.each(n,function(e){c.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t){var n=t+"s",i=e[n]||e[t]||[];delete e[n],e[t]=c.isArray(i)?i:[i]})});var i=c.json2xml({CORSConfiguration:{CORSRule:n}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"cors",headers:o},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketCors:function(e,t){s.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var i={CORSRules:[],statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else t(e);else{var o=n.CORSConfiguration||{},r=o.CORSRules||o.CORSRule||[];r=c.clone(c.isArray(r)?r:[r]),c.each(r,function(e){c.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t){var n=t+"s",i=e[n]||e[t]||[];delete e[t],e[n]=c.isArray(i)?i:[i]})}),t(null,{CORSRules:r,statusCode:n.statusCode,headers:n.headers})}})},deleteBucketCors:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})})},getBucketLocation:function(e,t){s.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},t)},getBucketPolicy:function(e,t){s.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(e,n){if(e)return t(e.statusCode&&403===e.statusCode?c.error(e,{ErrorStatus:"Access Denied"}):e.statusCode&&405===e.statusCode?c.error(e,{ErrorStatus:"Method Not Allowed"}):e.statusCode&&404===e.statusCode?c.error(e,{ErrorStatus:"Policy Not Found"}):e);var i={};try{i=JSON.parse(n.body)}catch(e){}t(null,{Policy:i,statusCode:n.statusCode,headers:n.headers})})},putBucketPolicy:function(e,t){var n=e.Policy;try{"string"==typeof n&&(n=JSON.parse(n))}catch(e){}if(!n||"string"==typeof n)return t(c.error(new Error("Policy format error")));var i=JSON.stringify(n);n.version||(n.version="2.0");var o=e.Headers;o["Content-Type"]="application/json",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:i,headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},deleteBucketPolicy:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})})},putBucketTagging:function(e,t){var n=e.Tagging||{},i=n.TagSet||n.Tags||e.Tags||[];i=c.clone(c.isArray(i)?i:[i]);var o=c.json2xml({Tagging:{TagSet:{Tag:i}}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=c.binaryBase64(c.md5(o)),s.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"tagging",headers:r},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketTagging:function(e,t){s.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var i={Tags:[],statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else{var o=[];try{o=n.Tagging.TagSet.Tag||[]}catch(e){}o=c.clone(c.isArray(o)?o:[o]),t(null,{Tags:o,statusCode:n.statusCode,headers:n.headers})}})},deleteBucketTagging:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketLifecycle:function(e,t){var n=(e.LifecycleConfiguration||{}).Rules||e.Rules||[];n=c.clone(n);var i=c.json2xml({LifecycleConfiguration:{Rule:n}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"lifecycle",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketLifecycle:function(e,t){s.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var i={Rules:[],statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else t(e);else{var o=[];try{o=n.LifecycleConfiguration.Rule||[]}catch(e){}o=c.clone(c.isArray(o)?o:[o]),t(null,{Rules:o,statusCode:n.statusCode,headers:n.headers})}})},deleteBucketLifecycle:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketVersioning:function(e,t){if(e.VersioningConfiguration){var n=e.VersioningConfiguration||{},i=c.json2xml({VersioningConfiguration:n}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"versioning",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}else t(c.error(new Error("missing param VersioningConfiguration")))},getBucketVersioning:function(e,t){s.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(e,n){e||!n.VersioningConfiguration&&(n.VersioningConfiguration={}),t(e,n)})},putBucketReplication:function(e,t){var n=c.clone(e.ReplicationConfiguration),i=c.json2xml({ReplicationConfiguration:n});i=(i=i.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"replication",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketReplication:function(e,t){s.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var i={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else!n.ReplicationConfiguration&&(n.ReplicationConfiguration={}),n.ReplicationConfiguration.Rule&&(n.ReplicationConfiguration.Rules=c.makeArray(n.ReplicationConfiguration.Rule),delete n.ReplicationConfiguration.Rule),t(e,n)})},deleteBucketReplication:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketWebsite:function(e,t){if(e.WebsiteConfiguration){var n=c.clone(e.WebsiteConfiguration||{}),i=n.RoutingRules||n.RoutingRule||[];i=c.isArray(i)?i:[i],delete n.RoutingRule,delete n.RoutingRules,i.length&&(n.RoutingRules={RoutingRule:i});var o=c.json2xml({WebsiteConfiguration:n}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=c.binaryBase64(c.md5(o)),s.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"website",headers:r},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}else t(c.error(new Error("missing param WebsiteConfiguration")))},getBucketWebsite:function(e,t){s.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(e,n){if(e)if(404===e.statusCode&&"NoSuchWebsiteConfiguration"===e.error.Code){var i={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else t(e);else{var o=n.WebsiteConfiguration||{};if(o.RoutingRules){var r=c.clone(o.RoutingRules.RoutingRule||[]);r=c.makeArray(r),o.RoutingRules=r}t(null,{WebsiteConfiguration:o,statusCode:n.statusCode,headers:n.headers})}})},deleteBucketWebsite:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketReferer:function(e,t){if(e.RefererConfiguration){var n=c.clone(e.RefererConfiguration||{}),i=n.DomainList||{},o=i.Domains||i.Domain||[];(o=c.isArray(o)?o:[o]).length&&(n.DomainList={Domain:o});var r=c.json2xml({RefererConfiguration:n}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=c.binaryBase64(c.md5(r)),s.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"referer",headers:a},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}else t(c.error(new Error("missing param RefererConfiguration")))},getBucketReferer:function(e,t){s.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"referer"},function(e,n){if(e)if(404===e.statusCode&&"NoSuchRefererConfiguration"===e.error.Code){var i={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else t(e);else{var o=n.RefererConfiguration||{};if(o.DomainList){var r=c.clone(o.DomainList.Domain||[]);r=c.makeArray(r),o.DomainList={Domains:r}}t(null,{RefererConfiguration:o,statusCode:n.statusCode,headers:n.headers})}})},putBucketDomain:function(e,t){var n=(e.DomainConfiguration||{}).DomainRule||e.DomainRule||[];n=c.clone(n);var i=c.json2xml({DomainConfiguration:{DomainRule:n}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"domain",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketDomain:function(e,t){s.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(e,n){if(e)return t(e);var i=[];try{i=n.DomainConfiguration.DomainRule||[]}catch(e){}i=c.clone(c.isArray(i)?i:[i]),t(null,{DomainRule:i,statusCode:n.statusCode,headers:n.headers})})},deleteBucketDomain:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketOrigin:function(e,t){var n=(e.OriginConfiguration||{}).OriginRule||e.OriginRule||[];n=c.clone(n);var i=c.json2xml({OriginConfiguration:{OriginRule:n}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"origin",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketOrigin:function(e,t){s.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(e,n){if(e)return t(e);var i=[];try{i=n.OriginConfiguration.OriginRule||[]}catch(e){}i=c.clone(c.isArray(i)?i:[i]),t(null,{OriginRule:i,statusCode:n.statusCode,headers:n.headers})})},deleteBucketOrigin:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketLogging:function(e,t){var n=c.json2xml({BucketLoggingStatus:e.BucketLoggingStatus||""}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=c.binaryBase64(c.md5(n)),s.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"logging",headers:i},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketLogging:function(e,t){s.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"logging"},function(e,n){if(e)return t(e);t(null,{BucketLoggingStatus:n.BucketLoggingStatus,statusCode:n.statusCode,headers:n.headers})})},putBucketInventory:function(e,t){var n=c.clone(e.InventoryConfiguration);if(n.OptionalFields){var i=n.OptionalFields||[];n.OptionalFields={Field:i}}if(n.Destination&&n.Destination.COSBucketDestination&&n.Destination.COSBucketDestination.Encryption){var o=n.Destination.COSBucketDestination.Encryption;Object.keys(o).indexOf("SSECOS")>-1&&(o["SSE-COS"]=o.SSECOS,delete o.SSECOS)}var r=c.json2xml({InventoryConfiguration:n}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=c.binaryBase64(c.md5(r)),s.call(this,{Action:"name/cos:PutBucketInventory",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"inventory",qs:{id:e.Id},headers:a},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketInventory:function(e,t){s.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(e,n){if(e)return t(e);var i=n.InventoryConfiguration;if(i&&i.OptionalFields&&i.OptionalFields.Field){var o=i.OptionalFields.Field;c.isArray(o)||(o=[o]),i.OptionalFields=o}if(i.Destination&&i.Destination.COSBucketDestination&&i.Destination.COSBucketDestination.Encryption){var r=i.Destination.COSBucketDestination.Encryption;Object.keys(r).indexOf("SSE-COS")>-1&&(r.SSECOS=r["SSE-COS"],delete r["SSE-COS"])}t(null,{InventoryConfiguration:i,statusCode:n.statusCode,headers:n.headers})})},listBucketInventory:function(e,t){s.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{"continuation-token":e.ContinuationToken}},function(e,n){if(e)return t(e);var i=n.ListInventoryConfigurationResult,o=i.InventoryConfiguration||[];o=c.isArray(o)?o:[o],delete i.InventoryConfiguration,c.each(o,function(e){if(e&&e.OptionalFields&&e.OptionalFields.Field){var t=e.OptionalFields.Field;c.isArray(t)||(t=[t]),e.OptionalFields=t}if(e.Destination&&e.Destination.COSBucketDestination&&e.Destination.COSBucketDestination.Encryption){var n=e.Destination.COSBucketDestination.Encryption;Object.keys(n).indexOf("SSE-COS")>-1&&(n.SSECOS=n["SSE-COS"],delete n["SSE-COS"])}}),i.InventoryConfigurations=o,c.extend(i,{statusCode:n.statusCode,headers:n.headers}),t(null,i)})},deleteBucketInventory:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},putBucketAccelerate:function(e,t){if(e.AccelerateConfiguration){var n={AccelerateConfiguration:e.AccelerateConfiguration||{}},i=c.json2xml(n),o={"Content-Type":"application/xml"};o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"accelerate",headers:o},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})}else t(c.error(new Error("missing param AccelerateConfiguration")))},getBucketAccelerate:function(e,t){s.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:e.Bucket,Region:e.Region,action:"accelerate"},function(e,n){e||!n.AccelerateConfiguration&&(n.AccelerateConfiguration={}),t(e,n)})},putBucketEncryption:function(e,t){var n=e.ServerSideEncryptionConfiguration||{},i=n.Rule||n.Rules||[],o=c.json2xml({ServerSideEncryptionConfiguration:{Rule:i}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=c.binaryBase64(c.md5(o)),s.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"encryption",headers:r},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getBucketEncryption:function(e,t){s.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(e,n){if(e)if(404===e.statusCode&&"NoSuchEncryptionConfiguration"===e.code){var i={EncryptionConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else t(e);else{var o=c.makeArray(n.EncryptionConfiguration&&n.EncryptionConfiguration.Rule||[]);n.EncryptionConfiguration={Rules:o},t(e,n)}})},deleteBucketEncryption:function(e,t){s.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getObject:function(e,t){var n=e.Query||{},i=e.QueryString||"",o=c.throttleOnProgress.call(this,0,e.onProgress);n["response-content-type"]=e.ResponseContentType,n["response-content-language"]=e.ResponseContentLanguage,n["response-expires"]=e.ResponseExpires,n["response-cache-control"]=e.ResponseCacheControl,n["response-content-disposition"]=e.ResponseContentDisposition,n["response-content-encoding"]=e.ResponseContentEncoding,s.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,DataType:e.DataType,headers:e.Headers,qs:n,qsStr:i,rawBody:!0,onDownloadProgress:o},function(n,i){if(o(null,!0),n){var r=n.statusCode;return e.Headers["If-Modified-Since"]&&r&&304===r?t(null,{NotModified:!0}):t(n)}t(null,{Body:i.body,ETag:c.attr(i.headers,"etag",""),statusCode:i.statusCode,headers:i.headers})})},headObject:function(e,t){s.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(n,i){if(n){var o=n.statusCode;return e.Headers["If-Modified-Since"]&&o&&304===o?t(null,{NotModified:!0,statusCode:o}):t(n)}i.ETag=c.attr(i.headers,"etag",""),t(null,i)})},listObjectVersions:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n["key-marker"]=e.KeyMarker,n["version-id-marker"]=e.VersionIdMarker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,s.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"versions"},function(e,n){if(e)return t(e);var i=n.ListVersionsResult||{},o=i.DeleteMarker||[];o=c.isArray(o)?o:[o];var r=i.Version||[];r=c.isArray(r)?r:[r];var a=c.clone(i);delete a.DeleteMarker,delete a.Version,c.extend(a,{DeleteMarkers:o,Versions:r,statusCode:n.statusCode,headers:n.headers}),t(null,a)})},putObject:function(e,t){var n=this,i=e.ContentLength,o=c.throttleOnProgress.call(n,i,e.onProgress),a=e.Headers;a["Cache-Control"]||a["cache-control"]||(a["Cache-Control"]=""),a["Content-Type"]||a["content-type"]||(a["Content-Type"]=e.Body&&e.Body.type||"");var l=e.UploadAddMetaMd5||n.options.UploadAddMetaMd5||n.options.UploadCheckContentMd5;c.getBodyMd5(l,e.Body,function(l){l&&(n.options.UploadCheckContentMd5&&(a["Content-MD5"]=c.binaryBase64(l)),(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5)&&(a["x-cos-meta-md5"]=l)),void 0!==e.ContentLength&&(a["Content-Length"]=e.ContentLength),o(null,!0),s.call(n,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:e.Query,body:e.Body,onProgress:o},function(a,s){if(a)return o(null,!0),t(a);o({loaded:i,total:i},!0);var l=r({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:n.options.UseAccelerate?"accelerate":e.Region,object:e.Key});l=l.substr(l.indexOf("://")+3),s.Location=l,s.ETag=c.attr(s.headers,"etag",""),t(null,s)})},e.onHashProgress)},deleteObject:function(e,t){s.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},function(e,n){if(e){var i=e.statusCode;return i&&404===i?t(null,{BucketNotFound:!0,statusCode:i}):t(e)}t(null,{statusCode:n.statusCode,headers:n.headers})})},getObjectAcl:function(e,t){s.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(e,n){if(e)return t(e);var o=n.AccessControlPolicy||{},r=o.Owner||{},a=o.AccessControlList&&o.AccessControlList.Grant||[];a=c.isArray(a)?a:[a];var s=i(o);delete s.GrantWrite,n.headers&&n.headers["x-cos-acl"]&&(s.ACL=n.headers["x-cos-acl"]),s=c.extend(s,{Owner:r,Grants:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})},putObjectAcl:function(e,t){var n=e.Headers,i="";if(e.AccessControlPolicy){var r=c.clone(e.AccessControlPolicy||{}),a=r.Grants||r.Grant;a=c.isArray(a)?a:[a],delete r.Grant,delete r.Grants,r.AccessControlList={Grant:a},i=c.json2xml({AccessControlPolicy:r}),n["Content-Type"]="application/xml",n["Content-MD5"]=c.binaryBase64(c.md5(i))}c.each(n,function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=o(n[t]))}),s.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:n,body:i},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})},optionsObject:function(e,t){var n=e.Headers;n.Origin=e.Origin,n["Access-Control-Request-Method"]=e.AccessControlRequestMethod,n["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,s.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:n},function(e,n){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var i=n.headers||{};t(null,{AccessControlAllowOrigin:i["access-control-allow-origin"],AccessControlAllowMethods:i["access-control-allow-methods"],AccessControlAllowHeaders:i["access-control-allow-headers"],AccessControlExposeHeaders:i["access-control-expose-headers"],AccessControlMaxAge:i["access-control-max-age"],statusCode:n.statusCode,headers:n.headers})})},putObjectCopy:function(e,t){var n=this,i=e.Headers;i["Cache-Control"]||i["cache-control"]||(i["Cache-Control"]="");var o=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(o){var a=o[1],l=o[3],u=decodeURIComponent(o[4]);s.call(this,{Scope:[{action:"name/cos:GetObject",bucket:a,region:l,prefix:u},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(i,o){if(i)return t(i);var a=c.clone(o.CopyObjectResult||{}),s=r({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0});c.extend(a,{Location:s,statusCode:o.statusCode,headers:o.headers}),t(null,a)})}else t(c.error(new Error("CopySource format error")))},deleteMultipleObject:function(e,t){var n=e.Objects||[],i=e.Quiet;n=c.isArray(n)?n:[n];var o=c.json2xml({Delete:{Object:n,Quiet:i||!1}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=c.binaryBase64(c.md5(o));var a=c.map(n,function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}});s.call(this,{Scope:a,method:"POST",Bucket:e.Bucket,Region:e.Region,body:o,action:"delete",headers:r},function(e,n){if(e)return t(e);var i=n.DeleteResult||{},o=i.Deleted||[],r=i.Error||[];o=c.isArray(o)?o:[o],r=c.isArray(r)?r:[r];var a=c.clone(i);c.extend(a,{Error:r,Deleted:o,statusCode:n.statusCode,headers:n.headers}),t(null,a)})},restoreObject:function(e,t){var n=e.Headers;if(e.RestoreRequest){var i=e.RestoreRequest||{},o=c.json2xml({RestoreRequest:i});n["Content-Type"]="application/xml",n["Content-MD5"]=c.binaryBase64(c.md5(o)),s.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:o,action:"restore",headers:n},t)}else t(c.error(new Error("missing param RestoreRequest")))},putObjectTagging:function(e,t){var n=e.Tagging||{},i=n.TagSet||n.Tags||e.Tags||[];i=c.clone(c.isArray(i)?i:[i]);var o=c.json2xml({Tagging:{TagSet:{Tag:i}}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=c.binaryBase64(c.md5(o)),s.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:e.Bucket,Key:e.Key,Region:e.Region,body:o,action:"tagging",headers:r,VersionId:e.VersionId},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},getObjectTagging:function(e,t){s.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:e.Key,Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var i={Tags:[],statusCode:e.statusCode};e.headers&&(i.headers=e.headers),t(null,i)}else{var o=[];try{o=n.Tagging.TagSet.Tag||[]}catch(e){}o=c.clone(c.isArray(o)?o:[o]),t(null,{Tags:o,statusCode:n.statusCode,headers:n.headers})}})},deleteObjectTagging:function(e,t){s.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})},selectObjectContent:function(e,t){if(!e.SelectType)return t(c.error(new Error("missing param SelectType")));var n=e.SelectRequest||{},i=c.json2xml({SelectRequest:n}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=c.binaryBase64(c.md5(i)),s.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"select",qs:{"select-type":e.SelectType},VersionId:e.VersionId,body:i,DataType:"arraybuffer",rawBody:!0},function(e,n){if(e&&204===e.statusCode)return t(null,{statusCode:e.statusCode});if(e)return t(e);var i=c.parseSelectPayload(n.body);t(null,{statusCode:n.statusCode,headers:n.headers,Body:i.body,Payload:i.payload})})},uploadPartCopy:function(e,t){var n=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(n){var i=n[1],o=n[3],r=decodeURIComponent(n[4]);s.call(this,{Scope:[{action:"name/cos:GetObject",bucket:i,region:o,prefix:r},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(e,n){if(e)return t(e);var i=c.clone(n.CopyPartResult||{});c.extend(i,{statusCode:n.statusCode,headers:n.headers}),t(null,i)})}else t(c.error(new Error("CopySource format error")))},multipartInit:function(e,t){var n=this,i=e.Headers;i["Cache-Control"]||i["cache-control"]||(i["Cache-Control"]=""),i["Content-Type"]||i["content-type"]||(i["Content-Type"]=e.Body&&e.Body.type||""),c.getBodyMd5(e.Body&&(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5),e.Body,function(i){i&&(e.Headers["x-cos-meta-md5"]=i),s.call(n,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,qs:e.Query},function(e,n){return e?t(e):(n=c.clone(n||{}))&&n.InitiateMultipartUploadResult?t(null,c.extend(n.InitiateMultipartUploadResult,{statusCode:n.statusCode,headers:n.headers})):void t(null,n)})},e.onHashProgress)},multipartUpload:function(e,t){var n=this;c.getFileSize("multipartUpload",e,function(){c.getBodyMd5(n.options.UploadCheckContentMd5,e.Body,function(i){i&&(e.Headers["Content-MD5"]=c.binaryBase64(i)),s.call(n,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},function(e,n){if(e)return t(e);t(null,{ETag:c.attr(n.headers,"etag",""),statusCode:n.statusCode,headers:n.headers})})})})},multipartComplete:function(e,t){for(var n=this,i=e.UploadId,o=e.Parts,a=0,l=o.length;a<l;a++)0!==o[a].ETag.indexOf('"')&&(o[a].ETag='"'+o[a].ETag+'"');var u=c.json2xml({CompleteMultipartUpload:{Part:o}});u=u.replace(/\n\s*/g,"");var d=e.Headers;d["Content-Type"]="application/xml",d["Content-MD5"]=c.binaryBase64(c.md5(u)),s.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:i},body:u,headers:d},function(i,o){if(i)return t(i);var a=r({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),s=o.CompleteMultipartUploadResult||{};s.ProcessResults&&s&&s.ProcessResults&&(s.UploadResult={OriginalInfo:{Key:s.Key,Location:a,ETag:s.ETag,ImageInfo:s.ImageInfo},ProcessResults:s.ProcessResults},delete s.ImageInfo,delete s.ProcessResults);var l=c.extend(s,{Location:a,statusCode:o.statusCode,headers:o.headers});t(null,l)})},multipartList:function(e,t){var n={};n.delimiter=e.Delimiter,n["encoding-type"]=e.EncodingType,n.prefix=e.Prefix||"",n["max-uploads"]=e.MaxUploads,n["key-marker"]=e.KeyMarker,n["upload-id-marker"]=e.UploadIdMarker,n=c.clearKey(n),s.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"uploads"},function(e,n){if(e)return t(e);if(n&&n.ListMultipartUploadsResult){var i=n.ListMultipartUploadsResult.Upload||[];i=c.isArray(i)?i:[i],n.ListMultipartUploadsResult.Upload=i}var o=c.clone(n.ListMultipartUploadsResult||{});c.extend(o,{statusCode:n.statusCode,headers:n.headers}),t(null,o)})},multipartListPart:function(e,t){var n={};n.uploadId=e.UploadId,n["encoding-type"]=e.EncodingType,n["max-parts"]=e.MaxParts,n["part-number-marker"]=e.PartNumberMarker,s.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);var i=n.ListPartsResult||{},o=i.Part||[];o=c.isArray(o)?o:[o],i.Part=o;var r=c.clone(i);c.extend(r,{statusCode:n.statusCode,headers:n.headers}),t(null,r)})},multipartAbort:function(e,t){var n={};n.uploadId=e.UploadId,s.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})},request:function(e,t){s.call(this,{method:e.Method,Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:e.Action,headers:e.Headers,qs:e.Query,body:e.Body},function(e,n){if(e)return t(e);n&&n.body&&(n.Body=n.body,delete n.body),t(e,n)})},getObjectUrl:function(e,t){var n=this,i=r({ForcePathStyle:n.options.ForcePathStyle,protocol:e.Protocol||n.options.Protocol,domain:e.Domain||n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key}),o="";e.Query&&(o+=c.obj2str(e.Query)),e.QueryString&&(o+=(o?"&":"")+e.QueryString);var s=i;if(void 0!==e.Sign&&!e.Sign)return o&&(s+="?"+o),t(null,{Url:s}),s;var l=a.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires},function(e,n){if(t){if(e)return void t(e);var r=i;r+="?"+(n.Authorization.indexOf("q-signature")>-1?n.Authorization:"sign="+encodeURIComponent(n.Authorization)),n.SecurityToken&&(r+="&x-cos-security-token="+n.SecurityToken),n.ClientIP&&(r+="&clientIP="+n.ClientIP),n.ClientUA&&(r+="&clientUA="+n.ClientUA),n.Token&&(r+="&token="+n.Token),o&&(r+="&"+o),setTimeout(function(){t(null,{Url:r})})}});return l?(s+="?"+l.Authorization+(l.SecurityToken?"&x-cos-security-token="+l.SecurityToken:""),o&&(s+="&"+o)):o&&(s+="?"+o),s},getAuth:function(e){return c.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};e.exports.init=function(e,t){t.transferToTaskMethod(u,"putObject"),c.each(u,function(t,n){e.prototype[n]=c.apiWrapper(n,t),function(e,t,n){c.each(["Cors","Acl"],function(i){if(e.slice(-i.length)===i){var o=e.slice(0,-i.length)+i.toUpperCase(),r=c.apiWrapper(e,t);n[o]=function(){r.apply(this,arguments)}}})}(n,t,e.prototype)})}},"0GLQ":function(e,t,n){var i=n("ZJ1x"),o=n("wImY"),r={};e.exports.transferToTaskMethod=function(e,t){r[t]=e[t],e[t]=function(e,n){e.SkipTask?r[t].call(this,e,n):this._addTask(t,e,n)}},e.exports.init=function(e){var t=[],n={},a=0,s=0,l=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),e._custom&&(t._custom=e._custom),t},c=function(){var n,i=function(){n=0,e.emit("task-list-update",{list:o.map(t,l)}),e.emit("list-update",{list:o.map(t,l)})};return function(){n||(n=setTimeout(i))}}(),u=function(){if(!(t.length<=e.options.UploadQueueSize)){for(var i=0;i<s&&i<t.length&&t.length>e.options.UploadQueueSize;){var o="waiting"===t[i].state||"checking"===t[i].state||"uploading"===t[i].state;t[i]&&o?i++:(n[t[i].id]&&delete n[t[i].id],t.splice(i,1),s--)}c()}},d=function(){if(!(a>=e.options.FileParallelLimit)){for(;t[s]&&"waiting"!==t[s].state;)s++;if(!(s>=t.length)){var n=t[s];s++,a++,n.state="checking",n.params.onTaskStart&&n.params.onTaskStart(l(n)),!n.params.UploadData&&(n.params.UploadData={});var i=o.formatParams(n.api,n.params);r[n.api].call(e,i,function(t,i){e._isRunningTask(n.id)&&("checking"!==n.state&&"uploading"!==n.state||(n.state=t?"error":"success",t&&(n.error=t),a--,c(),d(),n.callback&&n.callback(t,i),"success"===n.state&&(n.params&&(delete n.params.UploadData,delete n.params.Body,delete n.params),delete n.callback)),u())}),c(),setTimeout(d)}}},h=function(t,o){var r=n[t];if(r){var s=r&&"waiting"===r.state,l=r&&("checking"===r.state||"uploading"===r.state);if("canceled"===o&&"canceled"!==r.state||"paused"===o&&s||"paused"===o&&l){if("paused"===o&&r.params.Body&&"function"==typeof r.params.Body.pipe)return;r.state=o,e.emit("inner-kill-task",{TaskId:t,toState:o});try{var h=r&&r.params&&r.params.UploadData.UploadId}catch(e){}"canceled"===o&&h&&i.removeUsing(h),c(),l&&(a--,d()),"canceled"===o&&(r.params&&(delete r.params.UploadData,delete r.params.Body,delete r.params),delete r.callback)}u()}};e._addTasks=function(t){o.each(t,function(t){e._addTask(t.api,t.params,t.callback,!0)}),c()};e._addTask=function(i,r,a,s){r=o.formatParams(i,r);var l=o.uuid();r.TaskId=l,r.onTaskReady&&r.onTaskReady(l),r.TaskReady&&r.TaskReady(l);var h={params:r,callback:a,api:i,index:t.length,id:l,Bucket:r.Bucket,Region:r.Region,Key:r.Key,FilePath:r.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:r._custom},p=r.onHashProgress;r.onHashProgress=function(t){e._isRunningTask(h.id)&&(h.hashPercent=t.percent,p&&p(t),c())};var f=r.onProgress;return r.onProgress=function(t){e._isRunningTask(h.id)&&("checking"===h.state&&(h.state="uploading"),h.loaded=t.loaded,h.speed=t.speed,h.percent=t.percent,f&&f(t),c())},o.getFileSize(i,r,function(e,i){if(e)return a(o.error(e));n[l]=h,t.push(h),h.size=i,!s&&c(),d(),u()}),l},e._isRunningTask=function(e){var t=n[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return o.map(t,l)},e.cancelTask=function(e){h(e,"canceled")},e.pauseTask=function(e){h(e,"paused")},e.restartTask=function(e){var t=n[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",c(),s=Math.min(s,t.index),d())},e.isUploadRunning=function(){return a||s<t.length}}},"1H6C":function(e,t,n){var i=function(){return this}()||Function("return this")(),o=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=o&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n("HhN8"),o)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},"1XNc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={props:{infoVisible:{type:Boolean,default:!1},id:{default:0}},data:function(){return{storeInfo:{}}},computed:{visible:function(){return this.infoVisible}},watch:{id:function(e){this.getMallInfo(e)}},methods:{handleOk:function(){this.$emit("close")},handleCancel:function(){this.$emit("close")},getMallInfo:function(e){var t=this;this.$get("/business/LantianStore/"+e).then(function(e){t.storeInfo=e.data.data})}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,width:800,title:"该门店详细信息"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-descriptions",{attrs:{title:"我的门店",bordered:""}},[n("a-descriptions-item",{attrs:{label:"门店名称"}},[e._v("\n      "+e._s(e.storeInfo.companyname)+"\n    ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"联系人"}},[e._v(e._s(e.storeInfo.storeowner))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"联系人电话"}},[e._v(e._s(e.storeInfo.bossmobilenumber))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"门店地址"}},[e._v(e._s(e.storeInfo.address))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"抽成比例"}},[e._v(e._s(e.storeInfo.spendpercent))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"门店电话"}},[e._v(e._s(e.storeInfo.storephone))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"门店状态"}},[4==this.storeInfo.storestatus?n("a-badge",{attrs:{status:"default",text:"未定义"}}):3==this.storeInfo.storestatus?n("a-badge",{attrs:{status:"success",text:"开店"}}):2==this.storeInfo.storestatus?n("a-badge",{attrs:{status:"warning",text:"休店"}}):1==this.storeInfo.storestatus?n("a-badge",{attrs:{status:"error",text:"关店"}}):n("a-badge",{attrs:{status:"processing",text:"不营业"}})],1),e._v(" "),n("a-descriptions-item",{attrs:{label:"开始营业"}},[e._v("\n      "+e._s(e.storeInfo.openinghours)+"\n    ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"结束营业"}},[e._v("\n      "+e._s(e.storeInfo.closinghours)+"\n    ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"公告内容",span:3}},[e._v("\n      "+e._s(e.storeInfo.detailedintroduction)+"\n    ")])],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(i,o,!1,null,null,null);t.default=r.exports},"1jNY":function(e,t,n){"use strict";var i=n("wImY"),o=n("Ka6X"),r=n("0GLQ"),a=n("+9Ou"),s=n("bKzt"),l={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1},c=function(e){this.options=i.extend(i.clone(l),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId,o.init(this),r.init(this)};a.init(c,r),s.init(c,r),c.getAuthorization=i.getAuth,c.version="1.2.9",e.exports=c},"6qJD":function(e,t,n){var i=n("1jNY");e.exports=i},"7upm":function(e,t){},"8wwu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),r=n("Dd8w"),a=n.n(r),s=n("exGp"),l=n.n(s),c=n("mvHQ"),u=n.n(c),d=n("FJ7W"),h=n("dAEq"),p=n("F/uu"),f={components:{StoreLogoUpload:n("tGOq").default,StoreInfoUpload:p.default,BmLocalSearch:h.BmLocalSearch,BaiduMap:h.BaiduMap,BmView:h.BmView},data:function(){return{config:{rules:[{type:"object",required:!1,message:"请选择营业时间!"}]},form:this.$form.createForm(this),openinghours:null,closinghours:null,isShowSort:!1,slider:{value:20},inputValue1:1,baiduMap:{mapAK:"QAVv9hnYBI89yS8eHYVBw3hh1boX4uiD",keyword:"",location:""},center:{lng:116.404,lat:39.915},myGeo:null,point:{lng:116.404,lat:39.915},city:"",province:"",district:"",storeAddress:"",storeLogo:"",storeurl:"",storestatus:"0",storestatusItems:[{id:"0",text:"不营业"},{id:"1",text:"关店"},{id:"2",text:"休店"},{id:"3",text:"开店"},{id:"4",text:"异常"}]}},props:{addVisible:{type:Boolean,default:!1},id:{type:Number,default:0}},mounted:function(){var e=this;d.a.$on("storeLogoUrl",function(t){var n=[];t.forEach(function(e){n.push(e.url)}),e.storeLogo=u()(n)}),d.a.$on("storeInfoUrl",function(t){var n=[];t.forEach(function(e){n.push(e.url)}),e.storeurl=u()(n)})},computed:{visible:function(){return this.addVisible},judge:function(){return this.id},location:function(){return this.baiduMap.location}},watch:{judge:{handler:function(e){0!=e&&this.getMallInfo(e)},immediate:!0}},methods:{handleCancel:function(){this.id=0,this.$emit("close")},handleSubmit:function(e){var t=this;0==this.judge?(e.preventDefault(),this.form.validateFields(function(){var e=l()(o.a.mark(function e(n,i){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.abrupt("return");case 3:return r=a()({},i,{openinghours:i.openinghours.format("HH:mm:ss"),closinghours:i.closinghours.format("HH:mm:ss"),slider:t.slider.value}),e.next=6,t.onUploadData(r);case 6:case"end":return e.stop()}},e,t)}));return function(t,n){return e.apply(this,arguments)}}())):this.form.validateFields(function(){var e=l()(o.a.mark(function e(n,i){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.abrupt("return");case 3:r=a()({},i,{id:t.id,storestatus:t.storestatus,slider:t.slider.value}),t.$put("/business/LantianStore",a()({},r)).then(function(e){200==e.data.code&&(t.$message.success("更新门店成功"),t.$emit("close"),d.a.$emit("mallChangeDone"),t.id=0)});case 5:case"end":return e.stop()}},e,t)}));return function(t,n){return e.apply(this,arguments)}}())},getMallInfo:function(e){var t=this;this.$get("/business/LantianStore/"+e).then(function(e){return t.onUpdateQuestion(e.data.data)})},onUpdateQuestion:function(e){this.form.getFieldDecorator("companyname"),this.form.getFieldDecorator("storeowner"),this.form.getFieldDecorator("storephone"),this.form.getFieldDecorator("bossmobilenumber"),this.form.getFieldDecorator("storeAddress"),this.form.getFieldDecorator("detailedintroduction"),this.form.setFieldsValue({companyname:e.companyname,storeowner:e.storeowner,storephone:e.storephone,bossmobilenumber:e.bossmobilenumber,detailedintroduction:e.detailedintroduction,storeAddress:e.address}),this.storestatus=e.storestatus,this.baiduMap.keyword=e.address},onUploadData:function(e){var t=this;return l()(o.a.mark(function n(){var i,r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i={bossmobilenumber:e.bossmobilenumber,companyname:e.companyname,logo:t.storeLogo,storeowner:e.storeowner,storephone:e.storephone,address:e.storeAddress,detailedintroduction:e.detailedintroduction,storestatus:0,openinghours:e.openinghours,closinghours:e.closinghours,spendpercent:e.slider+"",localxy:t.point.lat+","+t.point.lng},"一级代理"!=(r=t.$db.get("USER")).description&&"一级代理"!=r.roleName){n.next=5;break}return n.next=5,t.$get("/business/LantianStore/getByPhone/"+r.username).then(function(e){i.parentid=e.data.data.id});case 5:t.$post("/business/LantianStore",a()({},i)).then(function(e){200==e.data.code?(t.$message.success("新增门店成功"),t.$emit("close"),t.id=0):t.$message.error("新增失败")},function(){t.$message.error("新增失败")}).catch(function(){t.$message.error("新增失败")});case 6:case"end":return n.stop()}},n,t)}))()},uploadImage:function(){this.$refs.UploadImage.afterMallUpload()},onRegionChange:function(e){this.baiduMap.location=e},selectPoint:function(e){var t=(e.type,e.target,e.point);e.pixel,e.overlay,this.point=t;var n=this;this.myGeo.getLocation(t,function(e){e&&(n.city=e.addressComponents.city,n.province=e.addressComponents.province,n.district=e.addressComponents.district,n.storeAddress=e.surroundingPois.length>0?e.surroundingPois[0].address+e.surroundingPois[0].title:e.address,n.form.setFieldsValue({storeAddress:n.storeAddress}))})},mapReady:function(e){var t=e.BMap,n=(e.map,this),i=new t.Geolocation;this.myGeo=new t.Geocoder,i.getCurrentPosition(function(e){n.center={lng:e.point.lng,lat:e.point.lat},n.point={lng:e.point.lng,lat:e.point.lat}},{enableHighAccuracy:!0})},changeStatus:function(e){this.storestatus=e.target.value},onMapClick:function(e){this.center.lng=e.point.lng,this.center.lat=e.point.lat},syncCenterAndZoom:function(e){var t=e.target.getCenter(),n=t.lng,i=t.lat;this.center.lng=n,this.center.lat=i,this.zoom=e.target.getZoom()}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,title:0==this.judge?"新建门店":"更新门店"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"门店名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["companyname",{rules:[{required:!0,message:"请输入门店名称"}]}],expression:"[\n            'companyname',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: '请输入门店名称',\n                },\n              ],\n            },\n          ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"门店老板姓名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["storeowner",{rules:[{required:!0}]}],expression:"[\n            'storeowner',\n            {\n              rules: [\n                {\n                  required: true,\n                },\n              ],\n            },\n          ]"}]})],1),e._v(" "),n("a-form-item",{attrs:{label:"门店电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["storephone",{rules:[{required:!0,message:"请输入本店电话"}]}],expression:"[\n            'storephone',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: '请输入本店电话',\n                },\n              ],\n            },\n          ]"}]})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==this.judge,expression:"this.judge == 0"}]},[n("a-form-item",{attrs:{label:"老板手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bossmobilenumber",{rules:[{required:!0,message:"请输入正确的手机号"}]}],expression:"[\n              'bossmobilenumber',\n              {\n                rules: [\n                  {\n                    required: true,\n\n                    message: '请输入正确的手机号',\n                  },\n                ],\n              },\n            ]"}]})],1)],1),e._v(" "),n("a-form-item",{attrs:{label:"门店地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["storeAddress",{rules:[{required:!0,whitespace:!0,message:"请输入门店名称"}]}],expression:"[\n            'storeAddress',\n            {\n              rules: [\n                {\n                  required: true,\n                  whitespace: true,\n                  message: '请输入门店名称',\n                },\n              ],\n            },\n          ]"}],attrs:{placeholder:"搜索门店地址"},model:{value:e.baiduMap.keyword,callback:function(t){e.$set(e.baiduMap,"keyword",t)},expression:"baiduMap.keyword"}},[n("a-select",{staticStyle:{width:"80px"},attrs:{slot:"addonAfter","default-value":"深圳"},on:{change:e.onRegionChange},slot:"addonAfter"},[n("a-select-option",{attrs:{value:"深圳"}},[e._v(" 深圳 ")]),e._v(" "),n("a-select-option",{attrs:{value:"广州"}},[e._v(" 广州 ")]),e._v(" "),n("a-select-option",{attrs:{value:"上海"}},[e._v(" 上海 ")]),e._v(" "),n("a-select-option",{attrs:{value:"北京"}},[e._v(" 北京 ")])],1)],1),e._v(" "),n("baidu-map",{attrs:{ak:"baiduMap.mapAK",center:e.center},on:{ready:e.mapReady,click:e.selectPoint,moving:e.syncCenterAndZoom,moveend:e.syncCenterAndZoom,zoomend:e.syncCenterAndZoom}},[n("bm-view",{staticStyle:{width:"100%",height:"200px"}}),e._v(" "),n("bm-marker",{attrs:{position:e.point,dragging:!0,animation:"BMAP_ANIMATION_BOUNCE"}}),e._v(" "),n("bm-local-search",{attrs:{keyword:e.baiduMap.keyword,"auto-viewport":!0,location:e.location}})],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==this.judge,expression:"this.judge == 0"}]},[n("a-form-item",{attrs:{label:"门店图标"}},[n("store-logo-upload",e._g({},e.$listeners),[e._v("上传门店logo")])],1),e._v(" "),n("a-form-item",{attrs:{label:"门店照片"}},[n("store-info-upload",e._g({},e.$listeners),[e._v("上传门店照片")])],1)],1),e._v(" "),n("a-form-item",{attrs:{label:"门店详细介绍"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailedintroduction",{rules:[{required:!0,message:"请输入详细介绍"}]}],expression:"[\n            'detailedintroduction',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: '请输入详细介绍',\n                },\n              ],\n            },\n          ]"}],attrs:{placeholder:"请介绍门店的详细信息..."}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==this.judge,expression:"this.judge == 0"}]},[n("a-form-item",{attrs:{label:"营业时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["openinghours",e.config],expression:"['openinghours', config]"}],attrs:{format:"HH:mm"}}),e._v(" "),n("span",[e._v("~")]),e._v(" "),n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["closinghours",e.config],expression:"['closinghours', config]"}],attrs:{format:"HH:mm"}})],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0!==this.judge,expression:"this.judge !== 0"}]},[n("a-form-item",{staticStyle:{"margin-bottom":"2rem"},attrs:{label:"门店状态"}},[n("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.changeStatus},model:{value:e.storestatus,callback:function(t){e.storestatus=t},expression:"storestatus"}},e._l(e.storestatusItems,function(t,i){return n("a-radio-button",{key:i,staticStyle:{margin:"5px"},attrs:{value:t.id}},[e._v("\n              "+e._s(t.text)+"\n            ")])}),1)],1)],1),e._v(" "),n("a-form-item",{attrs:{label:"滑动调整对该门店的抽成比例"}},[n("a-row",[n("a-col",{attrs:{span:20}},[n("a-slider",{attrs:{min:1,max:99},model:{value:e.slider.value,callback:function(t){e.$set(e.slider,"value",t)},expression:"slider.value"}})],1),e._v(" "),n("a-col",{attrs:{span:4}},[n("a-input-number",{staticStyle:{marginleft:"16px"},attrs:{min:1,max:99},model:{value:e.slider.value,callback:function(t){e.$set(e.slider,"value",t)},expression:"slider.value"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},g=n("VU/8")(f,m,!1,function(e){n("jytG")},"data-v-51cb7f68",null);t.default=g.exports},"8zu+":function(e,t){function n(){}function i(e,t,n,i,c){function p(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(c.error("entity not found:"+e),e)}function f(t){if(t>k){var n=e.substring(k,t).replace(/&#?\w+;/g,p);b&&m(k),i.characters(n,0,t-k),k=t}}function m(t,n){for(;t>=y&&(n=v.exec(e));)g=n.index,y=g+n[0].length,b.lineNumber++;b.columnNumber=t-g+1}for(var g=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,b=i.locator,_=[{currentNSMap:t}],C={},k=0;;){try{var x=e.indexOf("<",k);if(x<0){if(!e.substr(k).match(/^\s*$/)){var w=i.doc,S=w.createTextNode(e.substr(k));w.appendChild(S),i.currentElement=S}return}switch(x>k&&f(x),e.charAt(x+1)){case"/":var I=e.indexOf(">",x+3),B=e.substring(x+2,I),M=_.pop();I<0?(B=e.substring(x+2).replace(/[\s<].*/,""),c.error("end tag name: "+B+" is not complete:"+M.tagName),I=x+1+B.length):B.match(/\s</)&&(B=B.replace(/[\s<].*/,""),c.error("end tag name: "+B+" maybe not complete"),I=x+1+B.length);var R=M.localNSMap,E=M.tagName==B;if(E||M.tagName&&M.tagName.toLowerCase()==B.toLowerCase()){if(i.endElement(M.uri,M.localName,B),R)for(var T in R)i.endPrefixMapping(T);E||c.fatalError("end tag name: "+B+" is not match the current start tagName:"+M.tagName)}else _.push(M);I++;break;case"?":b&&m(x),I=d(e,x,i);break;case"!":b&&m(x),I=u(e,x,i,c);break;default:b&&m(x);var A=new h,O=_[_.length-1].currentNSMap,P=(I=r(e,x,A,O,p,c),A.length);if(!A.closed&&l(e,I,A.tagName,C)&&(A.closed=!0,n.nbsp||c.warning("unclosed xml attribute")),b&&P){for(var N=o(b,{}),D=0;D<P;D++){var L=A[D];m(L.offset),L.locator=o(b,{})}i.locator=N,a(A,i,O)&&_.push(A),i.locator=b}else a(A,i,O)&&_.push(A);"http://www.w3.org/1999/xhtml"!==A.uri||A.closed?I++:I=s(e,I,A.tagName,p,i)}}catch(e){c.error("element parse error: "+e),I=-1}I>k?k=I:f(Math.max(x,k)+1)}}function o(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function r(e,t,n,i,o,r){for(var a,s=++t,l=y;;){var c=e.charAt(s);switch(c){case"=":if(l===v)a=e.slice(t,s),l=_;else{if(l!==b)throw new Error("attribute equal must after attrName");l=_}break;case"'":case'"':if(l===_||l===v){if(l===v&&(r.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,u,t-1),l=k}else{if(l!=C)throw new Error('attribute value must after "="');u=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,u,t),r.warning('attribute "'+a+'" missed start quot('+c+")!!"),t=s+1,l=k}break;case"/":switch(l){case y:n.setTagName(e.slice(t,s));case k:case x:case w:l=w,n.closed=!0;case C:case v:case b:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),l==y&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case y:n.setTagName(e.slice(t,s));case k:case x:case w:break;case C:case v:"/"===(u=e.slice(t,s)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case b:l===b&&(u=a),l==C?(r.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===i[""]&&u.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),n.add(u,u,t));break;case _:throw new Error("attribute value missed!!")}return s;case"":c=" ";default:if(c<=" ")switch(l){case y:n.setTagName(e.slice(t,s)),l=x;break;case v:a=e.slice(t,s),l=b;break;case C:var u=e.slice(t,s).replace(/&#?\w+;/g,o);r.warning('attribute "'+u+'" missed quot(")!!'),n.add(a,u,t);case k:l=x}else switch(l){case b:n.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,l=v;break;case k:r.warning('attribute space is required"'+a+'"!!');case x:l=v,t=s;break;case _:l=C,t=s;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function a(e,t,n){for(var i=e.tagName,o=null,r=e.length;r--;){var a=e[r],s=a.qName,l=a.value;if((p=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,p),d=s.slice(p+1),h="xmlns"===u&&d;else d=s,u=null,h="xmlns"===s&&"";a.localName=d,!1!==h&&(null==o&&(o={},c(n,n={})),n[h]=o[h]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,l))}for(r=e.length;r--;){(u=(a=e[r]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]))}var p;(p=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,p),d=e.localName=i.slice(p+1)):(u=null,d=e.localName=i);var f=e.uri=n[u||""];if(t.startElement(f,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(f,d,i),o)for(u in o)t.endPrefixMapping(u)}function s(e,t,n,i,o){if(/^(?:script|textarea)$/i.test(n)){var r=e.indexOf("</"+n+">",t),a=e.substring(t+1,r);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),r):(a=a.replace(/&#?\w+;/g,i),o.characters(a,0,a.length),r)}return t+1}function l(e,t,n,i){var o=i[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),i[n]=o),o<t}function c(e,t){for(var n in e)t[n]=e[n]}function u(e,t,n,i){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var r=function(e,t){var n,i=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);n=o.exec(e);)if(i.push(n),n[1])return i}(e,t),a=r.length;if(a>1&&/!doctype/i.test(r[0][0])){var s=r[1][0],l=a>3&&/^public$/i.test(r[2][0])&&r[3][0],c=a>4&&r[4][0],u=r[a-1];return n.startDTD(s,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),u.index+u[0].length}}return-1}function d(e,t,n){var i=e.indexOf("?>",t);if(i){var o=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,n.processingInstruction(o[1],o[2]),i+2):-1}return-1}function h(e){}function p(e,t){return e.__proto__=t,e}var f=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=new RegExp("[\\-\\.0-9"+f.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),g=new RegExp("^"+f.source+m.source+"*(?::"+f.source+m.source+"*)?$"),y=0,v=1,b=2,_=3,C=4,k=5,x=6,w=7;n.prototype={parse:function(e,t,n){var o=this.domBuilder;o.startDocument(),c(t,t={}),i(e,t,n,o,this.errorHandler),o.endDocument()}},h.prototype={setTagName:function(e){if(!g.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!g.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},p({},p.prototype)instanceof p||(p=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=n},AUae:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("nErl"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t,n){return new Md5(!0).update(t,n)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.getCtx=e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};Md5.prototype.update=function(e,t){if(!this.finalized){for(var n,i,o=0,r=e.length,a=this.blocks,s=this.buffer8;o<r;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),ARRAY_BUFFER)for(i=this.start;o<r&&i<64;++o)n=e.charCodeAt(o),t||n<128?s[i++]=n:n<2048?(s[i++]=192|n>>6,s[i++]=128|63&n):n<55296||n>=57344?(s[i++]=224|n>>12,s[i++]=128|n>>6&63,s[i++]=128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[i++]=240|n>>18,s[i++]=128|n>>12&63,s[i++]=128|n>>6&63,s[i++]=128|63&n);else for(i=this.start;o<r&&i<64;++o)n=e.charCodeAt(o),t||n<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,i,o,r,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&e)+a[1]-117830708)<<12|i>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+i<<0)&(i^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((i=this.h3)^t&(n^i))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[1]-389564586)<<12|i>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+i<<0)&(i^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(i^t&(n^i))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[5]+1200080426)<<12|i>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+i<<0)&(i^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[9]-1958414417)<<12|i>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+i<<0)&(i^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(i^t&(n^i))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(i=((i+=(n^e&(t^n))+a[13]-40341101)<<12|i>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+i<<0)&(i^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[11]+643717713)<<14|n>>>18)+i<<0)^i))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[15]-660478335)<<14|n>>>18)+i<<0)^i))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[3]-187363961)<<14|n>>>18)+i<<0)^i))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((i=((i+=(t^n&((e=((e+=(n^i&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|i>>>23)+e<<0)^e&((n=((n+=(e^t&(i^e))+a[7]+1735328473)<<14|n>>>18)+i<<0)^i))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+a[11]+1839030562)<<16|n>>>16)+i<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+a[7]-155497632)<<16|n>>>16)+i<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+a[3]-722521979)<<16|n>>>16)+i<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((r=(i=((i+=((o=t^n)^(e=((e+=(o^i)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|i>>>21)+e<<0)^e)^(n=((n+=(r^t)+a[15]+530742520)<<16|n>>>16)+i<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[14]-1416354905)<<15|n>>>17)+i<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[10]-1051523)<<15|n>>>17)+i<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[6]-1560198380)<<15|n>>>17)+i<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((i=((i+=(t^((e=((e+=(n^(t|~i))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|i>>>22)+e<<0)^((n=((n+=(e^(i|~t))+a[2]+718787259)<<15|n>>>17)+i<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(e){if("hex"===e)return this.hex();this.finalize();var t=this.h0,n=this.h1,i=this.h2,o=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,i="",o=this.array(),r=0;r<15;)e=o[r++],t=o[r++],n=o[r++],i+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=o[r],i+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()}).call(exports,__webpack_require__("W2nU"),__webpack_require__("DuR2"))},C9L2:function(e,t){},DWW6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),o=n.n(i),r=n("Xxa5"),a=n.n(r),s=n("exGp"),l=n.n(s),c=n("FJ7W"),u=n("6qJD"),d=n.n(u),h=n("P0XF"),p={name:"UploadImage",props:{files:{type:Array,required:!1,default:function(){return[]}},sort:{type:Boolean,default:!0}},data:function(){return{fileList:[],cos:null,previewVisible:!1,previewImage:"",maxNum:1,rank:{number:0,bannerUrl:""},bannerUrl:""}},computed:{isShow:function(){return this.sort}},watch:{files:function(e){this.fileList=e}},created:function(){var e=this;return l()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getKeyAndId();case 2:n=t.sent,e.cos=new d.a({getAuthorization:function(e,t){var i=JSON.parse(n.data.data);t({TmpSecretId:i.credentials.tmpSecretId,TmpSecretKey:i.credentials.tmpSecretKey,XCosSecurityToken:i.credentials.sessionToken,ExpiredTime:i.expiredTime})}});case 4:case"end":return t.stop()}},t,e)}))()},methods:{getKeyAndId:function(){return this.$get("backend/TemKeyAndID")},changeNum:function(e){this.maxNum=e},handleCancel:function(){this.previewVisible=!1},handlePreview:function(){this.previewImage=this.bannerUrl,this.previewVisible=!0},beforeUpload:function(e){var t=!1;return["image/jpeg","image/png","image/bmp","image/tif"].forEach(function(n){e.type.toLocaleLowerCase()==n&&(t=!0)}),t?e.size/1024/1024<1?void 0:(this.$message.error("图片必须小于1MB!"),!1):(this.$message.error("请上传图片类型：jpeg/png/bmp/tif"),!1)},remove:function(e){var t=this.fileList.filter(function(t){return t.uid!=e.uid});this.fileList=t,this.$emit("change",t)},handleUpload:function(e){var t=this,n=this,i=e.file,o=Object(h.a)(),r=i.name;this.cos.putObject({Bucket:n.$config.Bucket,Region:n.$config.Region,Key:r,Body:i,onProgress:function(){}},function(e,r){e?n.$notification.error({message:"文件上传错误",description:e.Message}):(t.$message.success("图片上传成功"),n.bannerUrl="http://"+r.Location,n.fileList.push({uid:o,name:i.name,status:"done",url:"http://"+r.Location}),c.a.$emit("change",n.fileList))})},afterUpload:function(){var e=this,t={carouselimgurl:this.bannerUrl,carouselstatus:0,ordernum:this.rank.number};return this.$post("backend/carousel",o()({},t)).then(function(t){e.$emit("uploadImage",t.data.data),e.previewImage="",e.rank.number=0})},afterMallUpload:function(){var e=this,t={carouselimgurl:this.url,carouselstatus:0,ordernum:this.rank.number};return this.$post("backend/carousel",o()({},t)).then(function(t){e.$emit("uploadImage",t.data.data),e.previewImage=[],e.rank.number=0})},getExtName:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t+1):""}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{accept:"image/*",listType:"picture-card",fileList:e.fileList,multiple:!0,remove:e.remove,beforeUpload:e.beforeUpload,customRequest:e.handleUpload},on:{preview:e.handlePreview}},[e.fileList.length<e.maxNum?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),e._v(" "),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"加载失败",src:e.previewImage}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"margin-top":"10px"}},[n("a-form",[n("a-form-item",{attrs:{label:"排序"}},[n("a-input-number",{attrs:{min:0,max:10},model:{value:e.rank.number,callback:function(t){e.$set(e.rank,"number",t)},expression:"rank.number"}})],1)],1)],1)],1)},staticRenderFns:[]},m=n("VU/8")(p,f,!1,function(e){n("VHxS")},"data-v-7c0ada91",null);t.default=m.exports},"F/uu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("FJ7W"),l=n("6qJD"),c=n.n(l),u=n("P0XF"),d={props:{files:{type:Array,required:!1,default:function(){return[]}},sort:{type:Boolean,default:!0}},data:function(){return{fileList:[],cos:null,previewVisible:!1,previewImage:"",maxNum:1,rank:{number:0,bannerUrl:""},bannerUrl:""}},computed:{isShow:function(){return this.sort}},watch:{files:function(e){this.fileList=e}},created:function(){var e=this;return a()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getKeyAndId();case 2:n=t.sent,e.cos=new c.a({getAuthorization:function(e,t){var i=JSON.parse(n.data.data);t({TmpSecretId:i.credentials.tmpSecretId,TmpSecretKey:i.credentials.tmpSecretKey,XCosSecurityToken:i.credentials.sessionToken,ExpiredTime:i.expiredTime})}});case 4:case"end":return t.stop()}},t,e)}))()},methods:{getKeyAndId:function(){return this.$get("backend/TemKeyAndID")},changeNum:function(e){this.maxNum=e},handleCancel:function(){this.previewVisible=!1},handlePreview:function(){this.previewImage=this.bannerUrl,this.previewVisible=!0},beforeUpload:function(e){var t=!1;return["image/jpeg","image/png","image/bmp","image/tif"].forEach(function(n){e.type.toLocaleLowerCase()==n&&(t=!0)}),t?e.size/1024/1024<1?void 0:(this.$message.error("图片必须小于1MB!"),!1):(this.$message.error("请上传图片类型：jpeg/png/bmp/tif"),!1)},remove:function(e){var t=this.fileList.filter(function(t){return t.uid!=e.uid});this.fileList=t,this.$emit("storeInfoUrl",t)},handleUpload:function(e){var t=this,n=this,i=e.file,o=Object(u.a)(),r=i.name;this.cos.putObject({Bucket:n.$config.Bucket,Region:n.$config.Region,Key:r,Body:i,onProgress:function(){}},function(e,r){e?n.$notification.error({message:"文件上传错误",description:e.Message}):(t.$message.success("图片上传成功"),n.bannerUrl="http://"+r.Location,n.fileList.push({uid:o,name:i.name,status:"done",url:"http://"+r.Location}),s.a.$emit("storeInfoUrl",n.fileList))})},getExtName:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t+1):""}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{accept:"image/*",listType:"picture-card",fileList:e.fileList,multiple:!0,remove:e.remove,beforeUpload:e.beforeUpload,customRequest:e.handleUpload},on:{preview:e.handlePreview}},[e.fileList.length<e.maxNum?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),e._v(" "),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"加载失败",src:e.previewImage}})])],1)},staticRenderFns:[]},p=n("VU/8")(d,h,!1,function(e){n("C9L2")},"data-v-75cf6a82",null);t.default=p.exports},FJ7W:function(e,t,n){"use strict";var i=new(n("7+uW").a);t.a=i},HhN8:function(e,t){!function(t){"use strict";function n(e,t,n,i){var r=t&&t.prototype instanceof o?t:o,a=Object.create(r.prototype),s=new p(i||[]);return a._invoke=c(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function r(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,o,r,a){var s=i(e[n],e,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,r,a)},function(e){t("throw",e,r,a)}):Promise.resolve(c).then(function(e){l.value=e,r(l)},a)}a(s.arg)}var n;this._invoke=function(e,i){function o(){return new Promise(function(n,o){t(e,i,n,o)})}return n=n?n.then(o,o):o()}}function c(e,t,n){var o=S;return function(r,a){if(o===B)throw new Error("Generator is already running");if(o===M){if("throw"===r)throw a;return m()}for(n.method=r,n.arg=a;;){var s=n.delegate;if(s){var l=u(s,n);if(l){if(l===R)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===S)throw o=M,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=B;var c=i(e,t,n);if("normal"===c.type){if(o=n.done?M:I,c.arg===R)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=M,n.method="throw",n.arg=c.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return R;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var o=i(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,R;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,R):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,R)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return i.next=i}}return{next:m}}function m(){return{value:g,done:!0}}var g,y=Object.prototype,v=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",C=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",x="object"==typeof e,w=t.regeneratorRuntime;if(w)x&&(e.exports=w);else{(w=t.regeneratorRuntime=x?e.exports:{}).wrap=n;var S="suspendedStart",I="suspendedYield",B="executing",M="completed",R={},E={};E[_]=function(){return this};var T=Object.getPrototypeOf,A=T&&T(T(f([])));A&&A!==y&&v.call(A,_)&&(E=A);var O=a.prototype=o.prototype=Object.create(E);r.prototype=O.constructor=a,a.constructor=r,a[k]=r.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(O),e},w.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[C]=function(){return this},w.AsyncIterator=l,w.async=function(e,t,i,o){var r=new l(n(e,t,i,o));return w.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(O),O[k]="Generator",O[_]=function(){return this},O.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},w.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,i){return r.type="throw",r.arg=e,n.next=t,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=v.call(o,"catchLoc"),s=v.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,R):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),R}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),R}}}}(function(){return this}()||Function("return this")())},JhYp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),o=n.n(i),r={props:{infoVisible:{type:Boolean,default:!1},id:{default:0}},data:function(){return{assistInfo:{},orderUser:{},assistor:{},mallInfo:{}}},computed:{visible:function(){return this.infoVisible}},watch:{id:function(e){this.getOrderInfo(e)},assistInfo:function(){this.getAssistorInfo(),this.getOrderUserInfo(),this.getMallInfo()}},methods:{handleOk:function(){this.$emit("close")},handleCancel:function(){this.$emit("close")},getOrderInfo:function(e){var t=this;this.$get("/aidOrderById",{id:e}).then(function(e){t.assistInfo=e.data.data})},getOrderUserInfo:function(){var e=this,t={openid:this.assistInfo.publishUserOpenid};this.$get("/wechatcustomerByopenId",o()({},t)).then(function(t){t.data.data&&(e.orderUser=t.data.data)})},getAssistorInfo:function(){var e=this;if(this.assistInfo.aidUserOpenid){var t={openid:this.assistInfo.aidUserOpenid};this.$get("/wechatcustomerByopenId",o()({},t)).then(function(t){t.data.data&&(e.assistor=t.data.data)})}else this.assistor={}},getMallInfo:function(){var e=this;if(this.assistInfo.blackboardId){var t=this.assistInfo.blackboardId;this.$get("/business/LantianStore/"+t).then(function(t){t.data.data&&(e.mallInfo=t.data.data)})}else this.mallInfo={}}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,width:1400,title:"该订单详细信息"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-descriptions",{attrs:{bordered:""}},[n("a-descriptions-item",{attrs:{label:"订单编号",span:2}},[e._v("\n        "+e._s(e.assistInfo.outTradeNo)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"订单创建时间"}},[e._v("\n        "+e._s(e.assistInfo.createtime)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"所属分类"}},[e._v("\n        "+e._s(0==e.assistInfo.oncampus?"校外":"校内")+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"分类名称"}},[e._v("\n        "+e._s(e.assistInfo.classifyName)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"订单状态"}},[1==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"warning",text:"待付款"}}):2==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"processing",text:"待援助"}}):3==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"processing",text:"援助中"}}):4==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"error",text:"处理中"}}):5==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"success",text:"已完成"}}):6==this.assistInfo.aidorderstatus?n("a-badge",{attrs:{status:"default",text:"已取消"}}):n("a-badge",{attrs:{status:"warning",text:"已关闭"}})],1),e._v(" "),n("a-descriptions-item",{attrs:{label:"客户名字"}},[e._v("\n        "+e._s(e.orderUser.realname)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"客户电话"}},[e._v("\n        "+e._s(e.assistInfo.publishUserNamemobile)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"收货地址"}},[e._v("\n        "+e._s(e.assistInfo.addressDetail)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"求助标题"}},[e._v("\n        "+e._s(e.assistInfo.title)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"求助说明"}},[e._v("\n        "+e._s(e.assistInfo.description)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"货物价值"}},[e._v("\n        "+e._s(e.assistInfo.materialsAmount)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"商铺名称"}},[null!=e.mallInfo.companyname?n("div",[e._v("\n          "+e._s(e.mallInfo.companyname)+"\n        ")]):n("div",[e._v("无商铺")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"商铺联系人"}},[null!=e.mallInfo.storeowner?n("div",[e._v("\n          "+e._s(e.mallInfo.storeowner)+"\n        ")]):n("div",[e._v("无商铺联系人")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"商铺电话"}},[null!=e.mallInfo.storephone?n("div",[e._v("\n          "+e._s(e.mallInfo.storephone)+"\n        ")]):n("div",[e._v("无商铺电话")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"菜品内容",span:4}},[e._v("\n        "+e._s(e.assistInfo.content)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"援助者"}},[null!=e.assistor.realname?n("div",[e._v("\n          "+e._s(e.assistor.realname)+"\n        ")]):n("div",[e._v("无援助者")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"援助者电话"}},[null!=e.assistor.phonenum?n("div",[e._v("\n          "+e._s(e.assistor.phonenum)+"\n        ")]):n("div",[e._v("无援助者电话")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"援助佣金"}},[e._v("\n        "+e._s(e.assistInfo.aidAmout)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"平台抽成援助数额"}},[e._v("\n        "+e._s(e.assistInfo.aidPlatformIncome)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"援助者得到的佣金",span:2}},[e._v("\n        "+e._s(e.assistInfo.aiderIncome)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"凭证内容"}},[null!=e.assistInfo.certificateContent?n("div",[e._v("\n          "+e._s(e.assistInfo.certificateContent)+"\n        ")]):n("div",[e._v("未填写凭证内容")])]),e._v(" "),n("a-descriptions-item",{attrs:{label:"凭证图片"}},[null!=e.assistInfo.certificateUrls?n("div",e._l(JSON.parse(e.assistInfo.certificateUrls),function(e,t){return n("div",{key:t},[n("img",{staticStyle:{width:"400px",heigth:"auto","margin-bottom":"20px"},attrs:{src:e}})])}),0):n("div",[e._v("未上传相关图片")])])],1)],1)],1)},staticRenderFns:[]},s=n("VU/8")(r,a,!1,null,null,null);t.default=s.exports},JpjP:function(e,t,n){"use strict";var i={name:"RangeDate",data:function(){return{id:+new Date}},methods:{onChange:function(e,t){this.$emit("change",t)},reset:function(){this.id=+new Date}}},o={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a-range-picker",{key:e.id,ref:"rangeDate",staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD HH:mm:ss",showTime:{hideDisabledOptions:!0},showToday:""},on:{change:e.onChange}})},staticRenderFns:[]},r=n("VU/8")(i,o,!1,null,null,null);t.a=r.exports},Ka6X:function(e,t){var n=function(e){var t={},n=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){n(e).push(t)},e.off=function(e,t){for(var i=n(e),o=i.length-1;o>=0;o--)t===i[o]&&i.splice(o,1)},e.emit=function(e,t){for(var i=n(e).map(function(e){return e}),o=0;o<i.length;o++)i[o](t)}};e.exports.init=n,e.exports.EventProxy=function(){n(this)}},LiGI:function(e,t){},MA88:function(e,t){},OAFc:function(e,t,n){function i(e){this.options=e||{locator:{}}}function o(){this.cdata=!1}function r(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}i.prototype.parseFromString=function(e,t){var n=this.options,i=new l,r=n.domBuilder||new o,a=n.errorHandler,s=n.locator,c=n.xmlns||{},u={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){function i(t){var i=e[t];!i&&a&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+function(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(n))}||function(){}}if(!e){if(t instanceof o)return t;e=t}var r={},a=e instanceof Function;return n=n||{},i("warning"),i("error"),i("fatalError"),r}(a,r,s),i.domBuilder=n.domBuilder||r,/\/x?html?$/.test(t)&&(u.nbsp=" ",u.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?i.parse(e,c,u):i.errorHandler.error("invalid doc source"),r.doc},o.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var o=this.doc,a=o.createElementNS(e,n||t),l=i.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var c=0;c<l;c++){e=i.getURI(c);var u=i.getValue(c),d=(n=i.getQName(c),o.createAttributeNS(e,n));this.locator&&r(i.getLocator(c),d),d.value=d.nodeValue=u,a.setAttributeNode(d)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&r(this.locator,n),s(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&r(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&r(this.locator,i),s(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(e,t,n);this.locator&&r(this.locator,o),s(this,o)}},warning:function(e){},error:function(e){},fatalError:function(e){throw e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});var l=n("8zu+").XMLReader,c=t.DOMImplementation=n("yXhj").DOMImplementation;t.XMLSerializer=n("yXhj").XMLSerializer,t.DOMParser=i},OH5c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("fZjL"),l=n.n(s),c=n("Dd8w"),u=n.n(c),d=n("NYxO"),h={data:function(){return{formLayout:"horizontal",menu:{},category:{text:"切换菜单分类"},items:[],form:this.$form.createForm(this)}},created:function(){this.getMenuCategoryInfo()},props:{changeVisible:{type:Boolean,default:!1},data:{type:Array,default:{}}},computed:u()({visible:function(){return this.changeVisible}},Object(d.c)({userInfo:function(e){return e.account.userInfo}})),watch:{data:function(e){this.menu=e},menu:{deep:!0,handle:function(e){}}},methods:{handleOk:function(){var e=this;this.form.validateFields(function(t){if(!t){var n=e.menu;e.$put("/backend/business/LantianDishmanagement",u()({},n)).then(function(){e.$emit("close"),e.$message.success("修改成功")})}})},handleCancel:function(){this.$emit("cancel")},setMenuFields:function(){var e=this,t=this.form.getFieldsValue(["dishname","description","dishprice"]);void 0!==t&&l()(t).forEach(function(n){e.menu[n]=t[n]})},getMenuCategoryInfo:function(){var e=this;return a()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={storeid:e.userInfo.id},e.$get("/backend/business/LantianDishesclassificationtable/MapAllByStoreId",u()({},n)).then(function(t){e.items=t.data.data});case 2:case"end":return t.stop()}},t,e)}))()}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,title:"修改菜品详细信息"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-form",{attrs:{form:e.form,layout:e.formLayout}},[n("a-form-item",{attrs:{label:"菜品名称"}},[n("a-input",{model:{value:e.menu.dishname,callback:function(t){e.$set(e.menu,"dishname",t)},expression:"menu.dishname"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"菜品价格"}},[n("a-input",{model:{value:e.menu.dishprice,callback:function(t){e.$set(e.menu,"dishprice",t)},expression:"menu.dishprice"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"菜品介绍"}},[n("a-textarea",{model:{value:e.menu.description,callback:function(t){e.$set(e.menu,"description",t)},expression:"menu.description"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"活动价格"}},[n("a-input",{model:{value:e.menu.activityprice,callback:function(t){e.$set(e.menu,"activityprice",t)},expression:"menu.activityprice"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"会员价格"}},[n("a-input",{model:{value:e.menu.memberprice,callback:function(t){e.$set(e.menu,"memberprice",t)},expression:"menu.memberprice"}})],1),e._v(" "),n("a-form-item",{attrs:{label:"限购数量"}},[n("a-input",{model:{value:e.menu.purchaselimit,callback:function(t){e.$set(e.menu,"purchaselimit",t)},expression:"menu.purchaselimit"}})],1)],1)],1)],1)},staticRenderFns:[]},f=n("VU/8")(h,p,!1,function(e){n("VsOA")},null,null);t.default=f.exports},P0XF:function(e,t,n){"use strict";t.a=function(e,t){var n,i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||o.length,e)for(n=0;n<e;n++)r[n]=o[0|Math.random()*t];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;n<36;n++)r[n]||(i=0|16*Math.random(),r[n]=o[19==n?3&i|8:i]);return r.join("")}},"QiC+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("FJ7W"),l=n("6qJD"),c=n.n(l),u=n("P0XF"),d={props:{files:{type:Array,required:!1,default:function(){return[]}},sort:{type:Boolean,default:!0}},data:function(){return{fileList:[],cos:null,previewVisible:!1,previewImage:"",maxNum:1,rank:{number:0,bannerUrl:""},bannerUrl:""}},computed:{isShow:function(){return this.sort}},watch:{files:function(e){this.fileList=e}},created:function(){var e=this;return a()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getKeyAndId();case 2:n=t.sent,e.cos=new c.a({getAuthorization:function(e,t){var i=JSON.parse(n.data.data);t({TmpSecretId:i.credentials.tmpSecretId,TmpSecretKey:i.credentials.tmpSecretKey,XCosSecurityToken:i.credentials.sessionToken,ExpiredTime:i.expiredTime})}});case 4:case"end":return t.stop()}},t,e)}))()},methods:{getKeyAndId:function(){return this.$get("backend/TemKeyAndID")},changeNum:function(e){this.maxNum=e},handleCancel:function(){this.previewVisible=!1},handlePreview:function(){this.previewImage=this.bannerUrl,this.previewVisible=!0},beforeUpload:function(e){var t=!1;return["image/jpeg","image/png","image/bmp","image/tif"].forEach(function(n){e.type.toLocaleLowerCase()==n&&(t=!0)}),t?e.size/1024/1024<1?void 0:(this.$message.error("图片必须小于1MB!"),!1):(this.$message.error("请上传图片类型：jpeg/png/bmp/tif"),!1)},remove:function(e){var t=this.fileList.filter(function(t){return t.uid!=e.uid});this.fileList=t,this.$emit("storeInfoUrl",t)},handleUpload:function(e){var t=this,n=this,i=e.file,o=Object(u.a)(),r=i.name;this.cos.putObject({Bucket:n.$config.Bucket,Region:n.$config.Region,Key:r,Body:i,onProgress:function(){}},function(e,r){e?n.$notification.error({message:"文件上传错误",description:e.Message}):(t.$message.success("图片上传成功"),n.bannerUrl="http://"+r.Location,n.fileList.push({uid:o,name:i.name,status:"done",url:"http://"+r.Location}),s.a.$emit("dishUrl",n.fileList))})},getExtName:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t+1):""}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{accept:"image/*",listType:"picture-card",fileList:e.fileList,multiple:!0,remove:e.remove,beforeUpload:e.beforeUpload,customRequest:e.handleUpload},on:{preview:e.handlePreview}},[e.fileList.length<e.maxNum?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),e._v(" "),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"加载失败",src:e.previewImage}})])],1)},staticRenderFns:[]},p=n("VU/8")(d,h,!1,function(e){n("MA88")},"data-v-2b772cac",null);t.default=p.exports},Qkpl:function(e,t){},S9Ov:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{formLayout:"horizontal",menu:{}}},props:{showVisible:{type:Boolean,default:!1},data:{type:Array,default:{}}},computed:{visible:function(){return this.showVisible}},watch:{data:function(e){this.menu=e}},methods:{handleOk:function(){this.$emit("cancel")},handleCancel:function(){this.$emit("cancel")}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,title:"查看菜品详细信息",width:700},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-descriptions",{attrs:{title:"",bordered:""}},[n("a-descriptions-item",{attrs:{label:"菜品名称"}},[e._v("\n        "+e._s(e.menu.dishname)+"\n      ")]),e._v(" "),n("a-descriptions-item",{attrs:{label:"所属分类"}},[e._v(e._s(e.menu.dishclassificationname))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"商品状态"}},[0==this.menu.dishstatus?n("a-badge",{attrs:{status:"warning",text:"已下架"}}):n("a-badge",{attrs:{status:"success",text:"已上架"}})],1),e._v(" "),n("a-descriptions-item",{attrs:{label:"菜品价格"}},[e._v(e._s(e.menu.dishprice))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"活动价格"}},[e._v(e._s(e.menu.activityprice))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"会员价格"}},[e._v(e._s(e.menu.memberprice))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"限购数量"}},[e._v(e._s(e.menu.purchaselimit))]),e._v(" "),n("a-descriptions-item",{attrs:{label:"菜品介绍",span:3}},[e._v("\n        "+e._s(e.menu.description)+"\n      ")])],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(i,o,!1,function(e){n("ltgE")},null,null);t.default=r.exports},SGdj:function(e,t,n){"use strict";var i={props:{text:String},data:function(){return{value:this.text,editable:!1}},methods:{handleChange:function(e){var t=e.target.value;this.value=t},check:function(){this.editable=!1,this.$emit("change",this.value)},edit:function(){this.editable=!0}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editable-cell"},[e.editable?n("div",{staticClass:"editable-cell-input-wrapper"},[n("a-input",{attrs:{value:e.value},on:{change:e.handleChange,pressEnter:e.check}}),n("a-icon",{staticClass:"editable-cell-icon-check",attrs:{type:"check"},on:{click:e.check}})],1):n("div",{staticClass:"editable-cell-text-wrapper"},[e._v("\n    "+e._s(e.value||" ")+"\n    "),n("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:e.edit}})],1)])},staticRenderFns:[]},r=n("VU/8")(i,o,!1,null,null,null);t.a=r.exports},Spne:function(e,t){var n={eachLimit:function(e,t,n,i){if(i=i||function(){},!e.length||t<=0)return i();var o=0,r=0,a=0;!function s(){if(o>=e.length)return i();for(;a<t&&r<e.length;)a+=1,n(e[(r+=1)-1],function(t){t?(i(t),i=function(){}):(a-=1,(o+=1)>=e.length?i():s())})}()},retry:function(e,t,n){var i=function(o){t(function(t,r){t&&o<e?i(o+1):n(t,r)})};e<1?n():i(1)}};e.exports=n},U5Ns:function(e,t,n){var i=n("OAFc").DOMParser,o=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);return new RegExp(/^\s+|\s+$/g),this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var n=this.stringToXML(e);return n.getElementsByTagName("parsererror").length?null:this.parseXML(n,t)}return null},this.parseXML=function(n,i){for(var r in i)e[r]=i[r];var a={},s=0,l="";if(n.childNodes.length)for(var c,u,d,h=0;h<n.childNodes.length;h++)4===(c=n.childNodes.item(h)).nodeType?e.mergeCDATA&&(l+=c.nodeValue):3===c.nodeType?l+=c.nodeValue:1===c.nodeType&&(0===s&&(a={}),u=e.stripElemPrefix?c.nodeName.replace(t,""):c.nodeName,d=o.parseXML(c),a.hasOwnProperty(u)?(a[u].constructor!==Array&&(a[u]=[a[u]]),a[u].push(d)):(a[u]=d,s++));return Object.keys(a).length||(a=l||""),a},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?(new i).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});e.exports=function(e){return o.parseString(e)}},VHxS:function(e,t){},VegO:function(e,t){var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},i=function(e,t,i,o){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var r=encodeURIComponent(n(o))+i;return Array.isArray(e[o])?e[o].map(function(e){return r+encodeURIComponent(n(e))}).join(t):r+encodeURIComponent(n(e[o]))}).filter(Boolean).join(t):o?encodeURIComponent(n(o))+i+encodeURIComponent(n(e)):""},o=function(e,t,n){var i={};return t.getAllResponseHeaders().trim().split("\n").forEach(function(e){if(e){var t=e.indexOf(":"),n=e.substr(0,t).trim().toLowerCase(),o=e.substr(t+1).trim();i[n]=o}}),{error:e,statusCode:t.status,statusMessage:t.statusText,headers:i,body:n}},r=function(e,t){return t||"text"!==t?e.response:e.responseText};e.exports=function(e,t){var n=(e.method||"GET").toUpperCase(),a=e.url;if(e.qs){var s=i(e.qs);s&&(a+=(-1===a.indexOf("?")?"?":"&")+s)}var l=new XMLHttpRequest;l.open(n,a,!0),l.responseType=e.dataType||"text";var c=e.headers;if(c)for(var u in c)c.hasOwnProperty(u)&&"content-length"!==u.toLowerCase()&&"user-agent"!==u.toLowerCase()&&"origin"!==u.toLowerCase()&&"host"!==u.toLowerCase()&&l.setRequestHeader(u,c[u]);return e.onProgress&&l.upload&&(l.upload.onprogress=e.onProgress),e.onDownloadProgress&&(l.onprogress=e.onDownloadProgress),l.onload=function(){t(o(null,l,r(l,e.dataType)))},l.onerror=function(n){var i=r(l,e.dataType);if(i)t(o(null,l,i));else{var a=l.statusText;a||0!==l.status||(a=new Error("CORS blocked or network error")),t(o(a,l,i))}},l.send(e.body||""),l}},VsOA:function(e,t){},Xxa5:function(e,t,n){e.exports=n("1H6C")},ZJ1x:function(e,t,n){var i,o,r=n("wImY"),a=function(){try{localStorage.setItem("cos_sdk_upload_cache",JSON.stringify(i))}catch(e){}},s=function(){if(!i){(function(){try{var e=JSON.parse(localStorage.getItem("cos_sdk_upload_cache"))}catch(e){}e||(e=[]),i=e}).call(this);for(var e=!1,t=Math.round(Date.now()/1e3),n=i.length-1;n>=0;n--){var o=i[n][2];(!o||o+2592e3<t)&&(i.splice(n,1),e=!0)}e&&a()}},l=function(){o||(o=setTimeout(function(){a(),o=null},400))},c={using:{},setUsing:function(e){c.using[e]=!0},removeUsing:function(e){delete c.using[e]},getFileId:function(e,t,n,i){return e.name&&e.size&&e.lastModifiedDate&&t?r.md5([e.name,e.size,e.lastModifiedDate,t,n,i].join("::")):null},getUploadIdList:function(e){if(!e)return null;s.call(this);for(var t=[],n=0;n<i.length;n++)i[n][0]===e&&t.push(i[n][1]);return t.length?t:null},saveUploadId:function(e,t,n){if(s.call(this),e){for(var o=i.length-1;o>=0;o--){var r=i[o];r[0]===e&&r[1]===t&&i.splice(o,1)}i.unshift([e,t,Math.round(Date.now()/1e3)]),i.length>n&&i.splice(n),l()}},removeUploadId:function(e){s.call(this),delete c.using[e];for(var t=i.length-1;t>=0;t--)i[t][1]===e&&i.splice(t,1);l()}};e.exports=c},alfZ:function(e,t){function n(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(o,"")}var i=new RegExp("^([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�])|^((x|X)(m|M)(l|L))|([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�-.0-9·̀-ͯ‿⁀])","g"),o=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,r=function(e){var t=[];if(e instanceof Object)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},a=function(e,t){var o=function(e,n,o,r,a){var s=void 0!==t.indent?t.indent:"\t",l=t.prettyPrint?"\n"+new Array(r).join(s):"";t.removeIllegalNameCharacters&&(e=e.replace(i,"_"));var c=[l,"<",e,o||""];return n&&n.length>0?(c.push(">"),c.push(n),a&&c.push(l),c.push("</"),c.push(e),c.push(">")):c.push("/>"),c.join("")};return function e(i,a,s){var l=typeof i;switch((Array.isArray?Array.isArray(i):i instanceof Array)?l="array":i instanceof Date&&(l="date"),l){case"array":var c=[];return i.map(function(t){c.push(e(t,1,s+1))}),t.prettyPrint&&c.push("\n"),c.join("");case"date":return i.toJSON?i.toJSON():i+"";case"object":var u=[];for(var d in i)if(i.hasOwnProperty(d))if(i[d]instanceof Array)for(var h=0;h<i[d].length;h++)i[d].hasOwnProperty(h)&&u.push(o(d,e(i[d][h],0,s+1),null,s+1,r(i[d][h]).length));else u.push(o(d,e(i[d],0,s+1),null,s+1));return t.prettyPrint&&u.length>0&&u.push("\n"),u.join("");case"function":return i();default:return t.escape?n(i):""+i}}(e,0,0)},s=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};e.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(e){return!1}var n="",i="";return t&&("object"==typeof t?(t.xmlHeader&&(n=s(!!t.xmlHeader.standalone)),void 0!==t.docType&&(i="<!DOCTYPE "+t.docType+">")):n=s()),[n,(t=t||{}).prettyPrint&&i?"\n":"",i,a(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},bKzt:function(e,t,n){function i(e,t){var n=e.TaskId,i=e.Bucket,a=e.Region,s=e.Key,l=e.StorageClass,p=this,f={},m=e.FileSize,g=e.SliceSize,y=Math.ceil(m/g),v=0,b=h.throttleOnProgress.call(p,m,e.onHashProgress),_=function(t,n){var i=g*(t-1),o=Math.min(i+g,m),r=o-i;f[t]?n(null,{PartNumber:t,ETag:f[t],Size:r}):h.fileSlice(e.Body,i,o,!1,function(e){h.getFileMd5(e,function(e,i){if(e)return n(h.error(e));var o='"'+i+'"';f[t]=o,1,b({loaded:v+=r,total:m}),n(null,{PartNumber:t,ETag:o,Size:r})})})},C=new d;C.on("error",function(e){if(p._isRunningTask(n))return t(e)}),C.on("upload_id_available",function(e){var n={},i=[];h.each(e.PartList,function(e){n[e.PartNumber]=e});for(var o=1;o<=y;o++){var r=n[o];r?(r.PartNumber=o,r.Uploaded=!0):r={PartNumber:o,ETag:null,Uploaded:!1},i.push(r)}e.PartList=i,t(null,e)}),C.on("no_available_upload_id",function(){if(p._isRunningTask(n)){var o=h.extend({Bucket:i,Region:a,Key:s,Headers:h.clone(e.Headers),Query:h.clone(e.Query),StorageClass:l,Body:e.Body},e);p.multipartInit(o,function(e,i){if(p._isRunningTask(n)){if(e)return C.emit("error",e);var o=i.UploadId;if(!o)return t(h.error(new Error("no such upload id")));C.emit("upload_id_available",{UploadId:o,PartList:[]})}})}}),C.on("has_and_check_upload_id",function(e){e=e.reverse(),u.eachLimit(e,1,function(e,t){if(p._isRunningTask(n))return c.using[e]?void t():void r.call(p,{Bucket:i,Region:a,Key:s,UploadId:e},function(i,o){if(p._isRunningTask(n)){if(i)return c.removeUsing(e),C.emit("error",i);var r=o.PartList;r.forEach(function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""}),function(e,t){var n=e.length;if(0===n)return t(null,!0);if(n>y)return t(null,!1);if(n>1&&Math.max(e[0].Size,e[1].Size)!==g)return t(null,!1);var i=function(o){if(o<n){var r=e[o];_(r.PartNumber,function(e,n){n&&n.ETag===r.ETag&&n.Size===r.Size?i(o+1):t(null,!1)})}else t(null,!0)};i(0)}(r,function(i,o){if(p._isRunningTask(n))return i?C.emit("error",i):void(o?t({UploadId:e,PartList:r}):t())})}})},function(e){p._isRunningTask(n)&&(b(null,!0),e&&e.UploadId?C.emit("upload_id_available",e):C.emit("no_available_upload_id"))})}),C.on("seek_local_avail_upload_id",function(t){var o=c.getFileId(e.Body,e.ChunkSize,i,s),l=c.getUploadIdList.call(p,o);if(o&&l){var u=function(e){if(!(e>=l.length)){var o=l[e];return h.isInArray(t,o)?c.using[o]?void u(e+1):void r.call(p,{Bucket:i,Region:a,Key:s,UploadId:o},function(t,i){p._isRunningTask(n)&&(t?(c.removeUploadId.call(p,o),u(e+1)):C.emit("upload_id_available",{UploadId:o,PartList:i.PartList}))}):(c.removeUploadId.call(p,o),void u(e+1))}C.emit("has_and_check_upload_id",t)};u(0)}else C.emit("has_and_check_upload_id",t)}),C.on("get_remote_upload_id_list",function(){o.call(p,{Bucket:i,Region:a,Key:s},function(t,o){if(p._isRunningTask(n)){if(t)return C.emit("error",t);var r=h.filter(o.UploadList,function(e){return e.Key===s&&(!l||e.StorageClass.toUpperCase()===l.toUpperCase())}).reverse().map(function(e){return e.UploadId||e.UploadID});if(r.length)C.emit("seek_local_avail_upload_id",r);else{var a,u=c.getFileId(e.Body,e.ChunkSize,i,s);u&&(a=c.getUploadIdList.call(p,u))&&h.each(a,function(e){c.removeUploadId.call(p,e)}),C.emit("no_available_upload_id")}}})}),C.emit("get_remote_upload_id_list")}function o(e,t){var n=this,i=[],o={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key},r=function(){n.multipartList(o,function(e,n){if(e)return t(e);i.push.apply(i,n.Upload||[]),"true"===n.IsTruncated?(o.KeyMarker=n.NextKeyMarker,o.UploadIdMarker=n.NextUploadIdMarker,r()):t(null,{UploadList:i})})};r()}function r(e,t){var n=this,i=[],o={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId},r=function(){n.multipartListPart(o,function(e,n){if(e)return t(e);i.push.apply(i,n.Part||[]),"true"===n.IsTruncated?(o.PartNumberMarker=n.NextPartNumberMarker,r()):t(null,{PartList:i})})};r()}function a(e,t){var n=this,i=e.TaskId,o=e.Bucket,r=e.Region,a=e.Key,l=e.UploadData,c=e.FileSize,d=e.SliceSize,p=Math.min(e.AsyncLimit||n.options.ChunkParallelLimit||1,256),f=e.Body,m=Math.ceil(c/d),g=0,y=e.ServerSideEncryption,v=h.filter(l.PartList,function(e){return e.Uploaded&&(g+=e.PartNumber>=m&&c%d||d),!e.Uploaded}),b=e.onProgress;u.eachLimit(v,p,function(e,t){if(n._isRunningTask(i)){var u=e.PartNumber,h=Math.min(c,e.PartNumber*d)-(e.PartNumber-1)*d,p=0;s.call(n,{TaskId:i,Bucket:o,Region:r,Key:a,SliceSize:d,FileSize:c,PartNumber:u,ServerSideEncryption:y,Body:f,UploadData:l,onProgress:function(e){g+=e.loaded-p,p=e.loaded,b({loaded:g,total:c})}},function(o,r){n._isRunningTask(i)&&(o||r.ETag||(o='get ETag error, please add "ETag" to CORS ExposeHeader setting.'),o?g-=p:(g+=h-p,e.ETag=r.ETag),b({loaded:g,total:c}),t(o||null,r))})}},function(e){if(n._isRunningTask(i))return e?t(e):void t(null,{UploadId:l.UploadId,SliceList:l.PartList})})}function s(e,t){var n=this,i=e.TaskId,o=e.Bucket,r=e.Region,a=e.Key,s=e.FileSize,l=e.Body,c=1*e.PartNumber,d=e.SliceSize,p=e.ServerSideEncryption,f=e.UploadData,m=n.options.ChunkRetryTimes+1,g=d*(c-1),y=d,v=g+d;v>s&&(y=(v=s)-g);var b=f.PartList[c-1];u.retry(m,function(t){n._isRunningTask(i)&&h.fileSlice(l,g,v,!0,function(s){n.multipartUpload({TaskId:i,Bucket:o,Region:r,Key:a,ContentLength:y,PartNumber:c,UploadId:f.UploadId,ServerSideEncryption:p,Body:s,onProgress:e.onProgress},function(e,o){if(n._isRunningTask(i))return e?t(e):(b.Uploaded=!0,t(null,o))})})},function(e,o){if(n._isRunningTask(i))return t(e,o)})}function l(e,t){var n=e.Bucket,i=e.Region,o=e.Key,r=e.UploadId,a=e.SliceList,s=this,l=this.options.ChunkRetryTimes+1,c=e.Headers,d=a.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});u.retry(l,function(e){s.multipartComplete({Bucket:n,Region:i,Key:o,UploadId:r,Parts:d,Headers:c},e)},function(e,n){t(e,n)})}var c=n("ZJ1x"),u=n("Spne"),d=n("Ka6X").EventProxy,h=n("wImY"),p={sliceUploadFile:function(e,t){var n,o,r=this,s=new d,u=e.TaskId,p=e.Bucket,f=e.Region,m=e.Key,g=e.Body,y=e.ChunkSize||e.SliceSize||r.options.ChunkSize,v=e.AsyncLimit,b=e.StorageClass,_=e.ServerSideEncryption,C=e.onHashProgress;s.on("error",function(e){if(r._isRunningTask(u))return t(e)}),s.on("upload_complete",function(e){t(null,e)}),s.on("upload_slice_complete",function(t){var i={};h.each(e.Headers,function(e,t){var n=t.toLowerCase();0!==n.indexOf("x-cos-meta-")&&"pic-operations"!==n||(i[t]=e)}),l.call(r,{Bucket:p,Region:f,Key:m,UploadId:t.UploadId,SliceList:t.SliceList,Headers:i},function(e,i){if(r._isRunningTask(u)){if(c.removeUsing(t.UploadId),e)return o(null,!0),s.emit("error",e);c.removeUploadId.call(r,t.UploadId),o({loaded:n,total:n},!0),s.emit("upload_complete",i)}})}),s.on("get_upload_data_finish",function(t){var i=c.getFileId(g,e.ChunkSize,p,m);i&&c.saveUploadId.call(r,i,t.UploadId,r.options.UploadIdCacheLimit),c.setUsing(t.UploadId),o(null,!0),a.call(r,{TaskId:u,Bucket:p,Region:f,Key:m,Body:g,FileSize:n,SliceSize:y,AsyncLimit:v,ServerSideEncryption:_,UploadData:t,onProgress:o},function(e,t){if(r._isRunningTask(u))return e?(o(null,!0),s.emit("error",e)):void s.emit("upload_slice_complete",t)})}),s.on("get_file_size_finish",function(){if(o=h.throttleOnProgress.call(r,n,e.onProgress),e.UploadData.UploadId)s.emit("get_upload_data_finish",e.UploadData);else{var t=h.extend({TaskId:u,Bucket:p,Region:f,Key:m,Headers:e.Headers,StorageClass:b,Body:g,FileSize:n,SliceSize:y,onHashProgress:C},e);i.call(r,t,function(t,n){if(r._isRunningTask(u)){if(t)return s.emit("error",t);e.UploadData.UploadId=n.UploadId,e.UploadData.PartList=n.PartList,s.emit("get_upload_data_finish",e.UploadData)}})}}),n=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),h.each(e.Headers,function(t,n){"content-length"===n.toLowerCase()&&delete e.Headers[n]}),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],i=1048576,o=0;o<t.length&&!(n/(i=1024*t[o]*1024)<=r.options.MaxPartNumber);o++);e.ChunkSize=e.SliceSize=y=Math.max(y,i)}(),0===n?(e.Body="",e.ContentLength=0,e.SkipTask=!0,r.putObject(e,t)):s.emit("get_file_size_finish")},abortUploadTask:function(e,t){var n=e.Bucket,i=e.Region,r=e.Key,a=e.UploadId,s=e.Level||"task",l=e.AsyncLimit,c=this,p=new d;if(p.on("error",function(e){return t(e)}),p.on("get_abort_array",function(o){(function(e,t){var n=e.Bucket,i=e.Region,o=e.Key,r=e.AbortArray,a=e.AsyncLimit||1,s=this,l=0,c=new Array(r.length);u.eachLimit(r,a,function(t,r){var a=l;if(o&&o!==t.Key)return c[a]={error:{KeyNotMatch:!0}},void r(null);var u=t.UploadId||t.UploadID;s.multipartAbort({Bucket:n,Region:i,Key:t.Key,Headers:e.Headers,UploadId:u},function(e){var o={Bucket:n,Region:i,Key:t.Key,UploadId:u};c[a]={error:e,task:o},r(null)}),l++},function(e){if(e)return t(e);for(var n=[],i=[],o=0,r=c.length;o<r;o++){var a=c[o];a.task&&(a.error?i.push(a.task):n.push(a.task))}return t(null,{successList:n,errorList:i})})}).call(c,{Bucket:n,Region:i,Key:r,Headers:e.Headers,AsyncLimit:l,AbortArray:o},t)}),"bucket"===s)o.call(c,{Bucket:n,Region:i},function(e,n){if(e)return t(e);p.emit("get_abort_array",n.UploadList||[])});else if("file"===s){if(!r)return t(h.error(new Error("abort_upload_task_no_key")));o.call(c,{Bucket:n,Region:i,Key:r},function(e,n){if(e)return t(e);p.emit("get_abort_array",n.UploadList||[])})}else{if("task"!==s)return t(h.error(new Error("abort_unknown_level")));if(!a)return t(h.error(new Error("abort_upload_task_no_id")));if(!r)return t(h.error(new Error("abort_upload_task_no_key")));p.emit("get_abort_array",[{Key:r,UploadId:a}])}},uploadFiles:function(e,t){var n=this,i=void 0===e.SliceSize?n.options.SliceSize:e.SliceSize,o=0,r=0,a=h.throttleOnProgress.call(n,r,e.onProgress),s=e.files.length,l=e.onFileFinish,c=Array(s),u=function(e,n,i){a(null,!0),l&&l(e,n,i),c[i.Index]={options:i,error:e,data:n},--s<=0&&t&&t(null,{files:c})},d=[];h.each(e.files,function(e,t){!function(){var n=e.Body,s=n.size||n.length||0,l={Index:t,TaskId:""};o+=s,h.each(e,function(e,t){"object"!=typeof e&&"function"!=typeof e&&(l[t]=e)});var c=e.onTaskReady;e.onTaskReady=function(e){l.TaskId=e,c&&c(e)};var p=0,f=e.onProgress;e.onProgress=function(e){r=r-p+e.loaded,p=e.loaded,f&&f(e),a({loaded:r,total:o})};var m=e.onFileFinish,g=s>i?"sliceUploadFile":"putObject";d.push({api:g,params:e,callback:function(e,t){m&&m(e,t),u&&u(e,t,l)}})}()}),n._addTasks(d)},sliceCopyFile:function(e,t){var n=new d,i=this,o=e.Bucket,r=e.Region,a=e.Key,s=e.CopySource,l=s.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(l){var c=l[1],p=l[3],f=decodeURIComponent(l[4]),m=void 0===e.CopySliceSize?i.options.CopySliceSize:e.CopySliceSize;m=Math.max(0,m);var g,y,v=e.CopyChunkSize||this.options.CopyChunkSize,b=this.options.CopyChunkParallelLimit,_=0;n.on("copy_slice_complete",function(n){var s={};h.each(e.Headers,function(e,t){0===t.toLowerCase().indexOf("x-cos-meta-")&&(s[t]=e)});var l=h.map(n.PartList,function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});i.multipartComplete({Bucket:o,Region:r,Key:a,UploadId:n.UploadId,Parts:l},function(e,n){if(e)return y(null,!0),t(e);y({loaded:g,total:g},!0),t(null,n)})}),n.on("get_copy_data_finish",function(e){u.eachLimit(e.PartList,b,function(t,n){var l=t.PartNumber,c=t.CopySourceRange,d=t.end-t.start;(function(e,t){var n=e.TaskId,i=e.Bucket,o=e.Region,r=e.Key,a=e.CopySource,s=e.UploadId,l=1*e.PartNumber,c=e.CopySourceRange,d=this.options.ChunkRetryTimes+1,h=this;u.retry(d,function(e){h.uploadPartCopy({TaskId:n,Bucket:i,Region:o,Key:r,CopySource:a,UploadId:s,PartNumber:l,CopySourceRange:c},function(t,n){e(t||null,n)})},function(e,n){return t(e,n)})}).call(i,{Bucket:o,Region:r,Key:a,CopySource:s,UploadId:e.UploadId,PartNumber:l,CopySourceRange:c},function(e,i){if(e)return n(e);y({loaded:_+=d,total:g}),t.ETag=i.ETag,n(e||null,i)})},function(i){if(i)return y(null,!0),t(i);n.emit("copy_slice_complete",e)})}),n.on("get_file_size_finish",function(s){var l;if(function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,o=0;o<t.length&&!(g/(n=1024*t[o]*1024)<=i.options.MaxPartNumber);o++);e.ChunkSize=v=Math.max(v,n);for(var r=Math.ceil(g/v),a=[],s=1;s<=r;s++){var l=(s-1)*v,c=s*v<g?s*v-1:g-1,u={PartNumber:s,start:l,end:c,CopySourceRange:"bytes="+l+"-"+c};a.push(u)}e.PartList=a}(),(l="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:s)["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||s["x-cos-storage-class"],l=h.clearKey(l),"ARCHIVE"===s["x-cos-storage-class"]||"DEEP_ARCHIVE"===s["x-cos-storage-class"]){var c=s["x-cos-restore"];if(!c||'ongoing-request="true"'===c)return void t(h.error(new Error("Unrestored archive object is not allowed to be copied")))}delete l["x-cos-copy-source"],delete l["x-cos-metadata-directive"],delete l["x-cos-copy-source-If-Modified-Since"],delete l["x-cos-copy-source-If-Unmodified-Since"],delete l["x-cos-copy-source-If-Match"],delete l["x-cos-copy-source-If-None-Match"],i.multipartInit({Bucket:o,Region:r,Key:a,Headers:l},function(i,o){if(i)return t(i);e.UploadId=o.UploadId,n.emit("get_copy_data_finish",e)})}),i.headObject({Bucket:c,Region:p,Key:f},function(o,r){if(o)t(o.statusCode&&404===o.statusCode?h.error(o,{ErrorStatus:f+" Not Exist"}):o);else if(void 0!==(g=e.FileSize=r.headers["content-length"])&&g)if(y=h.throttleOnProgress.call(i,g,e.onProgress),g<=m)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),i.putObjectCopy(e,function(e,n){if(e)return y(null,!0),t(e);y({loaded:g,total:g},!0),t(e,n)});else{var a=r.headers,s={"Cache-Control":a["cache-control"],"Content-Disposition":a["content-disposition"],"Content-Encoding":a["content-encoding"],"Content-Type":a["content-type"],Expires:a.expires,"x-cos-storage-class":a["x-cos-storage-class"]};h.each(a,function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(s[t]=e)}),n.emit("get_file_size_finish",s)}else t(h.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.')))})}else t(h.error(new Error("CopySource format error")))}};e.exports.init=function(e,t){t.transferToTaskMethod(p,"sliceUploadFile"),h.each(p,function(t,n){e.prototype[n]=h.apiWrapper(n,t)})}},bSM7:function(e,t,n){"use strict";var i={403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404",desc:"抱歉，你访问的页面不存在或仍在开发中"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500",desc:"抱歉，服务器出错了"}},o={name:"ExceptionPage",props:["type"],data:function(){return{config:i}},methods:{returnHome:function(){this.$router.push("/")}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exception"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.config[e.type].img}})]),e._v(" "),n("div",{staticClass:"content"},[n("h1",[e._v(e._s(e.config[e.type].title))]),e._v(" "),n("div",{staticClass:"desc"},[e._v(e._s(e.config[e.type].desc))]),e._v(" "),n("div",{staticClass:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.returnHome}},[e._v("带我回首页")])],1)])])},staticRenderFns:[]},a=n("VU/8")(o,r,!1,function(e){n("Qkpl")},"data-v-492df478",null);t.a=a.exports},dAEq:function(e,t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=42)}([function(e,t){e.exports=function(e,t,n,i){var o,r=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,r=e.default);var s="function"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),i){var l=s.computed||(s.computed={});Object.keys(i).forEach(function(e){var t=i[e];l[e]=function(){return t}})}return{esModule:o,exports:r,options:s}}},function(e,t,n){var i,o,r;o=[e,t],void 0!==(r="function"==typeof(i=function(e,t){"use strict";function n(){var e=this.unload,t=this.renderByParent,n=this.$parent;t&&n.reload(),e()}Object.defineProperty(t,"__esModule",{value:!0});var i={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},o=function e(t){return t.abstract||t.$el===t.$children[0].$el?e(t.$parent):t},r=function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.methods={ready:function(){var e=o(this.$parent),t=this.BMap=e.BMap,n=this.map=e.map;this.load(),this.$emit("ready",{BMap:t,map:n})},transmitEvent:function(e){this.$emit(e.type.replace(/^on/,""),e)},reload:function(){var e=this;this&&this.BMap&&this.$nextTick(function(){e.unload(),e.$nextTick(e.load)})},unload:function(){var e=this.map,n=this.originInstance;try{switch(t.type){case"search":return n.clearResults();case"autoComplete":case"lushu":return n.dispose();case"markerClusterer":return n.clearMarkers();default:e[i[t.type].unload](n)}}catch(e){}}},this.computed={renderByParent:function(){return this.$parent.preventChildrenRender}},this.mounted=function(){var e=o(this.$parent),t=e.map,n=this.ready;t?n():e.$on("ready",n)},this.destroyed=n,this.beforeDestroy=n};t.default=function(e){return new r({type:e})},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[t],void 0!==(r="function"==typeof(i=function(e){"use strict";function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lng,i=t.lat;return new e.Point(n,i)}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,i=t.height;return new e.Size(n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.createPoint=t,e.createPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.x,i=t.y;return new e.Pixel(n,i)},e.createBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.sw,o=n.ne;return new e.Bounds(t(e,i),t(e,o))},e.createSize=n,e.createIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.url,o=t.size,r=t.opts,a=void 0===r?{}:r;return new e.Icon(i,n(e,o),{anchor:a.anchor&&n(e,a.anchor),imageSize:a.imageSize&&n(e,a.imageSize),imageOffset:a.imageOffset&&n(e,a.imageOffset),infoWindowAnchor:a.infoWindowAnchor&&n(e,a.infoWindowAnchor),printImageUrl:a.printImageUrl})},e.createLabel=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.content,r=i.opts;return new e.Label(o,{offset:r.offset&&n(e,r.offset),position:r.position&&t(e,r.position),enableMassClear:r.enableMassClear})}})?i.apply(t,o):i)&&(e.exports=r)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i,o,r;o=[e,t,n(41)],void 0!==(r="function"==typeof(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this,o=t||i.default[this.$options.name];o&&o.forEach(function(t){var i="on"===t.slice(0,2),o=i?t.slice(2):t,r=n.$listeners[o];r&&e.addEventListener(t,r.fns)})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[t,n(2)],void 0!==(r="function"==typeof(i=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosition=e.checkType=e.isPoint=void 0;var n=e.isPoint=function(e){return e.lng&&e.lat};e.checkType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e.getPosition=function(e,i){return n(i)?(0,t.createPoint)(e,i):i}})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i=n(0)(n(71),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(43),n(89),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(44),n(87),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(45),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(46),n(94),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(47),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(48),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(49),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(50),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(51),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(52),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(53),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(54),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(55),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(56),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(57),n(90),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(58),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(59),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(60),n(97),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(61),n(82),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(62),n(95),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(63),n(86),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(64),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(65),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(66),n(83),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(67),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(68),n(96),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(69),n(84),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(70),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(72),null,null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(73),n(91),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(74),n(85),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(75),n(93),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(76),n(92),null,null);e.exports=i.exports},function(e,t,n){var i=n(0)(n(77),n(88),null,null);e.exports=i.exports},function(e,t,n){var i,o,r;o=[e,t],void 0!==(r="function"==typeof(i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[t,n(24),n(25),n(17),n(14),n(13),n(15),n(12),n(11),n(9),n(16),n(10),n(32),n(34),n(35),n(6),n(28),n(29),n(31),n(30),n(33),n(8),n(7),n(38),n(39),n(40),n(37),n(36),n(22),n(23),n(27),n(26),n(21),n(20),n(19),n(18)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,y,v,b,_,C,k,x,w,S,I,B,M,R,E,T,A,O,P,N){"use strict";function D(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BmlCurveLine=e.BmlHeatmap=e.BmlLushu=e.BmlMarkerClusterer=e.BmAutoComplete=e.BmBoundary=e.BmTraffic=e.BmTile=e.BmBus=e.BmDriving=e.BmWalking=e.BmTransit=e.BmLocalSearch=e.BmContextMenuItem=e.BmContextMenu=e.BmOverlay=e.BmInfoWindow=e.BmLabel=e.BmGround=e.BmCircle=e.BmPolygon=e.BmPolyline=e.BmPointCollection=e.BmMarker=e.BmControl=e.BmPanorama=e.BmCityList=e.BmCopyright=e.BmGeolocation=e.BmOverviewMap=e.BmMapType=e.BmNavigation=e.BmScale=e.BmView=e.BaiduMap=void 0;var L=D(t),U=D(n),j=D(i),F=D(o),H=D(r),z=D(a),$=D(s),K=D(l),V=D(c),W=D(u),q=D(d),G=D(h),X=D(p),Z=D(f),J=D(m),Q=D(g),Y=D(y),ee=D(v),te=D(b),ne=D(_),ie=D(C),oe=D(k),re=D(x),ae=D(w),se=D(S),le=D(I),ce=D(B),ue=D(M),de=D(R),he=D(E),pe=D(T),fe=D(A),me=D(O),ge=D(P),ye=D(N);e.default={install:function(e,t){var n=t.ak;e.prototype._BMap=function(){return{ak:n}},e.component("baidu-map",L.default),e.component("bm-view",U.default),e.component("bm-scale",j.default),e.component("bm-navigation",F.default),e.component("bm-map-type",H.default),e.component("bm-overview-map",z.default),e.component("bm-geolocation",$.default),e.component("bm-copyright",K.default),e.component("bm-city-list",V.default),e.component("bm-panorama",W.default),e.component("bm-control",q.default),e.component("bm-marker",G.default),e.component("bm-point-collection",X.default),e.component("bm-polyline",Z.default),e.component("bm-polygon",J.default),e.component("bm-circle",Q.default),e.component("bm-ground",Y.default),e.component("bm-label",ee.default),e.component("bm-info-window",te.default),e.component("bm-overlay",ne.default),e.component("bm-context-menu",ie.default),e.component("bm-context-menu-item",oe.default),e.component("bm-local-search",re.default),e.component("bm-transit",ae.default),e.component("bm-walking",se.default),e.component("bm-driving",le.default),e.component("bm-bus",ce.default),e.component("bm-tile",ue.default),e.component("bm-traffic",de.default),e.component("bm-auto-complete",pe.default),e.component("bm-boundary",he.default)}},e.BaiduMap=L.default,e.BmView=U.default,e.BmScale=j.default,e.BmNavigation=F.default,e.BmMapType=H.default,e.BmOverviewMap=z.default,e.BmGeolocation=$.default,e.BmCopyright=K.default,e.BmCityList=V.default,e.BmPanorama=W.default,e.BmControl=q.default,e.BmMarker=G.default,e.BmPointCollection=X.default,e.BmPolyline=Z.default,e.BmPolygon=J.default,e.BmCircle=Q.default,e.BmGround=Y.default,e.BmLabel=ee.default,e.BmInfoWindow=te.default,e.BmOverlay=ne.default,e.BmContextMenu=ie.default,e.BmContextMenuItem=oe.default,e.BmLocalSearch=re.default,e.BmTransit=ae.default,e.BmWalking=se.default,e.BmDriving=le.default,e.BmBus=ce.default,e.BmTile=ue.default,e.BmTraffic=de.default,e.BmBoundary=he.default,e.BmAutoComplete=pe.default,e.BmlMarkerClusterer=fe.default,e.BmlLushu=me.default,e.BmlHeatmap=ge.default,e.BmlCurveLine=ye.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t],void 0!==(r="function"==typeof(i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bm-context-menu-item",props:{callback:{type:Function,default:function(){}},text:{type:String},iconUrl:{type:String},id:{type:String},disabled:{type:Boolean},seperator:{type:Boolean}},methods:{reload:function(){this.$parent.map&&this.$parent.load()}},watch:{text:function(){this.reload()},iconUrl:function(){this.reload()},id:function(){this.reload()},disabled:function(){this.reload()},iseperator:function(){this.reload()},callback:function(){this.reload()}},destroyed:function(){this.reload()},mounted:function(){this.reload()}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1)],void 0!==(r="function"==typeof(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-context-menu",props:{width:{type:Number}},mixins:[(0,i.default)("contextMenu")],methods:{load:function(){var e=this.width,t=this.BMap,n=this.map,i=this.$parent,o=this.parent=i.originInstance||n;this.originInstance&&o.removeContextMenu(this.originInstance);var r=this.originInstance=new t.ContextMenu,a=!0,s=!1,l=void 0;try{for(var c,u=this.$children[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)!function(){var i=c.value;if(i.seperator)return r.addSeparator(),"continue";var a=new t.MenuItem(i.text,function(e,r){i.callback({point:e,pixel:r,BMap:t,map:n,target:o})},{width:e,id:i.id,iconUrl:i.iconUrl});i.disabled?a.disable():a.enable(),i.originInstance=a,r.addItem(a)}()}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}o.addContextMenu(r)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-city-list",render:function(){},mixins:[(0,r.default)("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset,a=this;this.originInstance=new e.CityListControl({anchor:i[n],offset:r&&(0,o.createSize)(e,r),onChangeBefore:function(){a.$emit("changeBefore")},onChangeAfter:function(){a.$emit("changeAfter")}}),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-control",mixins:[(0,r.default)("control")],props:["anchor","offset"],watch:{anchor:function(e){this.originInstance.setAnchor(e)},offset:function(e){this.originInstance.setOffset(e)}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset,a=this.$el,s=function(){this.defaultAnchor=i[n||"BMAP_ANCHOR_TOP_LEFT"],this.defaultOffset=(0,o.createSize)(e,r)};(s.prototype=new e.Control).initialize=function(e){return e.getContainer().appendChild(a)},this.originInstance=new s(n,r),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-copyright",render:function(){},mixins:[(0,r.default)("control")],props:["anchor","offset","copyright"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},copyright:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.offset,r=this.anchor,a=this.updateCopyrightList;this.originInstance=new e.CopyrightControl({anchor:i[r],offset:n&&(0,o.createSize)(e,n)}),a(),t.addControl(this.originInstance)},updateCopyrightList:function(){var e=this,t=this.BMap,n=this.map,i=this.originInstance,o=i.removeCopyright,r=i.getCopyrightCollection,a=r();a&&a.forEach(function(e){o(e.id)}),this.copyright&&this.copyright.forEach(function(i){var o=i.bounds?new t.Bounds(new t.Point(i.bounds.sw.lng,i.bounds.sw.lat),new t.Point(i.bounds.ne.lng,i.bounds.ne.lat)):n.getBounds();e.originInstance.addCopyright({id:i.id,content:i.content,bounds:o}),e.originInstance.getCopyrightCollection()})}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n),l=a(o);t.default={name:"bm-geolocation",render:function(){},mixins:[(0,s.default)("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},showAddressBar:function(){this.reload()},autoLocation:function(){this.reload()},locationIcon:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,o=this.showAddressBar,a=this.autoLocation,s=this.locationIcon,c=this.offset;this.originInstance=new e.GeolocationControl({anchor:i[n],showAddressBar:o,enableAutoLocation:a,offset:c&&(0,r.createSize)(e,c),locationIcon:s&&(0,r.createIcon)(e,s)}),l.default.call(this,this.originInstance),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(4),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-map-type",render:function(){},mixins:[(0,r.default)("control")],props:["type","mapTypes","anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},mapTypes:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset,a=this.type,s=[];this.mapTypes&&this.mapTypes.forEach(function(e){return s.push(i[e])}),this.originInstance=new e.MapTypeControl({anchor:i[n],offset:r&&(0,o.createSize)(e,r),type:i[a],mapTypes:s}),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-navigation",render:function(){},mixins:[(0,r.default)("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},showZoomInfo:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset,a=this.type,s=this.showZoomInfo,l=this.enableGeolocation;this.originInstance=new e.NavigationControl({anchor:i[n],offset:r&&(0,o.createSize)(e,r),type:i[a],showZoomInfo:s,enableGeolocation:l}),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(o),l=a(r);t.default={name:"bm-overview-map",mixins:[(0,s.default)("control")],render:function(){},props:{anchor:{type:String},offset:{type:Object},size:{type:Object},isOpen:{type:Boolean}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},size:function(){this.reload()},isOpen:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,o=this.isOpen,r=this.size,a=this.offset,s=this.anchor,c=[];this.mapTypes&&this.mapTypes.forEach(function(e){c.push(i[e])}),this.originInstance=new e.OverviewMapControl({anchor:i[s],offset:(0,n.createSize)(e,a),size:(0,n.createSize)(e,r),isOpen:o}),l.default.call(this,this.originInstance),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(2),n(1),n(4)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-panorama",mixins:[(0,r.default)("control")],render:function(){},props:["anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset;this.originInstance=new e.PanoramaControl({anchor:i[n],offset:r&&(0,o.createSize)(e,r)}),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-scale",render:function(){},mixins:[(0,r.default)("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.anchor,r=this.offset;this.originInstance=new e.ScaleControl({anchor:i[n],offset:r&&(0,o.createSize)(e,r)}),t.addControl(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(78),n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n),l=a(i),c=a(o),u=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"];t.default={name:"bml-curve-line",render:function(){},mixins:[(0,l.default)("overlay")],props:{points:{type:Array,default:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{points:{handler:function(e,t){this.originInstance.disableEditing(),this.reload()},deep:!0},strokeColor:function(e){this.originInstance.setStrokeColor(e)},strokeOpacity:function(e){this.originInstance.setStrokeOpacity(e)},strokeWeight:function(e){this.originInstance.setStrokeWeight(e)},strokeStyle:function(e){this.originInstance.setStrokeStyle(e)},editing:function(e){e?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(e){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.points,i=this.strokeColor,o=this.strokeWeight,a=this.strokeOpacity,l=this.strokeStyle,d=this.editing,h=this.massClear,p=this.clicking,f=new s.default(n.map(function(t){return(0,r.createPoint)(e,t)}),{strokeColor:i,strokeWeight:o,strokeOpacity:a,strokeStyle:l,enableMassClear:h,enableClicking:p});d?f.enableEditing():f.disableEditing(),this.originInstance=f,t.addOverlay(f),c.default.call(this,f,u)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(79)],void 0!==(r="function"==typeof(i=function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n),a=o(i);t.default={name:"bml-heatmap",render:function(){},mixins:[(0,r.default)("overlay")],props:{data:{type:Array,default:Array},max:{type:Number},radius:{type:Number},gradient:{type:Object},opacity:{type:Number}},watch:{data:{handler:function(){this.reload()},deep:!0},max:function(){this.reload()},radius:function(e){var t=this.originInstance,n=this.opacity,i=this.gradient;t.setOptions({radius:e,opacity:n,gradient:i})},gradient:{handler:function(e){var t=this.originInstance,n=this.radius,i=this.opacity;t.setOptions({radius:n,opacity:i,gradient:e})},deep:!0},opacity:function(e){var t=this.originInstance,n=this.radius,i=this.gradient;t.setOptions({radius:n,opacity:e,gradient:i})}},methods:{load:function(){var e=this.map,t=this.data,n=this.max,i=this.radius,o=this.opacity,r=this.gradient,s=this.originInstance=new a.default({radius:i,opacity:o,gradient:r});e.addOverlay(s),s.setDataSet({data:t,max:n})}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(2),n(80)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(o);t.default={name:"bm-lushu",render:function(e){},mixins:[(0,a.default)("lushu")],props:{path:{type:Array,default:[]},landmarkPois:{type:Array,default:function(){return[]}},icon:{type:Object},speed:{type:Number,default:4e3},content:{type:String,default:""},autoView:{type:Boolean,default:!1},rotation:{type:Boolean,default:!1},infoWindow:{type:Boolean,default:!0},play:{type:Boolean,default:!0}},watch:{path:{handler:function(e){this.reload()},deep:!0},landmarkPois:{handler:function(e){this.reload()},deep:!0},icon:{handler:function(e){var t=this.originInstance,n=(this.content,(0,i.createIcon)(BMap,e));t._opts.icon=n,t._marker=n},deep:!0},speed:function(e){var t=this.originInstance;this.content,t._opts.speed=e},content:function(e){var t=this.originInstance,n=this.infoWindow;e&&n?t.showInfoWindow():t.hideInfoWindow(),t._opts.defaultContent=e,t._overlay&&t._overlay.setHtml(e)},autoView:function(e){var t=this.originInstance;this.content,t._opts.autoView=e},rotation:function(e){var t=this.originInstance;this.content,t._opts.enableRotation=e},infoWindow:function(e){var t=this.originInstance,n=this.content;t&&e&&n?t.showInfoWindow():t.hideInfoWindow()},play:function(e){var t=this.originInstance;e&&t?t.start():!this._isEnd&&t.pause()}},methods:{load:function(){var e=this,t=this.BMap,n=this.map,o=this.path,r=this.landmarkPois,a=this.icon,l=this.speed,c=this.content,u=this.autoView,d=this.rotation,h=this.infoWindow,p=this.play,f=this.originInstance=new s.default(n,o,{enableRotation:d,landmarkPois:r,showInfoWindow:h,defaultContent:c,icon:a&&(0,i.createIcon)(t,a),speed:l,autoView:u,onstart:function(t){e._isEnd=!1,e.$emit("start")},onstop:function(t){e._isEnd=!0,e.$emit("stop")},onpause:function(t){return e.$emit("pause")}});p&&o.length&&f.start(this),o.length&&(c&&h?f.showInfoWindow():f.hideInfoWindow())}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(81),n(2),n(1)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(o);t.default={name:"bml-marker-clusterer",mixins:[(0,s.default)("markerClusterer")],props:{gridSize:{type:Object},maxZoom:{type:Number},minClusterSize:{type:Number},styles:{type:Array,default:function(){return[]}},averageCenter:{type:Boolean,default:!1}},watch:{gridSize:{handler:function(e){var t=this.BMap;this.originInstance.setGridSize(t,e.map)},deep:!0},maxZoom:function(e){this.originInstance.setMaxZoom(e)},minClusterSize:{handler:function(e){var t=this.BMap;this.originInstance.setMinClusterSize((0,i.createSize)(t,e))},deep:!0},styles:{handler:function(e){var t=this.BMap,n=this.originInstance,o=JSON.parse(JSON.stringify(e)).map(function(e){return e.size=e.size&&(0,i.createSize)(t,e.size),e});n.setStyles(o)},deep:!0},averageCenter:function(e){this.reload()}},methods:{load:function(){var e=this,t=this.BMap,n=this.map,o=this.gridSize,r=this.minClusterSize,s=this.maxZoom,l=this.styles,c=this.averageCenter;this.originInstance=new a.default(n,{gridSize:o&&(0,i.createSize)(t,o),maxZoom:s,minClusterSize:r&&(0,i.createSize)(t,r),styles:l.map(function(e){return e.size=(0,i.createSize)(t,e.size),e}),isAverageCenter:c}),this.$nextTick(function(){var n=e.$children.map(function(e){return e.originInstance}).filter(function(e){return e instanceof t.Marker});e.originInstance.addMarkers(n)})}},beforeCreate:function(){this.preventChildrenRender=!0}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-tile",render:function(e){},mixins:[(0,o.default)("layer")],props:{transparentPng:{type:Boolean},tileUrlTemplate:{type:String},copyright:{},zIndex:{type:Number}},watch:{transparentPng:function(){this.reload()},tileUrlTemplate:function(){this.reload()},copyright:function(){this.reload()},zIndex:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.transparentPng,o=this.tileUrlTemplate,r=this.copyright,a=this.zIndex;this.originInstance=new e.TileLayer({transparentPng:n,tileUrlTemplate:o,copyright:r&&{id:r.id,content:r.content,bounds:r.bounds&&(0,i.createBounds)(r.bounds)},zIndex:a}),t.addTileLayer(this.originInstance)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1)],void 0!==(r="function"==typeof(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-triffic",render:function(e){},mixins:[(0,i.default)("layer")],props:{predictDate:{type:Object}},watch:{"pridictDate.weekday":function(){this.reload()},"pridictDate.hour":function(){this.reload()},pridictDate:function(){this.reload()}},methods:{load:function(){var e=this.pridictDate,t=this.BMap,n=this.map;this.originInstance=new t.TrafficLayer({pridictDate:e}),n.addTileLayer(this.originInstance)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(e,t){var n=this.map,i=this.zoom;"String"===(0,o.checkType)(e)&&e!==t&&n.centerAndZoom(e,i)},"center.lng":function(e,t){var n=this.BMap,i=this.map,o=this.zoom,r=this.center;e!==t&&e>=-180&&e<=180&&i.centerAndZoom(new n.Point(e,r.lat),o)},"center.lat":function(e,t){var n=this.BMap,i=this.map,o=this.zoom,r=this.center;e!==t&&e>=-74&&e<=74&&i.centerAndZoom(new n.Point(r.lng,e),o)},zoom:function(e,t){var n=this.map;e!==t&&e>=3&&e<=19&&n.setZoom(e)},minZoom:function(e){this.map.setMinZoom(e)},maxZoom:function(e){this.map.setMaxZoom(e)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(e){this.map.setMapType(i[e])},dragging:function(e){var t=this.map;e?t.enableDragging():t.disableDragging()},scrollWheelZoom:function(e){var t=this.map;e?t.enableScrollWheelZoom():t.disableScrollWheelZoom()},doubleClickZoom:function(e){var t=this.map;e?t.enableDoubleClickZoom():t.disableDoubleClickZoom()},keyboard:function(e){var t=this.map;e?t.enableKeyboard():t.disableKeyboard()},inertialDragging:function(e){var t=this.map;e?t.enableInertialDragging():t.disableInertialDragging()},continuousZoom:function(e){var t=this.map;e?t.enableContinuousZoom():t.disableContinuousZoom()},pinchToZoom:function(e){var t=this.map;e?t.enablePinchToZoom():t.disablePinchToZoom()},autoResize:function(e){var t=this.map;e?t.enableAutoResize():t.disableAutoResize()},theme:function(e){this.map.setMapStyle({styleJson:e})},"mapStyle.features":{handler:function(e,t){var n=this.map,i=this.mapStyle,o=i.style,r=i.styleJson;n.setMapStyle({styleJson:r,features:e,style:o})},deep:!0},"mapStyle.style":function(e,t){var n=this.map,i=this.mapStyle,o=i.features,r=i.styleJson;n.setMapStyle({styleJson:r,features:o,style:e})},"mapStyle.styleJson":{handler:function(e,t){var n=this.map,i=this.mapStyle,o=i.features,r=i.style;n.setMapStyle({styleJson:e,features:o,style:r})},deep:!0},mapStyle:function(e){var t=this.map;!this.theme&&t.setMapStyle(e)}},methods:{setMapOptions:function(){var e=this.map,t=this.minZoom,n=this.maxZoom,o=this.mapType,r=this.dragging,a=this.scrollWheelZoom,s=this.doubleClickZoom,l=this.keyboard,c=this.inertialDragging,u=this.continuousZoom,d=this.pinchToZoom,h=this.autoResize;t&&e.setMinZoom(t),n&&e.setMaxZoom(n),o&&e.setMapType(i[o]),r?e.enableDragging():e.disableDragging(),a?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),s?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),l?e.enableKeyboard():e.disableKeyboard(),c?e.enableInertialDragging():e.disableInertialDragging(),u?e.enableContinuousZoom():e.disableContinuousZoom(),d?e.enablePinchToZoom():e.disablePinchToZoom(),h?e.enableAutoResize():e.disableAutoResize()},init:function(e){if(!this.map){var t=this.$refs.view,n=!0,i=!1,o=void 0;try{for(var a,s=(this.$slots.default||[])[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;l.componentOptions&&"bm-view"===l.componentOptions.tag&&(this.hasBmView=!0,t=l.elm)}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}var c=new e.Map(t,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=c;var u=this.setMapOptions,d=this.zoom,h=this.getCenterPoint,p=this.theme,f=this.mapStyle;p?c.setMapStyle({styleJson:p}):c.setMapStyle(f),u(),r.default.call(this,c),c.reset(),c.centerAndZoom(h(),d),this.$emit("ready",{BMap:e,map:c})}},getCenterPoint:function(){var e=this.center,t=this.BMap;switch((0,o.checkType)(e)){case"String":return e;case"Object":return new t.Point(e.lng,e.lat);default:return new t.Point}},initMap:function(e){this.BMap=e,this.init(e)},getMapScript:function(){if(i.BMap)return i.BMap._preloader?i.BMap._preloader:Promise.resolve(i.BMap);var e=this.ak||this._BMap().ak;return i.BMap={},i.BMap._preloader=new Promise(function(t,n){i._initBaiduMap=function(){t(i.BMap),i.document.body.removeChild(o),i.BMap._preloader=null,i._initBaiduMap=null};var o=document.createElement("script");i.document.body.appendChild(o),o.src="https://api.map.baidu.com/api?v=2.0&ak="+e+"&callback=_initBaiduMap"}),i.BMap._preloader},reset:function(){var e=this.getMapScript,t=this.initMap;e().then(t)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}},e.exports=t.default},r=[e,t,n(4),n(5)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t],void 0!==(r="function"==typeof(i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bm-view"},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4)],i=function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n),a=o(i);t.default={name:"bm-autocomplete",mixins:[(0,r.default)()],props:{types:{type:String},location:{type:String},sugStyle:{type:Object,default:function(){return{}}}},watch:{types:function(){this.reload()},location:function(){this.reload()}},methods:{load:function(){var e=this,t=this.BMap,n=this.map,i=this.$el,o=this.types,r=this.location,s=this.sugStyle,l=i.querySelector("input");l&&(this.originInstance=new t.Autocomplete({input:l,types:o,location:r||n,onSearchComplete:function(t){var n=document.querySelectorAll(".tangram-suggestion-main"),i=!0,o=!1,r=void 0;try{for(var a,l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;for(var u in s)c.style[u]=s[u].toString()}}catch(e){o=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}e.$emit("searchcomplete",t)}}),this.originInstance.addEventListener("onconfirm",function(t){var n=t.item.value;e.$emit("input",n.province+n.city+n.district+n.street+n.business)}),a.default.call(this,this.originInstance))}}},e.exports=t.default},void 0!==(r="function"==typeof i?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(6),n(1)],i=function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n),a=o(i),s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default={mixins:[(0,a.default)("abstract")],props:["name","strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","massClear","clicking"],data:function(){return{paths:[]}},components:{BmPolygon:r.default},watch:{name:function(){this.reload()}},methods:{load:function(){var e=this,t=this.BMap,n=this.name;(new t.Boundary).get(n,function(t){e.paths=t.boundaries.map(function(e){return(e||[]).split(";").map(function(e){return function(e){var t=s(e,2);return{lng:t[0],lat:t[1]}}(e.split(",").map(function(e){return+e}))})})})}}},e.exports=t.default},void 0!==(r="function"==typeof i?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(i);t.default={name:"bm-circle",render:function(){},mixins:[(0,a.default)("overlay")],props:{center:{},radius:{},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{"center.lng":function(e,t){var n=this.BMap,i=this.originInstance,r=this.isEditing,a=this.disableEditing,s=this.enableEditing,l=this.center,c=this.editing;if(!r){a();var u=e;e.toString()!==t.toString()&&u>=-180&&u<=180&&i.setCenter((0,o.createPoint)(n,{lng:u,lat:l.lat})),c&&s()}},"center.lat":function(e,t){var n=this.BMap,i=this.originInstance,r=this.isEditing,a=this.disableEditing,s=this.enableEditing,l=this.center,c=this.editing;if(!r){a();var u=e;e.toString()!==t.toString()&&u>=-74&&u<=74&&i.setCenter((0,o.createPoint)(n,{lng:l.lng,lat:u})),c&&s()}},radius:function(e,t){var n=this.originInstance,i=this.isEditing,o=this.disableEditing,r=this.enableEditing,a=this.editing;i||(o(),n.setRadius(e),a&&r())},strokeColor:function(e){this.originInstance.setStrokeColor(e)},strokeOpacity:function(e){this.originInstance.setStrokeOpacity(e)},strokeWeight:function(e){this.originInstance.setStrokeWeight(e)},strokeStyle:function(e){this.originInstance.setStrokeStyle(e)},fillColor:function(e){this.originInstance.setFillColor(e)},fillOpacity:function(e){this.originInstance.setFillOpacity(e)},editing:function(e){e?this.enableEditing():this.disableEditing()},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(e){this.reload()}},methods:{dragStartHandler:function(){this.isEditing=!0},dragEndHandler:function(){this.isEditing=!1,this.bindEditingNodeEvents()},bindEditingNodeEvents:function(){var e=this.originInstance,t=this.editingKey,n=this.dragStartHandler,i=this.dragEndHandler;e[t].forEach(function(e){e.addEventListener("dragstart",n),e.addEventListener("dragend",i)})},enableEditing:function(){var e=this.originInstance,t=this.bindEditingNodeEvents;e.enableEditing(),t()},disableEditing:function(){this.originInstance.disableEditing()},getEditingKey:function(e){var t=this,n=[];e.enableEditing(),setTimeout(function(){for(var i in e)e[i]&&2===e[i].length&&n.push(i);for(var o in e.disableEditing(),e)e[o]&&0===e[o].length&&~n.indexOf(o)&&(t.editingKey=o)},0)},load:function(){var e=this.BMap,t=this.map,n=this.center,i=this.radius,r=this.strokeColor,a=this.strokeWeight,l=this.strokeOpacity,c=this.strokeStyle,u=this.fillColor,d=this.fillOpacity,h=this.editing,p=this.massClear,f=this.clicking,m=this.enableEditing,g=this.disableEditing,y=this.getEditingKey,v=this.editingKey,b=new e.Circle((0,o.createPoint)(e,{lng:n.lng,lat:n.lat}),i,{strokeColor:r,strokeWeight:a,strokeOpacity:l,strokeStyle:c,fillColor:u,fillOpacity:d,enableMassClear:p,enableClicking:f});this.originInstance=b,t.addOverlay(b),s.default.call(this,b),!v&&y(b),setTimeout(function(){h?m():g()},0)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(i);t.default={name:"bm-ground",render:function(){},mixins:[(0,a.default)("overlay")],props:{bounds:{type:Object},opacity:{type:Number},imageURL:{type:String},displayOnMinLevel:{type:Number},displayOnMaxLevel:{type:Number}},watch:{bounds:{handler:function(e){var t=this.BMap;this.originInstance.setBounds((0,o.createBounds)(t,e))},deep:!0},opacity:function(e){this.originInstance.setOpacity(e)},imageURL:function(e){this.originInstance.setImageURL(e)},displayOnMinLevel:function(e){this.originInstance.setDisplayOnMinLevel(e)},displayOnMaxLevel:function(e){this.originInstance.setDisplayOnMaxLevel(e)}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.bounds,i=this.opacity,r=this.imageURL,a=this.displayOnMinLevel,l=this.displayOnMaxLevel,c=new e.GroundOverlay(n&&(0,o.createBounds)(e,n),{opacity:i,imageURL:r,displayOnMaxLevel:l,displayOnMinLevel:a});c.setImageURL(r),this.originInstance=c,s.default.call(this,c),t.addOverlay(c)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n),l=a(o);t.default={name:"bm-info-window",mixins:[(0,s.default)("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show:function(e){e?this.openInfoWindow():this.closeInfoWindow()},"position.lng":function(e,t){this.reload()},"position.lat":function(e,t){this.reload()},"offset.width":function(e,t){this.reload()},"offset.height":function(e){this.reload()},maxWidth:function(){this.reload()},width:function(e){this.originInstance.setWidth(e)},height:function(e){this.originInstance.setHeight(e)},title:function(e){this.originInstance.setTitle(e)},maximize:function(e){e?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan:function(e){e?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick:function(e){e?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw:function(){this.originInstance.redraw()},load:function(){var e=this.BMap,t=this.map,n=this.show,i=this.title,o=this.width,a=this.height,s=this.maxWidth,c=this.offset,u=this.autoPan,d=this.closeOnClick,h=this.message,p=this.maximize,f=this.bindObserver,m=this.$parent,g=this.$el,y=new e.InfoWindow(g,{width:o,height:a,title:i,maxWidth:s,offset:(0,r.createSize)(e,c),enableAutoPan:u,enableCloseOnClick:d,enableMessage:void 0===h,message:h});p?y.enableMaximize():y.disableMaximize(),l.default.call(this,y),this.originInstance=y,y.redraw(),[].forEach.call(g.querySelectorAll("img"),function(e){e.onload=function(){return y.redraw()}}),f(),this.$container=m.originInstance&&m.originInstance.openInfoWindow?m.originInstance:t,n&&this.openInfoWindow()},bindObserver:function(){var e=i.MutationObserver;if(e){var t=this.$el,n=this.originInstance;this.observer=new e(function(e){return n.redraw()}),this.observer.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},openInfoWindow:function(){var e=this.BMap,t=this.$container,n=this.position,i=this.originInstance;t.openInfoWindow(i,(0,r.createPoint)(e,n))},closeInfoWindow:function(){this.$container.closeInfoWindow(this.originInstance)}}},e.exports=t.default},r=[e,t,n(1),n(4),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(i);t.default={name:"bm-label",render:function(){},mixins:[(0,a.default)("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content:function(e){this.originInstance.setContent(e)},title:function(e){this.originInstance.setTitle(e)},"offset.width":function(e,t){var n=this.BMap;e.toString()!==t.toString()&&this.originInstance.setOffset((0,o.createSize)(n,{width:e,height:this.offset.height}))},"offset.height":function(e,t){var n=this.BMap;e.toString()!==t.toString()&&this.originInstance.setOffset((0,o.createSize)(n,{width:this.offset.width,height:e}))},"position.lng":function(e,t){var n=this.BMap,i=e;e.toString()!==t.toString()&&i>=-180&&i<=180&&this.originInstance.setCenter((0,o.createPoint)(n,{lng:i,lat:this.center.lat}))},"position.lat":function(e,t){var n=this.BMap,i=e;e.toString()!==t.toString()&&i>=-74&&i<=74&&this.originInstance.setCenter((0,o.createPoint)(n,{lng:this.center.lng,lat:i}))},labelStyle:{handler:function(e){this.originInstance.setStyle(e)},deep:!0},zIndex:function(e){this.originInstance.setZIndex(e)},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.content,i=this.title,r=this.offset,a=this.position,l=this.labelStyle,c=this.zIndex,u=this.massClear,d=this.$parent,h=new e.Label(n,{offset:(0,o.createSize)(e,r),position:(0,o.createPoint)(e,a),enableMassClear:u});this.originInstance=h;try{d.originInstance.setLabel(h)}catch(e){t.addOverlay(h)}i&&h.setTitle(i),l&&h.setStyle(l),c&&h.setZIndex(c),s.default.call(this,h)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n),l=a(o);t.default={name:"bm-marker",mixins:[(0,s.default)("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng":function(e,t){var n=this.BMap,i=this.originInstance,o=this.position,a=this.renderByParent,s=this.$parent;e!==t&&e>=-180&&e<=180&&i.setPosition((0,r.createPoint)(n,{lng:e,lat:o.lat})),a&&s.reload()},"position.lat":function(e,t){var n=this.BMap,i=this.originInstance,o=this.position,a=this.renderByParent,s=this.$parent;e!==t&&e>=-74&&e<=74&&i.setPosition((0,r.createPoint)(n,{lng:o.lng,lat:e})),a&&s.reload()},"offset.width":function(e,t){var n=this.BMap,i=this.originInstance;e!==t&&i.setOffset(new n.Size(e,this.offset.height))},"offset.height":function(e,t){var n=this.BMap,i=this.originInstance;e!==t&&i.setOffset(new n.Size(this.offset.width,e))},icon:{deep:!0,handler:function(e){var t=this.BMap,n=this.originInstance,i=this.rotation;n&&n.setIcon((0,r.createIcon)(t,e)),i&&n&&n.setRotation(i)}},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging:function(e){e?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking:function(){this.reload()},raiseOnDrag:function(){this.reload()},draggingCursor:function(e){this.originInstance.setDraggingCursor(e)},rotation:function(e){this.originInstance.setRotation(e)},shadow:function(e){this.originInstance.setShadow(e)},title:function(e){this.originInstance.setTitle(e)},label:function(e){this.reload()},animation:function(e){this.originInstance.setAnimation(i[e])},top:function(e){this.originInstance.setTop(e)},zIndex:function(e){this.originInstance.setZIndex(e)}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.position,o=this.offset,a=this.icon,s=this.massClear,c=this.dragging,u=this.clicking,d=this.raiseOnDrag,h=this.draggingCursor,p=this.rotation,f=this.shadow,m=this.title,g=this.label,y=this.animation,v=this.top,b=this.renderByParent,_=this.$parent,C=this.zIndex,k=new e.Marker(new e.Point(n.lng,n.lat),{offset:o,icon:a&&(0,r.createIcon)(e,a),enableMassClear:s,enableDragging:c,enableClicking:u,raiseOnDrag:d,draggingCursor:h,rotation:p,shadow:f,title:m});this.originInstance=k,g&&k&&k.setLabel((0,r.createLabel)(e,g)),k.setTop(v),k.setZIndex(C),l.default.call(this,k),b?_.reload():t.addOverlay(k),k.setAnimation(i[y])}}},e.exports=t.default},r=[e,t,n(1),n(4),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(1)],void 0!==(r="function"==typeof(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default={name:"bm-overlay",mixins:[(0,i.default)("overlay")],props:{pane:{type:String}},watch:{pane:function(){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.$el,i=this.pane,r=this.$emit.bind(this),a=function(a){function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),o(s,[{key:"initialize",value:function(){r("initialize",{BMap:e,map:t,el:n,overlay:this});try{t.getPanes()[i].appendChild(n)}catch(e){}return n}},{key:"draw",value:function(){r("draw",{BMap:e,map:t,el:n,overlay:this})}}]),s}(e.Overlay),s=new a;this.originInstance=s,t.addOverlay(s)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(n),l=a(o);t.default={render:function(){},name:"bm-point-collection",mixins:[(0,s.default)("overlay")],props:{points:{type:Array,default:function(){return[]}},shape:{type:String,default:"BMAP_POINT_SHAPE_CIRCLE"},color:{type:String},size:{type:String,default:"BMAP_POINT_SIZE_NORMAL"}},watch:{shape:function(e){var t=this.originInstance,n=this.color,o=this.size;t.setStyles({shape:i[e],color:n,size:i[o]})},size:function(e){var t=this.originInstance,n=this.color,o=this.shape;t.setStyles({shape:i[o],color:n,size:i[e]})},color:function(e){var t=this.originInstance,n=this.shape,o=this.size;t.setStyles({shape:i[n],color:e,size:i[o]})},points:{deep:!0,handler:function(e){var t=this.originInstance;t.clear(),t.setPoints(e)}}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.points,o=this.shape,a=this.color,s=this.size,c=this.originInstance=new e.PointCollection(n.map(function(t){return(0,r.createPoint)(e,t)}),{shape:i[o],color:a,size:i[s]});l.default.call(this,c),t.addOverlay(c)}}},e.exports=t.default},r=[e,t,n(1),n(4),n(2)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(i);t.default={name:"bm-polygon",render:function(){},mixins:[(0,a.default)("overlay")],props:{path:{type:Array,default:function(){return[]}},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(e,t){this.reload()},deep:!0},strokeColor:function(e){this.originInstance.setStrokeColor(e)},strokeOpacity:function(e){this.originInstance.setStrokeOpacity(e)},strokeWeight:function(e){this.originInstance.setStrokeWeight(e)},strokeStyle:function(e){this.originInstance.setStrokeStyle(e)},fillColor:function(e){this.originInstance.setFillColor(e)},fillOpacity:function(e){this.originInstance.setFillOpacity(e)},editing:function(e){e?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(e){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.path,i=this.strokeColor,r=this.strokeWeight,a=this.strokeOpacity,l=this.strokeStyle,c=this.fillColor,u=this.fillOpacity,d=this.editing,h=this.massClear,p=this.clicking,f=new e.Polygon(n.map(function(t){return(0,o.createPoint)(e,{lng:t.lng,lat:t.lat})}),{strokeColor:i,strokeWeight:r,strokeOpacity:a,strokeStyle:l,fillColor:c,fillOpacity:u,enableMassClear:h,enableClicking:p});this.originInstance=f,t.addOverlay(f),s.default.call(this,f),d?f.enableEditing():f.disableEditing()}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(1),n(4),n(2)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n),s=r(i);t.default={name:"bm-polyline",render:function(){},mixins:[(0,a.default)("overlay")],props:{path:{type:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(e,t){this.reload()},deep:!0},strokeColor:function(e){this.originInstance.setStrokeColor(e)},strokeOpacity:function(e){this.originInstance.setStrokeOpacity(e)},strokeWeight:function(e){this.originInstance.setStrokeWeight(e)},strokeStyle:function(e){this.originInstance.setStrokeStyle(e)},editing:function(e){e?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(e){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.path,i=this.strokeColor,r=this.strokeWeight,a=this.strokeOpacity,l=this.strokeStyle,c=this.editing,u=this.massClear,d=this.clicking,h=new e.Polyline(n.map(function(t){return(0,o.createPoint)(e,{lng:t.lng,lat:t.lat})}),{strokeColor:i,strokeWeight:r,strokeOpacity:a,strokeStyle:l,enableEditing:c,enableMassClear:u,enableClicking:d});this.originInstance=h,t.addOverlay(h),s.default.call(this,h)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){var i,o,r;o=[e,t,n(2),n(5),n(1)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"bm-bus",mixins:[(0,r.default)("search")],props:{location:{type:[Object,String]},keyword:{type:String},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,n=this.map;t.setLocation(e||n)},deep:!0},keyword:function(e){this.search(e)},panel:function(){this.reload()},autoViewport:function(e){this.reload()},selectFirstResult:function(e){this.reload()}},methods:{search:function(e){this.originInstance.getBusList(e)},load:function(){var e=this,t=this.location,o=this.selectFirstResult,r=this.autoViewport,a=this.highlightMode,s=this.keyword,l=this.search,c=this.BMap,u=this.map,d=this.originInstance,h=t?(0,i.isPoint)(t)?(0,n.createPoint)(c,t):t:u,p=this.originInstance=new c.BusLineSearch(h,{renderOptions:{map:u,panel:this.$el,selectFirstResult:o,autoViewport:r,highlightMode:a},onGetBusListComplete:function(t){d&&d!==p&&d.clearResults(),e.$emit("getbuslistcomplete",t)},onGetBusLineComplete:function(t){d&&d!==p&&d.clearResults(),e.$emit("getbuslinecomplete",t)},onBusListHtmlSet:function(t){e.$emit("buslisthtmlset",t)},onBusLineHtmlSet:function(t){e.$emit("buslinehtmlset",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)}});l(s)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"bm-driving",mixins:[(0,a.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,n=this.map;t.setLocation(e||n)},deep:!0},start:{handler:function(e){var t=this.originInstance,n=this.end,i=this.startCity,r=this.endCity,a=this.waypoints,s=this.BMap,l=this.getWaypoints;t.search((0,o.getPosition)(s,e),(0,o.getPosition)(s,n),{startCity:i,endCity:r,waypoints:l(a)})},deep:!0},end:{handler:function(e){var t=this.originInstance,n=this.start,i=this.startCity,r=this.endCity,a=this.waypoints,s=this.BMap,l=this.getWaypoints;t.search((0,o.getPosition)(s,n),(0,o.getPosition)(s,e),{startCity:i,endCity:r,waypoints:l(a)})},deep:!0},startCity:function(e){var t=this.originInstance,n=this.start,i=this.end,o=this.endCity,r=this.waypoints,a=this.getWaypoints;t.search(n,i,{val:e,endCity:o,waypoints:a(r)})},endCity:function(e){var t=this.originInstance,n=this.start,i=this.end,o=this.startCity,r=this.waypoints,a=this.getWaypoints;t.search(n,i,{startCity:o,val:e,waypoints:a(r)})},waypoints:{handler:function(e){var t=this.originInstance,n=this.start,i=this.end,o=this.startCity,r=this.endCity,a=this.getWaypoints;t.search(n,i,{startCity:o,endCity:r,waypoints:a(e)})},deep:!0},panel:function(){this.reload()},policy:function(e){this.reload()},autoViewport:function(){this.reload()},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(e,t,n){var i=n.startCity,o=n.endCity,r=n.waypoints,a=this.originInstance,s=this.getWaypoints;a.search(e,t,{startCity:i,endCity:o,waypoints:s(r)})},getWaypoints:function(e){var t=this.BMap;if(e)return e.map(function(e){return(0,o.getPosition)(t,e)})},load:function(){var e=this,t=this.map,r=this.BMap,a=this.location,s=this.policy,l=this.selectFirstResult,c=this.autoViewport,u=this.highlightMode,d=this.search,h=this.start,p=this.end,f=this.startCity,m=this.endCity,g=this.waypoints,y=this.originInstance,v=this.getWaypoints,b=a?(0,o.isPoint)(a)?(0,n.createPoint)(r,a):a:t,_=this.originInstance=new r.DrivingRoute(b,{renderOptions:{map:t,panel:this.$el,selectFirstResult:l,autoViewport:c,highlightMode:u},policy:i[s],onSearchComplete:function(t){y&&y!==_&&y.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});d((0,o.getPosition)(r,h),(0,o.getPosition)(r,p),{startCity:f,endCity:m,waypoints:v(g)})}}},e.exports=t.default},r=[e,t,n(2),n(5),n(1)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(2),n(5),n(1)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"bm-local-search",mixins:[(0,r.default)("search")],props:{location:{type:[Object,String]},keyword:{type:[Array,String]},panel:{type:Boolean,default:!0},forceLocal:{type:Boolean},customData:{type:Object},bounds:{type:Object},nearby:{type:Object},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,n=this.search;t.setLocation(e||this.map),n()},deep:!0},keyword:function(){this.search()},bounds:{handler:function(e){(0,this.searchInBounds)(e)},deep:!0},nearby:{handler:function(e){(0,this.searchNearby)(e)},deep:!0},forceLocal:function(){this.reload()},customData:{deep:!0,handler:function(){this.reload()}},pageCapacity:function(e){this.originInstance&&this.originInstance.setPageCapacity(e)},autoViewport:function(e){this.originInstance&&(e?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(e){this.originInstance&&(e?this.originInstance.enableFirstResultSelection():this.originInstance.disableFirstResultSelection())},highlightMode:function(){this.reload()}},methods:{searchNearby:function(e){var t=this.originInstance,i=this.keyword,o=this.customData,r=this.BMap;t.searchNearby(i,(0,n.createPoint)(r,e.center),e.radius,o)},searchInBounds:function(e){var t=this.originInstance,i=this.keyword,o=this.customData,r=this.BMap;t.searchInBounds(i,(0,n.createBounds)(r,e),o)},search:function(){var e=this.originInstance,t=this.keyword,n=this.forceLocal,i=this.customData,o=this.nearby,r=this.bounds,a=this.searchNearby,s=this.searchInBounds;o?a(o):r?s(r):e.search(t,{forceLocal:n,customData:i})},load:function(){var e=this,t=this.map,o=this.BMap,r=this.search,a=this.pageCapacity,s=this.autoViewport,l=this.selectFirstResult,c=this.highlightMode,u=this.location,d=this.originInstance,h=u?(0,i.isPoint)(u)?(0,n.createPoint)(o,u):u:t,p=this.originInstance=new o.LocalSearch(h,{onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)},onSearchComplete:function(t){d&&d!==p&&d.clearResults(),e.$emit("searchcomplete",t)},pageCapacity:a,renderOptions:{map:t,panel:this.$el,selectFirstResult:l,autoViewport:s,highlightMode:c}});r()}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){(function(i){var o,r,a,s;s=function(e,t,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"bm-transit",mixins:[(0,a.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,n=this.map;t.setLocation(e||n)},deep:!0},start:{handler:function(e){var t=this.originInstance,n=this.end,i=this.BMap;t.search((0,o.getPosition)(i,e),(0,o.getPosition)(i,n))},deep:!0},end:{handler:function(e){var t=this.originInstance,n=this.start,i=this.BMap;t.search((0,o.getPosition)(i,n),(0,o.getPosition)(i,e))},deep:!0},panel:function(){this.reload()},policy:function(e){this.originInstance.setPolicy(i[e])},pageCapacity:function(e){this.originInstance&&this.originInstance.setPageCapacity(e)},autoViewport:function(e){this.originInstance&&(e?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(e,t){this.originInstance.search(e,t)},load:function(){var e=this,t=this.map,r=this.BMap,a=this.location,s=this.policy,l=this.pageCapacity,c=this.selectFirstResult,u=this.autoViewport,d=this.highlightMode,h=this.search,p=this.start,f=this.end,m=this.originInstance,g=a?(0,o.isPoint)(a)?(0,n.createPoint)(r,a):a:t,y=this.originInstance=new r.TransitRoute(g,{renderOptions:{map:t,panel:this.$el,selectFirstResult:c,autoViewport:u,highlightMode:d},policy:i[s],pageCapacity:l,onSearchComplete:function(t){m&&m!==y&&m.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});h((0,o.isPoint)(p)?(0,n.createPoint)(r,p):p,(0,o.isPoint)(f)?(0,n.createPoint)(r,f):f)}}},e.exports=t.default},r=[e,t,n(2),n(5),n(1)],void 0!==(a="function"==typeof(o=s)?o.apply(t,r):o)&&(e.exports=a)}).call(t,n(3))},function(e,t,n){var i,o,r;o=[e,t,n(2),n(5),n(1)],void 0!==(r="function"==typeof(i=function(e,t,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"bm-walking",mixins:[(0,r.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,n=this.map;t.setLocation(e||n)},deep:!0},start:{handler:function(e){var t=this.originInstance,n=this.end,o=this.BMap;t.search((0,i.getPosition)(o,e),(0,i.getPosition)(o,n))},deep:!0},end:{handler:function(e){var t=this.originInstance,n=this.start,o=this.BMap;t.search((0,i.getPosition)(o,n),(0,i.getPosition)(o,e))},deep:!0},panel:function(){this.reload()},autoViewport:function(e){this.reload()},selectFirstResult:function(e){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(e,t){this.originInstance.search(e,t)},load:function(){var e=this,t=this.map,o=this.BMap,r=this.location,a=this.selectFirstResult,s=this.autoViewport,l=this.highlightMode,c=this.search,u=this.start,d=this.end,h=this.originInstance,p=r?(0,i.isPoint)(r)?(0,n.createPoint)(o,r):r:t,f=this.originInstance=new o.WalkingRoute(p,{renderOptions:{map:t,panel:this.$el,selectFirstResult:a,autoViewport:s,highlightMode:l},onSearchComplete:function(t){h&&h!==f&&h.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});c((0,i.isPoint)(u)?(0,n.createPoint)(o,u):u,(0,i.isPoint)(d)?(0,n.createPoint)(o,d):d)}}},e.exports=t.default})?i.apply(t,o):i)&&(e.exports=r)},function(e,t,n){e.exports=function(){function e(e){for(var n=[],i=0;i<e.length-1;i++){var o=t(e[i],e[i+1]);o&&o.length>0&&(n=n.concat(o))}return n}function t(e,t){var n=[];if(!(e&&t&&e instanceof BMap.Point&&t instanceof BMap.Point))return null;var i,o,r,a,s,l,c=function(e){return 1-2*e+e*e},u=function(e){return 2*e-2*e*e},d=function(e){return e*e},h=0,p=0;if(void 0!==t){var f=parseFloat(e.lat),m=parseFloat(t.lat),g=parseFloat(e.lng),y=parseFloat(t.lng);for(y>g&&parseFloat(y-g)>180&&g<0&&(g=parseFloat(360+g)),g>y&&parseFloat(g-y)>180&&y<0&&(y=parseFloat(360+y)),l=0,m==f?(i=0,o=g-y):y==g?(i=Math.PI/2,o=f-m):(i=Math.atan((m-f)/(y-g)),o=(m-f)/Math.sin(i)),0==l&&(l=i+Math.PI/5),s=(r=o/2)*Math.cos(l)+g,a=r*Math.sin(l)+f,h=0;h<31;h++)n.push(new BMap.Point(g*c(p)+s*u(p)+y*d(p),f*c(p)+a*u(p)+m*d(p))),p+=1/30;return n}void 0!==n&&(n=[])}return function(t,n){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}var i=e(t),o=new BMap.Polyline(i,n);return o.addEventListener("lineupdate",function(){this.isEditing&&this.enableEditing()}),o.cornerPoints=t,o.editMarkers=[],o.enableEditing=function(){var t=this;if(t.map){t.disableEditing();for(var n=0;n<t.cornerPoints.length;n++){var i=new BMap.Marker(t.cornerPoints[n],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});i.addEventListener("dragend",function(){t.cornerPoints.length=0;for(var n=0;n<t.editMarkers.length;n++)t.cornerPoints.push(t.editMarkers[n].getPosition());var i=e(t.cornerPoints);t.setPath(i)}),i.index=n,t.editMarkers.push(i),t.map.addOverlay(i)}}t.isEditing=!0},o.disableEditing=function(){this.isEditing=!1;for(var e=0;e<this.editMarkers.length;e++)this.map.removeOverlay(this.editMarkers[e]),this.editMarkers[e]=null;this.editMarkers.length=0},o.getPath=function(){return i},o}}()},function(e,t,n){e.exports=function(){var e=function(){var e=function(e){var t={data:[],heatmap:e};this.max=1,this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n}};e.prototype={addDataPoint:function(e,t){if(!(e<0||t<0)){var n=this,i=n.get("heatmap"),o=n.get("data");if(o[e]||(o[e]=[]),o[e][t]||(o[e][t]=0),o[e][t]+=arguments.length<3?1:arguments[2],n.set("data",o),n.max<o[e][t])return i.get("actx").clearRect(0,0,i.get("width"),i.get("height")),void n.setDataSet({max:o[e][t],data:o},!0);i.drawAlpha(e,t,o[e][t],!0)}},setDataSet:function(e,t){var n=this.get("heatmap"),i=[],o=e.data,r=o.length;if(n.clear(),this.max=e.max,n.get("legend")&&n.get("legend").update(e.max),null!=t&&t){for(var a in o)if(void 0!==a)for(var s in o[a])void 0!==s&&n.drawAlpha(a,s,o[a][s],!1)}else for(;r--;){var l=o[r];n.drawAlpha(l.x,l.y,l.count,!1),i[l.x]||(i[l.x]=[]),i[l.x][l.y]||(i[l.x][l.y]=0),i[l.x][l.y]=l.count}n.colorize(),this.set("data",o)},exportDataSet:function(){var e=this.get("data"),t=[];for(var n in e)if(void 0!==n)for(var i in e[n])void 0!==i&&t.push({x:parseInt(n,10),y:parseInt(i,10),count:e[n][i]});return{max:this.max,data:t}},generateRandomDataSet:function(e){var t=this.get("heatmap"),n=t.get("width"),i=t.get("height"),o={},r=Math.floor(1e3*Math.random()+1);o.max=r;for(var a=[];e--;)a.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*i+1),count:Math.floor(Math.random()*r+1)});o.data=a,this.setDataSet(o)}};var t=function(e){this.config=e;var t={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n},this.init()};t.prototype={init:function(){var e,t,n=this,i=n.config,o=i.title||"Legend",r=i.position,a=i.offset||10,s=(i.gradient,document.createElement("ul")),l="";n.processGradientObject(),r.indexOf("t")>-1?l+="top:"+a+"px;":l+="bottom:"+a+"px;",r.indexOf("l")>-1?l+="left:"+a+"px;":l+="right:"+a+"px;",(e=document.createElement("div")).style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",e.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+o+"</h3>",s.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",(t=document.createElement("div")).style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join(""),e.appendChild(s),e.appendChild(t),n.set("element",e),n.set("labelsEl",s),n.update(1)},processGradientObject:function(){var e=this.config.gradient,t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({stop:n,value:e[n]});t.sort(function(e,t){return e.stop-t.stop}),t.unshift({stop:0,value:"rgba(0,0,0,0)"}),this.set("gradientArr",t)},createGradientImage:function(){var e,t=this.get("gradientArr"),n=t.length,i=document.createElement("canvas"),o=i.getContext("2d");i.width="256",i.height="15",e=o.createLinearGradient(0,5,256,10);for(var r=0;r<n;r++)e.addColorStop(1/(n-1)*r,t[r].value);o.fillStyle=e,o.fillRect(0,5,256,10),o.strokeStyle="black",o.beginPath();for(var r=0;r<n;r++)o.moveTo(.5+(1/(n-1)*r*256>>0),0),o.lineTo(.5+(1/(n-1)*r*256>>0),0==r?15:5);return o.moveTo(255.5,0),o.lineTo(255.5,15),o.moveTo(255.5,4.5),o.lineTo(0,4.5),o.stroke(),this.set("ctx",o),i.toDataURL()},getElement:function(){return this.get("element")},update:function(e){for(var t,n,i=this,o=i.get("gradientArr"),r=i.get("ctx"),a=i.get("labelsEl"),s="",l=0;l<o.length;l++)t=e*o[l].stop>>0,n=r.measureText(t).width/2>>0,0==l&&(n=0),l==o.length-1&&(n*=2),s+='<li style="position:absolute;left:'+(((1/(o.length-1)*l*256||0)>>0)-n+.5)+'px">'+t+"</li>";a.innerHTML=s}};var n=function(t){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new e(this),this.get=function(e){return n[e]},this.set=function(e,t){n[e]=t},this.configure(t),this.init()};return n.prototype={configure:function(e){var n=this;if(n.set("radius",e.radius||40),n.set("element",e.element instanceof Object?e.element:document.getElementById(e.element)),n.set("visible",null==e.visible||e.visible),n.set("max",e.max||!1),n.set("gradient",e.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),n.set("opacity",parseInt(255/(100/e.opacity),10)||180),n.set("width",e.width||0),n.set("height",e.height||0),n.set("debug",e.debug),e.legend){var i=e.legend;i.gradient=n.get("gradient"),n.set("legend",new t(i))}},resize:function(){var e=this,t=e.get("element"),n=e.get("canvas"),i=e.get("acanvas");n.width=i.width=e.get("width")||t.style.width.replace(/px/,"")||e.getWidth(t),this.set("width",n.width),n.height=i.height=e.get("height")||t.style.height.replace(/px/,"")||e.getHeight(t),this.set("height",n.height)},init:function(){var e=this,t=document.createElement("canvas"),n=document.createElement("canvas"),i=t.getContext("2d"),o=n.getContext("2d"),r=e.get("element");e.initColorPalette(),e.set("canvas",t),e.set("ctx",i),e.set("acanvas",n),e.set("actx",o),e.resize(),t.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",e.get("visible")||(t.style.display="none"),r.appendChild(t),e.get("legend")&&r.appendChild(e.get("legend").getElement()),e.get("debug")&&document.body.appendChild(n),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var e,t,n,i=this,o=document.createElement("canvas"),r=i.get("gradient");for(var a in o.width="1",o.height="256",e=o.getContext("2d"),t=e.createLinearGradient(0,0,1,256),(n=e.getImageData(0,0,1,1)).data[0]=n.data[3]=64,n.data[1]=n.data[2]=0,e.putImageData(n,0,0),n=e.getImageData(0,0,1,1),i.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70),r)t.addColorStop(a,r[a]);e.fillStyle=t,e.fillRect(0,0,1,256),i.set("gradient",e.getImageData(0,0,1,256).data)},getWidth:function(e){var t=e.offsetWidth;return e.style.paddingLeft&&(t+=e.style.paddingLeft),e.style.paddingRight&&(t+=e.style.paddingRight),t},getHeight:function(e){var t=e.offsetHeight;return e.style.paddingTop&&(t+=e.style.paddingTop),e.style.paddingBottom&&(t+=e.style.paddingBottom),t},colorize:function(e,t){var n,i,o,r,a,s,l,c,u,d=this,h=d.get("width"),p=d.get("radius"),f=d.get("height"),m=d.get("actx"),g=d.get("ctx"),y=3*p,v=d.get("premultiplyAlpha"),b=d.get("gradient"),_=d.get("opacity"),C=d.get("bounds");null!=e&&null!=t?(e+y>h&&(e=h-y),e<0&&(e=0),t<0&&(t=0),t+y>f&&(t=f-y),n=e,i=t,r=e+y,o=t+y):(n=C.l<0?0:C.l,r=C.r>h?h:C.r,i=C.t<0?0:C.t,o=C.b>f?f:C.b),a=m.getImageData(n,i,r-n,o-i),s=a.data.length;for(var k=3;k<s;k+=4)l=a.data[k],(c=4*l)&&(u=l<_?l:_,a.data[k-3]=b[c],a.data[k-2]=b[c+1],a.data[k-1]=b[c+2],v&&(a.data[k-3]/=255/u,a.data[k-2]/=255/u,a.data[k-1]/=255/u),a.data[k]=u);g.putImageData(a,n,i)},drawAlpha:function(e,t,n,i){var o=this,r=o.get("radius"),a=o.get("actx"),s=(o.get("max"),o.get("bounds")),l=e-1.5*r>>0,c=t-1.5*r>>0,u=e+1.5*r>>0,d=t+1.5*r>>0;a.shadowColor="rgba(0,0,0,"+(n?n/o.store.max:"0.1")+")",a.shadowOffsetX=15e3,a.shadowOffsetY=15e3,a.shadowBlur=15,a.beginPath(),a.arc(e-15e3,t-15e3,r,0,2*Math.PI,!0),a.closePath(),a.fill(),i?o.colorize(l,c):(l<s.l&&(s.l=l),c<s.t&&(s.t=c),u>s.r&&(s.r=u),d>s.b&&(s.b=d))},toggleDisplay:function(){var e=this,t=e.get("visible");e.get("canvas").style.display=t?"none":"block",e.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var e=this,t=e.get("width"),n=e.get("height");e.store.set("data",[]),e.get("ctx").clearRect(0,0,t,n),e.get("actx").clearRect(0,0,t,n)},cleanup:function(){this.get("element").removeChild(this.get("canvas"))}},{create:function(e){return new n(e)},util:{mousePosition:function(e){var t,n;if(e.layerX?(t=e.layerX,n=e.layerY):e.offsetX&&(t=e.offsetX,n=e.offsetY),void 0!==t)return[t,n]}}}}(),t=function(e){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}if(!t._isExtended){t._isExtended=!0,function(e,t,n){var i,o,r=e.prototype,a=new Function;for(i in a.prototype=t.prototype,o=e.prototype=new a,r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)}(t,BMap.Overlay,"HeatmapOverlay");var n=new t(e);this.__proto__=n.__proto__}this.conf=e,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)};return t.prototype.initialize=function(t){this._map=t;var n=document.createElement("div");return n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.border=0,n.style.width=this._map.getSize().width+"px",n.style.height=this._map.getSize().height+"px",this.conf.element=n,t.getPanes().mapPane.appendChild(n),this.heatmap=e.create(this.conf),this._div=n,n},t.prototype.draw=function(){var e=this._map.getBounds();if(!e.equals(this.bounds)){this.bounds=e;var t=this._map.pointToOverlayPixel(e.getNorthEast()),n=this._map.pointToOverlayPixel(e.getSouthWest());if(t&&n){var i=t.y,o=n.x,r=n.y-t.y,a=t.x-n.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=i+"px",this.conf.element.style.width=a+"px",this.conf.element.style.height=r+"px",this.heatmap.store.get("heatmap").resize(),this.latlngs.length>0){this.heatmap.clear();for(var s=this.latlngs.length,l={max:this.heatmap.store.max,data:[]};s--;){var c=this.latlngs[s].latlng;if(e.containsPoint(c)){var u=this._map.pointToOverlayPixel(c),d=new BMap.Pixel(u.x-o,u.y-i),h=this.pixelTransform(d);l.data.push({x:h.x,y:h.y,count:this.latlngs[s].c})}}this.heatmap.store.setDataSet(l)}}}},t.prototype.pixelTransform=function(e){for(var t=this.heatmap.get("width"),n=this.heatmap.get("height");e.x<0;)e.x+=t;for(;e.x>t;)e.x-=t;for(;e.y<0;)e.y+=n;for(;e.y>n;)e.y-=n;return e.x=e.x>>0,e.y=e.y>>0,e},t.prototype._moveendHandler=function(e){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},t.prototype.setDataSet=function(e){if(this._map){var t=this._map.getBounds(),n=this._map.pointToOverlayPixel(t.getNorthEast()),i=this._map.pointToOverlayPixel(t.getSouthWest());n&&i||(this._data=e,this._map.addEventListener("moveend",this._moveendHandler));var o={max:e.max,data:[]},r=e.data,a=r.length;for(this.latlngs=[];a--;){var s=new BMap.Point(r[a].lng,r[a].lat);if(this.latlngs.push({latlng:s,c:r[a].count}),t.containsPoint(s)){var l=this._map.pointToOverlayPixel(s),c=this._map.pointToOverlayPixel(t.getSouthWest()).x,u=this._map.pointToOverlayPixel(t.getNorthEast()).y,d=new BMap.Pixel(l.x-c,l.y-u),h=this.pixelTransform(d);o.data.push({x:h.x,y:h.y,count:r[a].count})}}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},t.prototype.addDataPoint=function(e,t,n){var i=new BMap.Point(e,t),o=this.pixelTransform(this._map.pointToOverlayPixel(i));this.heatmap.store.addDataPoint(o.x,o.y,n),this.latlngs.push({latlng:i,c:n})},t.prototype.toggle=function(){this.heatmap.toggleDisplay()},t}()},function(e,t,n){e.exports=function(){function e(e,t){this._point=e,this._html=t}function t(){e.prototype=new BMap.Overlay,e.prototype.initialize=function(e){var t=this._div=n.dom.create("div",{style:"border:solid 1px #ccc;width:auto;min-width:50px;text-align:center;position:absolute;background:#fff;color:#000;font-size:12px;border-radius: 10px;padding:5px;white-space: nowrap;"});return t.innerHTML=this._html,e.getPanes().floatPane.appendChild(t),this._map=e,t},e.prototype.draw=function(){this.setPosition(this.lushuMain._marker.getPosition(),this.lushuMain._marker.getIcon().size)},n.object.extend(e.prototype,{setPosition:function(e,t){var i=this._map.pointToOverlayPixel(e),o=n.dom.getStyle(this._div,"width"),r=n.dom.getStyle(this._div,"height"),a=parseInt(this._div.clientWidth||o,10);parseInt(this._div.clientHeight||r,10),this._div.style.left=i.x-a/2+"px",this._div.style.bottom=-(i.y-t.height)+"px"},setHtml:function(e){this._div.innerHTML=e},setRelatedClass:function(e){this.lushuMain=e}})}var n={dom:{}};n.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},n.g=n.G=n.dom.g,n.lang=n.lang||{},n.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},n.isString=n.lang.isString,n.dom._g=function(e){return n.lang.isString(e)?document.getElementById(e):e},n._g=n.dom._g,n.dom.getDocument=function(e){return 9==(e=n.dom.g(e)).nodeType?e:e.ownerDocument||e.document},n.browser=n.browser||{},n.browser.ie=n.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,n.dom.getComputedStyle=function(e,t){e=n.dom._g(e);var i,o=n.dom.getDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(e,null))?i[t]||i.getPropertyValue(t):""},n.dom._styleFixer=n.dom._styleFixer||{},n.dom._styleFilter=n.dom._styleFilter||[],n.dom._styleFilter.filter=function(e,t,i){for(var o,r=0,a=n.dom._styleFilter;o=a[r];r++)(o=o[i])&&(t=o(e,t));return t},n.string=n.string||{},n.string.toCamelCase=function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})},n.dom.getStyle=function(e,t){var i=n.dom;e=i.g(e),t=n.string.toCamelCase(t);var o=e.style[t]||(e.currentStyle?e.currentStyle[t]:"")||i.getComputedStyle(e,t);if(!o){var r=i._styleFixer[t];r&&(o=r.get?r.get(e):n.dom.getStyle(e,r))}return(r=i._styleFilter)&&(o=r.filter(t,o,"get")),o},n.getStyle=n.dom.getStyle,n.dom._NAME_ATTRS=function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};return n.browser.ie<8?(e.for="htmlFor",e.class="className"):(e.htmlFor="for",e.className="class"),e}(),n.dom.setAttr=function(e,t,i){return e=n.dom.g(e),"style"==t?e.style.cssText=i:(t=n.dom._NAME_ATTRS[t]||t,e.setAttribute(t,i)),e},n.setAttr=n.dom.setAttr,n.dom.setAttrs=function(e,t){for(var i in e=n.dom.g(e),t)n.dom.setAttr(e,i,t[i]);return e},n.setAttrs=n.dom.setAttrs,n.dom.create=function(e,t){var i=document.createElement(e),o=t||{};return n.dom.setAttrs(i,o)},n.object=n.object||{},n.extend=n.object.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var i=function(e,t,n){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}!t||t.length<1||(this._map=e,this._path=t,this.i=0,this._setTimeoutQuene=[],this._projection=this._map.getMapType().getProjection(),this._opts={icon:null,speed:4e3,defaultContent:"",showInfoWindow:!1},this._setOptions(n),this._rotation=0,!this._opts.icon instanceof BMap.Icon&&(this._opts.icon=defaultIcon))};return i.prototype._setOptions=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this._opts[t]=e[t])},i.prototype.start=function(){var e=this,t=e._path.length;if(this._opts.onstart&&this._opts.onstart(e),e.i&&e.i<t-1){if(!e._fromPause)return;e._fromStop||e._moveNext(++e.i)}else!e._marker&&e._addMarker(),e._timeoutFlag=setTimeout(function(){!e._overlay&&e._addInfoWin(),e._moveNext(e.i)},400);this._fromPause=!1,this._fromStop=!1},i.prototype.stop=function(){this.i=0,this._fromStop=!0,clearInterval(this._intervalFlag),this._clearTimeout();for(var e=0,t=this._opts.landmarkPois,n=t.length;e<n;e++)t[e].bShow=!1;this._opts.onstop&&this._opts.onstop(this)},i.prototype.pause=function(){clearInterval(this._intervalFlag),this._fromPause=!0,this._clearTimeout(),this._opts.onpause&&this._opts.onpause(this)},i.prototype.hideInfoWindow=function(){this._opts.showInfoWindow=!1,this._overlay&&(this._overlay._div.style.visibility="hidden")},i.prototype.showInfoWindow=function(){this._opts.showInfoWindow=!0,this._overlay&&(this._overlay._div.style.visibility="visible")},i.prototype.dispose=function(){clearInterval(this._intervalFlag),this._setTimeoutQuene&&this._clearTimeout(),this._map&&(this._map.removeOverlay(this._overlay),this._map.removeOverlay(this._marker))},n.object.extend(i.prototype,{_addMarker:function(e){this._marker&&(this.stop(),this._map.removeOverlay(this._marker),clearTimeout(this._timeoutFlag)),this._overlay&&this._map.removeOverlay(this._overlay);var t=new BMap.Marker(this._path[0]);this._opts.icon&&t.setIcon(this._opts.icon),this._map.addOverlay(t),t.setAnimation(BMAP_ANIMATION_DROP),this._marker=t},_addInfoWin:function(){!e.prototype.initialize&&t();var n=new e(this._marker.getPosition(),this._opts.defaultContent);n.setRelatedClass(this),this._overlay=n,this._map.addOverlay(n),this._opts.showInfoWindow?this.showInfoWindow():this.hideInfoWindow()},_getMercator:function(e){return this._map.getMapType().getProjection().lngLatToPoint(e)},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_move:function(e,t,n){var i=this,o=0,r=this._opts.speed/100,a=this._projection.lngLatToPoint(e),s=this._projection.lngLatToPoint(t),l=Math.round(i._getDistance(a,s)/r);l<1?i._moveNext(++i.i):i._intervalFlag=setInterval(function(){if(o>=l){if(clearInterval(i._intervalFlag),i.i>i._path.length)return;i._moveNext(++i.i)}else{o++;var r=n(a.x,s.x,o,l),c=n(a.y,s.y,o,l),u=i._projection.pointToLngLat(new BMap.Pixel(r,c));if(1==o){var d=null;i.i-1>=0&&(d=i._path[i.i-1]),1==i._opts.enableRotation&&i.setRotation(d,e,t),i._opts.autoView&&(i._map.getBounds().containsPoint(u)||i._map.setCenter(u))}i._marker.setPosition(u),i._setInfoWin(u)}},10)},setRotation:function(e,t,n){var i=this,o=0;if(t=i._map.pointToPixel(t),(n=i._map.pointToPixel(n)).x!=t.x){var r=(n.y-t.y)/(n.x-t.x);o=360*Math.atan(r)/(2*Math.PI),o=n.x<t.x?90-o+90:-o,i._marker.setRotation(-o)}else{var a=n.y-t.y,s=0;s=a>0?-1:1,i._marker.setRotation(90*-s)}},linePixellength:function(e,t){return Math.sqrt(Math.abs(e.x-t.x)*Math.abs(e.x-t.x)+Math.abs(e.y-t.y)*Math.abs(e.y-t.y))},pointToPoint:function(e,t){return Math.abs(e.x-t.x)*Math.abs(e.x-t.x)+Math.abs(e.y-t.y)*Math.abs(e.y-t.y)},_moveNext:function(e){var t=this;e<this._path.length-1?t._move(t._path[e],t._path[e+1],t._tween.linear):t.stop()},_setInfoWin:function(e){var t=this;t._overlay.setPosition(e,t._marker.getIcon().size);var n=t._troughPointIndex(e);-1!=n?(clearInterval(t._intervalFlag),t._overlay.setHtml(t._opts.landmarkPois[n].html),t._overlay.setPosition(e,t._marker.getIcon().size),t._pauseForView(n)):t._overlay.setHtml(t._opts.defaultContent)},_pauseForView:function(e){var t=this,n=setTimeout(function(){t._moveNext(++t.i)},1e3*t._opts.landmarkPois[e].pauseTime);t._setTimeoutQuene.push(n)},_clearTimeout:function(){for(var e in this._setTimeoutQuene)clearTimeout(this._setTimeoutQuene[e]);this._setTimeoutQuene.length=0},_tween:{linear:function(e,t,n,i){return(t-e)*n/i+e}},_troughPointIndex:function(e){for(var t=this._opts.landmarkPois,n=0,i=t.length;n<i;n++)if(!t[n].bShow&&this._map.getDistance(new BMap.Point(t[n].lng,t[n].lat),e)<10)return t[n].bShow=!0,n;return-1}}),i}()},function(e,t,n){(function(t){var n,i;e.exports=function(){"use strict";function e(e){this._markerClusterer=e,this._map=e.getMap(),this._minClusterSize=e.getMinClusterSize(),this._isAverageCenter=e.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new o(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}"undefined"!=typeof window&&window;var t=function(e,t){return function(e,t,o){var r;r=function(){var e,t=e=t||{version:"1.3.8"},n={};t.guid="$BAIDU$",n[t.guid]=n[t.guid]||{},t.dom=t.dom||{},t.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},t.g=t.G=t.dom.g,t.dom.getDocument=function(e){return 9==(e=t.dom.g(e)).nodeType?e:e.ownerDocument||e.document},t.lang=t.lang||{},t.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},t.isString=t.lang.isString,t.dom._g=function(e){return t.lang.isString(e)?document.getElementById(e):e},t._g=t.dom._g,t.browser=t.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.ie=t.ie=document.documentMode||+RegExp.$1),t.dom.getComputedStyle=function(e,n){e=t.dom._g(e);var i,o=t.dom.getDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(e,null))?i[n]||i.getPropertyValue(n):""},t.dom._styleFixer=t.dom._styleFixer||{},t.dom._styleFilter=t.dom._styleFilter||[],t.dom._styleFilter.filter=function(e,n,i){for(var o,r=0,a=t.dom._styleFilter;o=a[r];r++)(o=o[i])&&(n=o(e,n));return n},t.string=t.string||{},t.string.toCamelCase=function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})},t.dom.getStyle=function(e,n){var i=t.dom;e=i.g(e),n=t.string.toCamelCase(n);var o=e.style[n]||(e.currentStyle?e.currentStyle[n]:"")||i.getComputedStyle(e,n);if(!o){var r=i._styleFixer[n];r&&(o=r.get?r.get(e):t.dom.getStyle(e,r))}return(r=i._styleFilter)&&(o=r.filter(n,o,"get")),o},t.getStyle=t.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.opera=+RegExp.$1),t.browser.isWebkit=/webkit/i.test(navigator.userAgent),t.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),t.browser.isStrict="CSS1Compat"==document.compatMode,t.dom.getPosition=function(e){e=t.dom.g(e);var n,i,o=t.dom.getDocument(e),r=t.browser,a=t.dom.getStyle,s=(r.isGecko>0&&o.getBoxObjectFor&&"absolute"==a(e,"position")&&(""===e.style.top||e.style.left),{left:0,top:0});if(e==(r.ie&&!r.isStrict?o.body:o.documentElement))return s;if(e.getBoundingClientRect){i=e.getBoundingClientRect(),s.left=Math.floor(i.left)+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft),s.top=Math.floor(i.top)+Math.max(o.documentElement.scrollTop,o.body.scrollTop),s.left-=o.documentElement.clientLeft,s.top-=o.documentElement.clientTop;var l=o.body,c=parseInt(a(l,"borderLeftWidth")),u=parseInt(a(l,"borderTopWidth"));r.ie&&!r.isStrict&&(s.left-=isNaN(c)?2:c,s.top-=isNaN(u)?2:u)}else{n=e;do{if(s.left+=n.offsetLeft,s.top+=n.offsetTop,r.isWebkit>0&&"fixed"==a(n,"position")){s.left+=o.body.scrollLeft,s.top+=o.body.scrollTop;break}n=n.offsetParent}while(n&&n!=e);for((r.opera>0||r.isWebkit>0&&"absolute"==a(e,"position"))&&(s.top-=o.body.offsetTop),n=e.offsetParent;n&&n!=o.body;)s.left-=n.scrollLeft,r.opera&&"TR"==n.tagName||(s.top-=n.scrollTop),n=n.offsetParent}return s},t.event=t.event||{},t.event._listeners=t.event._listeners||[],t.event.on=function(e,n,i){n=n.replace(/^on/i,""),e=t.dom._g(e);var o,r=function(t){i.call(e,t)},a=t.event._listeners,s=t.event._eventFilter,l=n;return n=n.toLowerCase(),s&&s[n]&&(o=s[n](e,n,r),l=o.type,r=o.listener),e.addEventListener?e.addEventListener(l,r,!1):e.attachEvent&&e.attachEvent("on"+l,r),a[a.length]=[e,n,i,r,l],e},t.on=t.event.on,function(){var e=n[t.guid];t.lang.guid=function(){return"TANGRAM__"+(e._counter++).toString(36)},e._counter=e._counter||1}(),n[t.guid]._instances=n[t.guid]._instances||{},t.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},t.lang.Class=function(e){this.guid=e||t.lang.guid(),n[t.guid]._instances[this.guid]=this},n[t.guid]._instances=n[t.guid]._instances||{},t.lang.Class.prototype.dispose=function(){for(var e in delete n[t.guid]._instances[this.guid],this)t.lang.isFunction(this[e])||delete this[e];this.disposed=!0},t.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},t.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},t.lang.Class.prototype.addEventListener=function(e,n,i){if(t.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var o,r=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;n.hashCode=i,o=i}0!=e.indexOf("on")&&(e="on"+e),"object"!=typeof r[e]&&(r[e]={}),o=o||t.lang.guid(),n.hashCode=o,r[e][o]=n}},t.lang.Class.prototype.removeEventListener=function(e,n){if(void 0===n||(!t.lang.isFunction(n)||(n=n.hashCode))&&t.lang.isString(n)){!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var i=this.__listeners;if(i[e])if(void 0!==n)i[e][n]&&delete i[e][n];else for(var o in i[e])delete i[e][o]}},t.lang.Class.prototype.dispatchEvent=function(e,n){for(var i in t.lang.isString(e)&&(e=new t.lang.Event(e)),!this.__listeners&&(this.__listeners={}),n=n||{})e[i]=n[i];var o=this.__listeners,r=e.type;if(e.target=e.target||this,e.currentTarget=this,0!=r.indexOf("on")&&(r="on"+r),t.lang.isFunction(this[r])&&this[r].apply(this,arguments),"object"==typeof o[r])for(i in o[r])o[r][i].apply(this,arguments);return e.returnValue},t.lang.inherits=function(e,t,n){var i,o,r=e.prototype,a=new Function;for(i in a.prototype=t.prototype,o=e.prototype=new a,r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)},t.inherits=t.lang.inherits;var i=function(t,n,o){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}e.lang.inherits(i,BMap.Overlay,"TextIconOverlay"),this._position=t,this._text=n,this._options=o||{},this._styles=this._options.styles||[],!this._styles.length&&this._setupDefaultStyles()};return i.prototype._setupDefaultStyles=function(){for(var e,t=[53,56,66,78,90],n=0;e=t[n];n++)this._styles.push({url:"http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m"+n+".png",size:new BMap.Size(e,e)})},i.prototype.initialize=function(e){return this._map=e,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},i.prototype.draw=function(){this._map&&this._updatePosition()},i.prototype.getText=function(){return this._text},i.prototype.setText=function(e){!e||this._text&&this._text.toString()==e.toString()||(this._text=e,this._updateText(),this._updateCss(),this._updatePosition())},i.prototype.getPosition=function(){return this._position},i.prototype.setPosition=function(e){!e||this._position&&this._position.equals(e)||(this._position=e,this._updatePosition())},i.prototype.getStyleByText=function(e,t){var n=parseInt(e),i=parseInt(n/10);return i=Math.max(0,i),i=Math.min(i,t.length-1),t[i]},i.prototype._updateCss=function(){if(this._domElement){var e=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(e)}},i.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},i.prototype._updatePosition=function(){if(this._domElement&&this._position){var e=this._domElement.style,t=this._map.pointToOverlayPixel(this._position);t.x-=Math.ceil(parseInt(e.width)/2),t.y-=Math.ceil(parseInt(e.height)/2),e.left=t.x+"px",e.top=t.y+"px"}},i.prototype._buildCssText=function(t){var n=t.url,i=t.size,o=t.anchor,r=t.offset,a=t.textColor||"black",s=t.textSize||10,l=[];if(e.browser.ie<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+n+'");');else{l.push("background-image:url("+n+");");var c="0 0";r instanceof BMap.Size&&(c=r.width+"px "+r.height+"px"),l.push("background-position:"+c+";")}return i instanceof BMap.Size&&(o instanceof BMap.Size?(o.height>0&&o.height<i.height&&l.push("height:"+(i.height-o.height)+"px; padding-top:"+o.height+"px;"),o.width>0&&o.width<i.width&&l.push("width:"+(i.width-o.width)+"px; padding-left:"+o.width+"px;")):(l.push("height:"+i.height+"px; line-height:"+i.height+"px;"),l.push("width:"+i.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+a+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},i.prototype._bind=function(){function t(t,n){var o=t.srcElement||t.target,r=t.clientX||t.pageX,a=t.clientY||t.pageY;if(t&&n&&r&&a&&o){var s=e.dom.getPosition(i.getContainer());n.pixel=new BMap.Pixel(r-s.left,a-s.top),n.point=i.pixelToPoint(n.pixel)}return n}if(this._domElement){var n=this,i=this._map,o=e.lang.Event;e.event.on(this._domElement,"mouseover",function(e){n.dispatchEvent(t(e,new o("onmouseover")))}),e.event.on(this._domElement,"mouseout",function(e){n.dispatchEvent(t(e,new o("onmouseout")))}),e.event.on(this._domElement,"click",function(e){n.dispatchEvent(t(e,new o("onclick")))})}},i},"object"==typeof t?e.exports=r():void 0!==(i="function"==typeof(n=r)?n.call(t,void 0,t,e):n)&&(e.exports=i)}(t={exports:{}},t.exports),t.exports}(),o=t&&"object"==typeof t&&"default"in t?t.default:t,r=function(e,t,n){t=a(t);var i=e.pointToPixel(t.getNorthEast()),o=e.pointToPixel(t.getSouthWest());i.x+=n,i.y-=n,o.x-=n,o.y+=n;var r=e.pixelToPoint(i),s=e.pixelToPoint(o);return new BMap.Bounds(s,r)},a=function(e){var t=s(e.getNorthEast().lng,-180,180),n=s(e.getSouthWest().lng,-180,180),i=s(e.getNorthEast().lat,-74,74),o=s(e.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(n,o),new BMap.Point(t,i))},s=function(e,t,n){return t&&(e=Math.max(e,t)),n&&(e=Math.min(e,n)),e},l=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){var n=-1;if(l(t))if(t.indexOf)n=t.indexOf(e);else for(var i,o=0;i=t[o];o++)if(i===e){n=o;break}return n},u=function(e,t){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}if(e){this._map=e,this._markers=[],this._clusters=[];var n=t||{};this._gridSize=n.gridSize||60,this._maxZoom=n.maxZoom||18,this._minClusterSize=n.minClusterSize||2,this._isAverageCenter=!1,void 0!=n.isAverageCenter&&(this._isAverageCenter=n.isAverageCenter),this._styles=n.styles||[];var i=this;this._map.addEventListener("zoomend",function(){i._redraw()}),this._map.addEventListener("moveend",function(){i._redraw()});var o=n.markers;l(o)&&this.addMarkers(o)}};return u.prototype.addMarkers=function(e){if(e.length){for(var t=0,n=e.length;t<n;t++)this._pushMarkerTo(e[t]);this._createClusters()}},u.prototype._pushMarkerTo=function(e){-1===c(e,this._markers)&&(e.isInCluster=!1,this._markers.push(e))},u.prototype.addMarker=function(e){this._pushMarkerTo(e),this._createClusters()},u.prototype._createClusters=function(){var e=this._map.getBounds();if(e.getCenter())for(var t,n=r(this._map,e,this._gridSize),i=0;t=this._markers[i];i++)!t.isInCluster&&n.containsPoint(t.getPosition())&&this._addToClosestCluster(t)},u.prototype._addToClosestCluster=function(t){for(var n=4e6,i=null,o=(t.getPosition(),0);s=this._clusters[o];o++){var r=s.getCenter();if(r){var a=this._map.getDistance(r,t.getPosition());a<n&&(n=a,i=s)}}if(i&&i.isMarkerInClusterBounds(t))i.addMarker(t);else{var s=new e(this);s.addMarker(t),this._clusters.push(s)}},u.prototype._clearLastClusters=function(){for(var e,t=0;e=this._clusters[t];t++)e.remove();this._clusters=[],this._removeMarkersFromCluster()},u.prototype._removeMarkersFromCluster=function(){for(var e,t=0;e=this._markers[t];t++)e.isInCluster=!1},u.prototype._removeMarkersFromMap=function(){for(var e,t=0;e=this._markers[t];t++){e.isInCluster=!1;var n=e.getLabel();this._map.removeOverlay(e),e.setLabel(n)}},u.prototype._removeMarker=function(e){var t=c(e,this._markers);return-1!==t&&(this._map.removeOverlay(e),this._markers.splice(t,1),!0)},u.prototype.removeMarker=function(e){var t=this._removeMarker(e);return t&&(this._clearLastClusters(),this._createClusters()),t},u.prototype.removeMarkers=function(e){for(var t=!1,n=0;n<e.length;n++){var i=this._removeMarker(e[n]);t=t||i}return t&&(this._clearLastClusters(),this._createClusters()),t},u.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},u.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},u.prototype.getGridSize=function(){return this._gridSize},u.prototype.setGridSize=function(e){this._gridSize=e,this._redraw()},u.prototype.getMaxZoom=function(){return this._maxZoom},u.prototype.setMaxZoom=function(e){this._maxZoom=e,this._redraw()},u.prototype.getStyles=function(){return this._styles},u.prototype.setStyles=function(e){this._styles=e,this._redraw()},u.prototype.getMinClusterSize=function(){return this._minClusterSize},u.prototype.setMinClusterSize=function(e){this._minClusterSize=e,this._redraw()},u.prototype.isAverageCenter=function(){return this._isAverageCenter},u.prototype.getMap=function(){return this._map},u.prototype.getMarkers=function(){return this._markers},u.prototype.getClustersCount=function(){for(var e,t=0,n=0;e=this._clusters[n];n++)e.isReal()&&t++;return t},e.prototype.addMarker=function(e){if(this.isMarkerInCluster(e))return!1;if(this._center){if(this._isAverageCenter){var t=this._markers.length+1,n=(this._center.lat*(t-1)+e.getPosition().lat)/t,i=(this._center.lng*(t-1)+e.getPosition().lng)/t;this._center=new BMap.Point(i,n),this.updateGridBounds()}}else this._center=e.getPosition(),this.updateGridBounds();e.isInCluster=!0,this._markers.push(e);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(e),!0;if(o===this._minClusterSize)for(var r=0;r<o;r++){var a=this._markers[r].getLabel();this._markers[r].getMap()&&this._map.removeOverlay(this._markers[r]),this._markers[r].setLabel(a)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},e.prototype.isMarkerInCluster=function(e){if(this._markers.indexOf)return-1!=this._markers.indexOf(e);for(var t,n=0;t=this._markers[n];n++)if(t===e)return!0;return!1},e.prototype.isMarkerInClusterBounds=function(e){return this._gridBounds.containsPoint(e.getPosition())},e.prototype.isReal=function(e){return this._isReal},e.prototype.updateGridBounds=function(){var e=new BMap.Bounds(this._center,this._center);this._gridBounds=r(this._map,e,this._markerClusterer.getGridSize())},e.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var e,t=0;e=this._markers[t];t++)this._map.addOverlay(e)}else{if(this._markers.length<this._minClusterSize)return void this._clusterMarker.hide();this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(e){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this))}},e.prototype.remove=function(){for(var e=0;this._markers[e];e++){var t=this._markers[e].getLabel();this._markers[e].getMap()&&this._map.removeOverlay(this._markers[e]),this._markers[e].setLabel(t)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},e.prototype.getBounds=function(){for(var e,t=new BMap.Bounds(this._center,this._center),n=0;e=this._markers[n];n++)t.extend(e.getPosition());return t},e.prototype.getCenter=function(){return this._center},u}()}).call(t,n(3))},function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.paths.length?n("div",e._l(e.paths,function(t,i){return n("bm-polygon",{key:i,attrs:{path:t,"stroke-color":e.strokeColor,"stroke-weight":e.strokeWeight,"stroke-opacity":e.strokeOpacity,"stroke-style":e.strokeStyle,"fill-opacity":e.fillOpacity,"fill-color":e.fillColor,"mass-clear":e.massClear,clicking:e.clicking},on:{click:function(t){e.$emit("click",t)},dblclick:function(t){e.$emit("dblclick",t)},mousedown:function(t){e.$emit("mousedown",t)},mouseup:function(t){e.$emit("mouseup",t)},mouseout:function(t){e.$emit("mouseout",t)},mouseover:function(t){e.$emit("mouseover",t)},remove:function(t){e.$emit("remove",t)}}})})):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._t("default",[n("input")])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.hasBmView?e._e():n("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}}])},exGp:function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n("//Fk"));t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){return function o(r,a){try{var s=t[r](a),l=s.value}catch(e){return void n(e)}if(!s.done)return i.default.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}},fySZ:function(e,t){},gInO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","up-circle-o","down-circle-o","right-circle-o","left-circle-o","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","play-circle-o","up-square","down-square","left-square","right-square","up-square-o","down-square-o","left-square-o","right-square-o","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","radius-upright","fullscreen","fullscreen-exit"],o=["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"],r=["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"],a=["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"],s=["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"],l=["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"],c={name:"Icons",props:{iconChooseVisible:{default:!1}},data:function(){return{icons:{directionIcons:i,suggestionIcons:o,editIcons:r,dataIcons:a,webIcons:s,logoIcons:l},choosedIcon:"",activeIndex:""}},computed:{show:{get:function(){return this.iconChooseVisible},set:function(){}}},methods:{reset:function(){this.activeIndex=""},chooseIcon:function(e){this.activeIndex=e,this.choosedIcon=e,this.$message.success("选中 "+e)},ok:function(){""!==this.choosedIcon?(this.reset(),this.$emit("choose",this.choosedIcon)):this.$message.warning("尚未选择任何图标")},cancel:function(){this.reset(),this.$emit("close")}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:900,keyboard:!1,closable:!1,centered:!0,maskClosable:!1,mask:!1,okText:"确认",cancelText:"取消"},on:{ok:e.ok,cancel:e.cancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("a-tabs",[n("a-tab-pane",{key:"1",attrs:{tab:"方向性图标"}},[n("ul",e._l(e.icons.directionIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),e._v(" "),n("a-tab-pane",{key:"2",attrs:{tab:"指示性图标"}},[n("ul",e._l(e.icons.suggestionIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),e._v(" "),n("a-tab-pane",{key:"3",attrs:{tab:"编辑类图标"}},[n("ul",e._l(e.icons.editIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),e._v(" "),n("a-tab-pane",{key:"4",attrs:{tab:"数据类图标"}},[n("ul",e._l(e.icons.dataIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),e._v(" "),n("a-tab-pane",{key:"5",attrs:{tab:"网站通用图标"}},[n("ul",e._l(e.icons.webIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),e._v(" "),n("a-tab-pane",{key:"6",attrs:{tab:"品牌和标识"}},[n("ul",e._l(e.icons.logoIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)])],1)],1)},staticRenderFns:[]},d=n("VU/8")(c,u,!1,function(e){n("fySZ")},"data-v-6e041269",null);t.default=d.exports},jsuz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),o=n.n(i),r=n("FJ7W"),a={data:function(){return{menu:{name:"",rank:1,isShow:1},form:this.$form.createForm(this)}},props:{addVisible:{type:Boolean,default:!1},storeId:{type:Number}},computed:{visible:function(){return this.addVisible}},methods:{handleOk:function(){var e=this;this.form.validateFields(function(t,n){if(!t){var i=o()({},n,{show:e.menu.isShow});e.onAddMenu(i)}})},handleCancel:function(){this.$emit("cancel")},onAddMenu:function(e){var t=this,n={storeid:this.storeId,text:e.text};this.$post("backend/business/LantianDishesclassificationtable",o()({},n)).then(function(e){t.$emit("close",e.data.data),r.a.$emit("addCategroyOk"),t.form.resetFields()})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{visible:e.visible,title:"增加菜单分类"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"分类名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["text",{rules:[{required:!0,message:"请输入分类名称"}]}],expression:"[\n            'text',\n            { rules: [{ required: true, message: '请输入分类名称' }] },\n          ]"}],attrs:{placeholder:"请输入分类名称"}})],1)],1)],1)],1)},staticRenderFns:[]},l=n("VU/8")(a,s,!1,function(e){n("LiGI")},null,null);t.default=l.exports},jytG:function(e,t){},ltgE:function(e,t){},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},tGOq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),r=n("exGp"),a=n.n(r),s=n("FJ7W"),l=n("6qJD"),c=n.n(l),u=n("P0XF"),d={props:{files:{type:Array,required:!1,default:function(){return[]}},sort:{type:Boolean,default:!0}},data:function(){return{fileList:[],cos:null,previewVisible:!1,previewImage:"",maxNum:1,rank:{number:0,bannerUrl:""},bannerUrl:""}},computed:{isShow:function(){return this.sort}},watch:{files:function(e){this.fileList=e}},created:function(){var e=this;return a()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getKeyAndId();case 2:n=t.sent,e.cos=new c.a({getAuthorization:function(e,t){var i=JSON.parse(n.data.data);t({TmpSecretId:i.credentials.tmpSecretId,TmpSecretKey:i.credentials.tmpSecretKey,XCosSecurityToken:i.credentials.sessionToken,ExpiredTime:i.expiredTime})}});case 4:case"end":return t.stop()}},t,e)}))()},methods:{getKeyAndId:function(){return this.$get("backend/TemKeyAndID")},changeNum:function(e){this.maxNum=e},handleCancel:function(){this.previewVisible=!1},handlePreview:function(){this.previewImage=this.bannerUrl,this.previewVisible=!0},beforeUpload:function(e){var t=!1;return["image/jpeg","image/png","image/bmp","image/tif"].forEach(function(n){e.type.toLocaleLowerCase()==n&&(t=!0)}),t?e.size/1024/1024<1?void 0:(this.$message.error("图片必须小于1MB!"),!1):(this.$message.error("请上传图片类型：jpeg/png/bmp/tif"),!1)},remove:function(e){var t=this.fileList.filter(function(t){return t.uid!=e.uid});this.fileList=t,this.$emit("storeLogoUrl",t)},handleUpload:function(e){var t=this,n=this,i=e.file,o=Object(u.a)(),r=i.name;this.cos.putObject({Bucket:n.$config.Bucket,Region:n.$config.Region,Key:r,Body:i,onProgress:function(){}},function(e,r){e?n.$notification.error({message:"文件上传错误",description:e.Message}):(t.$message.success("图片上传成功"),n.bannerUrl="http://"+r.Location,n.fileList.push({uid:o,name:i.name,status:"done",url:"http://"+r.Location}),s.a.$emit("storeLogoUrl",n.fileList))})},getExtName:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t+1):""}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{accept:"image/*",listType:"picture-card",fileList:e.fileList,multiple:!0,remove:e.remove,beforeUpload:e.beforeUpload,customRequest:e.handleUpload},on:{preview:e.handlePreview}},[e.fileList.length<e.maxNum?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),e._v(" "),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"加载失败",src:e.previewImage}})])],1)},staticRenderFns:[]},p=n("VU/8")(d,h,!1,function(e){n("7upm")},"data-v-1828bcc2",null);t.default=p.exports},vWPw:function(e,t,n){var i=i||function(e,t){var n={},i=n.lib={},o=function(){},r=i.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var o=0;o<e;o++)t[i+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[i+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var l=0;l<t;l+=r)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=o}return new a.init(l,o)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}});var h=n.algo={};return n}(Math);!function(){var e=i,t=(r=e.lib).WordArray,n=r.Hasher,o=[],r=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=0;80>c;c++){if(16>c)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+l+o[c],u=20>c?u+(1518500249+(r&a|~r&s)):40>c?u+(1859775393+(r^a^s)):60>c?u+((r&a|r&s|a&s)-1894007588):u+((r^a^s)-899497514),l=s,s=a,a=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(r),e.HmacSHA1=n._createHmacHelper(r)}(),function(){var e=i,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var i=e.blockSize,o=4*i;n.sigBytes>o&&(n=e.finalize(n)),n.clamp();for(var r=this._oKey=n.clone(),a=this._iKey=n.clone(),s=r.words,l=a.words,c=0;c<i;c++)s[c]^=1549556828,l[c]^=909522486;r.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=i,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var o=[],r=0;r<n;r+=3)for(var a=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;s<4&&r+.75*s<n;s++)o.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var n=e.length,i=this._map,o=i.charAt(64);if(o){var r=e.indexOf(o);-1!=r&&(n=r)}for(var a=[],s=0,l=0;l<n;l++)if(l%4){var c=i.indexOf(e.charAt(l-1))<<l%4*2,u=i.indexOf(e.charAt(l))>>>6-l%4*2;a[s>>>2]|=(c|u)<<24-s%4*8,s++}return t.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.exports=i},wImY:function(e,t,n){"use strict";function i(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function o(e){return l(e,function(e){return"object"==typeof e&&null!==e?o(e):e})}function r(e,t){return s(t,function(n,i){e[i]=t[i]}),e}function a(e){return e instanceof Array}function s(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function l(e,t){var n=a(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i));return n}var c=n("AUae"),u=n("vWPw"),d=n("U5Ns"),h=n("alfZ"),p=function(e,t,n){var i=t/8,o=e.slice(n,n+i);return new Uint8Array(o).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[t](o)[0]},f=function(e,t,n,i){var o=e.slice(t,n),r="";return new Uint8Array(o).forEach(function(e){r+=String.fromCharCode(e)}),i&&(r=decodeURIComponent(escape(r))),r},m=function(){},g=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]&&(t[n]=e[n]);return t},y=function(){var e,t,n,i,o=function(e,t){e=e.split("."),t=t.split(".");for(var n=0;n<t.length;n++)if(e[n]!==t[n])return parseInt(e[n])>parseInt(t[n])?1:-1;return 0};return e=navigator&&navigator.userAgent,t=(e.match(/Chrome\/([.\d]+)/)||[])[1],n=(e.match(/QBCore\/([.\d]+)/)||[])[1],i=(e.match(/QQBrowser\/([.\d]+)/)||[])[1],t&&o(t,"53.0.2785.116")<0&&n&&o(n,"3.53.991.400")<0&&i&&o(i,"9.0.2524.400")<=0||!1}(),v=function(e,t){if(t=r({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var n=t.Headers||{};if(t&&"object"==typeof t){!function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(n[e]=t[e])}();_.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},function(e,i){void 0!==t[e]&&(n[i]=t[e])}),t.Headers=g(n)}}return t},b=function(e){return Date.now()+(e||0)},_={noop:m,formatParams:v,apiWrapper:function(e,t){return function(n,i){var o=this;"function"==typeof n&&(i=n,n={}),n=v(e,n);var r=function(e){return e&&e.headers&&(e.headers["x-cos-request-id"]&&(e.RequestId=e.headers["x-cos-request-id"]),e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},a=function(e,t){i&&i(r(e),r(t))},s=function(){if("getService"!==e&&"abortUploadTask"!==e){var t=function(e,t){var n=t.Bucket,i=t.Region,o=t.Key;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!n)return"Bucket";if(!i)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(!n)return"Bucket";if(!i)return"Region";if(!o)return"Key"}return!1}(e,n);if(t)return"missing param "+t;if(n.Region){if(n.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(n.Region))return"Region format error.";!o.options.CompatibilityMode&&-1===n.Region.indexOf("-")&&"yfb"!==n.Region&&"default"!==n.Region&&n.Region}if(n.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(n.Bucket))if(n.AppId)n.Bucket=n.Bucket+"-"+n.AppId;else{if(!o.options.AppId)return'Bucket should format as "test-1250000000".';n.Bucket=n.Bucket+"-"+o.options.AppId}n.AppId&&delete n.AppId}!o.options.UseRawKey&&n.Key&&"/"===n.Key.substr(0,1)&&(n.Key=n.Key.substr(1))}}(),l="getAuth"===e||"getObjectUrl"===e;if(Promise&&!l&&!i)return new Promise(function(e,r){if(i=function(t,n){t?r(t):e(n)},s)return a(_.error(new Error(s)));t.call(o,n,a)});if(s)return a(_.error(new Error(s)));var c=t.call(o,n,a);return l?c:void 0}},xml2json:d,json2xml:h,md5:c,clearKey:g,fileSlice:function(e,t,n,i,o){var r;if(e.slice?r=e.slice(t,n):e.mozSlice?r=e.mozSlice(t,n):e.webkitSlice&&(r=e.webkitSlice(t,n)),i&&y){var a=new FileReader;a.onload=function(e){r=null,o(new Blob([a.result]))},a.readAsArrayBuffer(r)}else o(r)},getBodyMd5:function(e,t,n,i){n=n||m,e?"string"==typeof t?n(_.md5(t,!0)):Blob&&t instanceof Blob?_.getFileMd5(t,function(e,t){n(t)},i):n():n()},getFileMd5:function(e,t,n){var i=e.size,o=0,r=c.getCtx(),a=function(s){if(s>=i){var l=r.digest("hex");t(null,l)}else{var c=Math.min(i,s+1048576);_.fileSlice(e,s,c,!1,function(e){!function(e,t){var n,i=new FileReader;FileReader.prototype.readAsBinaryString?(n=FileReader.prototype.readAsBinaryString,i.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer&&(n=function(e){var n="",i=new FileReader;i.onload=function(e){for(var o=new Uint8Array(i.result),r=o.byteLength,a=0;a<r;a++)n+=String.fromCharCode(o[a]);t(n)},i.readAsArrayBuffer(e)}),n.call(i,e)}(e,function(t){e=null,r=r.update(t,!0),o+=t.length,t=null,n&&n({loaded:o,total:i,percent:Math.round(o/i*1e4)/1e4}),a(s+1048576)})})}};a(0)},binaryBase64:function(e){var t,n,i,o="";for(t=0,n=e.length/2;t<n;t++)i=parseInt(e[2*t]+e[2*t+1],16),o+=String.fromCharCode(i);return btoa(o)},extend:r,isArray:a,isInArray:function(e,t){for(var n=!1,i=0;i<e.length;i++)if(t===e[i]){n=!0;break}return n},makeArray:function(e){return a(e)?e:[e]},each:s,map:l,filter:function(e,t){var n=a(e),i=n?[]:{};for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)&&(n?i.push(e[o]):i[o]=e[o]);return i},clone:o,attr:function(e,t,n){return e&&t in e?e[t]:n},uuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:i,throttleOnProgress:function(e,t){function n(){if(o=0,t&&"function"==typeof t){i=Date.now();var n,r=Math.max(0,Math.round((s-a)/((i-l)/1e3)*100)/100)||0;n=0===s&&0===e?1:Math.floor(s/e*100)/100||0,l=i,a=s;try{t({loaded:s,total:e,speed:r,percent:n})}catch(e){}}}var i,o,r=this,a=0,s=0,l=Date.now();return function(t,i){if(t&&(s=t.loaded,e=t.total),i)clearTimeout(o),n();else{if(o)return;o=setTimeout(n,r.options.ProgressInterval)}}},getFileSize:function(e,t,n){var i;"string"==typeof t.Body?t.Body=new Blob([t.Body],{type:"text/plain"}):t.Body instanceof ArrayBuffer&&(t.Body=new Blob([t.Body])),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(i=t.Body.size,t.ContentLength=i,n(null,i)):n(_.error(new Error("params body format error, Only allow File|Blob|String.")))},getSkewTime:b,error:function(e,t){var n=e;return e.message=e.message||null,"string"==typeof t?(e.error=t,e.message=t):"object"==typeof t&&null!==t&&(r(e,t),(t.code||t.name)&&(e.code=t.code||t.name),t.message&&(e.message=t.message),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.code||(e.code=e.name),e.error||(e.error=o(n)),e},getAuth:function(e){var t,n=(e=e||{}).SecretId,r=e.SecretKey,a=e.KeyTime,s=(e.method||e.Method||"get").toLowerCase(),l=o(e.Query||e.params||{}),c=o(e.Headers||e.headers||{}),d=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+d:0!==(t=e.Pathname||e.pathname||d).indexOf("/")&&(t="/"+t),!n)throw new Error("missing param SecretId");if(!r)throw new Error("missing param SecretKey");var h=function(e,t){var n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(t?i(o).toLowerCase():o);return n.sort(function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:e>t?1:-1})},p=function(e){var t,n,o,r=[],a=h(e);for(t=0;t<a.length;t++)o=void 0===e[n=a[t]]||null===e[n]?"":""+e[n],n=i(n).toLowerCase(),o=i(o)||"",r.push(n+"="+o);return r.join("&")},f=Math.round(b(e.SystemClockOffset)/1e3)-1,m=f,g=e.Expires||e.expires;m+=void 0===g?900:1*g||0;var y=n,v=a||f+";"+m,_=a||f+";"+m,C=h(c).join(";").toLowerCase(),k=h(l).join(";").toLowerCase(),x=u.HmacSHA1(_,r).toString(),w=[s,t,p(l),p(c),""].join("\n"),S=["sha1",v,u.SHA1(w).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+y,"q-sign-time="+v,"q-key-time="+_,"q-header-list="+C,"q-url-param-list="+k,"q-signature="+u.HmacSHA1(S,x).toString()].join("&")},parseSelectPayload:function(e){for(var t={},n=f(e),i={records:[]};e.byteLength;){var o,r=p(e,32,0),a=p(e,32,4),s=r-a-16,l=0;for(e=e.slice(12);l<a;){var c=p(e,8,l),u=f(e,l+1,l+1+c),d=p(e,16,l+c+2),h=f(e,l+c+4,l+c+4+d);t[u]=h,l+=c+4+d}if("Records"===t[":event-type"])o=f(e,l,l+s,!0),i.records.push(o);else if("Stats"===t[":event-type"])o=f(e,l,l+s,!0),i.stats=_.xml2json(o).Stats;else if("error"===t[":event-type"]){var m=t[":error-code"],g=t[":error-message"],y=new Error(g);y.message=g,y.name=y.code=m,i.error=y}else["Progress","Continuation","End"].includes(t[":event-type"]);e=e.slice(l+s+4)}return{payload:i.records.join(""),body:n}},isBrowser:!0};e.exports=_},yXhj:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function i(e,t){function i(){}var o=e.prototype;if(Object.create){var r=Object.create(t.prototype);o.__proto__=r}o instanceof t||(i.prototype=t.prototype,n(o,i=new i),e.prototype=o=i),o.constructor!=e&&(o.constructor=e)}function o(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,Y[e]),this.message=Y[e],Error.captureStackTrace&&Error.captureStackTrace(this,o);return n.code=e,t&&(this.message=this.message+": "+t),n}function r(){}function a(e,t){this._node=e,this._refresh=t,s(this)}function s(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);L(e,"length",i.length),n(i,e),e._inc=t}}function l(){}function c(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function u(e,t,n,i){if(i?t[c(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(i&&y(o,e,i),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function d(e,t,n){var i=c(t,n);if(!(i>=0))throw o(te,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(y(a,e,n),n.ownerElement=null)}}function h(e){if(this._features={},e)for(var t in e)this._features=e[t]}function p(){}function f(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function m(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(m(e,t))return!0}while(e=e.nextSibling)}function g(){}function y(e,t,n,i){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function v(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var o=t.firstChild,r=0;o;)i[r++]=o,o=o.nextSibling;i.length=r}}}function b(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,v(e.ownerDocument,e),t}function _(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Z){var o=t.firstChild;if(null==o)return t;var r=t.lastChild}else o=r=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,r.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=r:n.previousSibling=r;do{o.parentNode=e}while(o!==r&&(o=o.nextSibling));return v(e.ownerDocument||e,e),t.nodeType==Z&&(t.firstChild=t.lastChild=null),t}function C(){this._nsMap={}}function k(){}function x(){}function w(){}function S(){}function I(){}function B(){}function M(){}function R(){}function E(){}function T(){}function A(){}function O(){}function P(e,t){var n=[],i=9==this.nodeType?this.documentElement:this,o=i.prefix,r=i.namespaceURI;if(r&&null==o&&null==(o=i.lookupPrefix(r)))var a=[{namespace:r,prefix:null}];return D(this,n,e,t,a),n.join("")}function N(e,t,n){var i=e.prefix||"",o=e.namespaceURI;if(!i&&!o)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var r=n.length;r--;){var a=n[r];if(a.prefix==i)return a.namespace!=o}return!0}function D(e,t,n,i,o){if(i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case F:o||(o=[]);var r=(o.length,e.attributes),a=r.length,s=e.firstChild,l=e.tagName;n=U===e.namespaceURI||n,t.push("<",l);for(var c=0;c<a;c++){"xmlns"==(u=r.item(c)).prefix?o.push({prefix:u.localName,namespace:u.value}):"xmlns"==u.nodeName&&o.push({prefix:"",namespace:u.value})}for(c=0;c<a;c++){var u;if(N(u=r.item(c),0,o)){var d=u.prefix||"",h=u.namespaceURI,p=d?" xmlns:"+d:" xmlns";t.push(p,'="',h,'"'),o.push({prefix:d,namespace:h})}D(u,t,n,i,o)}if(N(e,0,o)){d=e.prefix||"",h=e.namespaceURI,p=d?" xmlns:"+d:" xmlns";t.push(p,'="',h,'"'),o.push({prefix:d,namespace:h})}if(s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;s;)s.data?t.push(s.data):D(s,t,n,i,o),s=s.nextSibling;else for(;s;)D(s,t,n,i,o),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case G:case Z:for(s=e.firstChild;s;)D(s,t,n,i,o),s=s.nextSibling;return;case H:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,f),'"');case z:return t.push(e.data.replace(/[<&]/g,f));case $:return t.push("<![CDATA[",e.data,"]]>");case q:return t.push("\x3c!--",e.data,"--\x3e");case X:var m=e.publicId,g=e.systemId;if(t.push("<!DOCTYPE ",e.name),m)t.push(' PUBLIC "',m),g&&"."!=g&&t.push('" "',g),t.push('">');else if(g&&"."!=g)t.push(' SYSTEM "',g,'">');else{var y=e.internalSubset;y&&t.push(" [",y,"]"),t.push(">")}return;case W:return t.push("<?",e.target," ",e.data,"?>");case K:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function L(e,t,n){e[t]=n}var U="http://www.w3.org/1999/xhtml",j={},F=j.ELEMENT_NODE=1,H=j.ATTRIBUTE_NODE=2,z=j.TEXT_NODE=3,$=j.CDATA_SECTION_NODE=4,K=j.ENTITY_REFERENCE_NODE=5,V=j.ENTITY_NODE=6,W=j.PROCESSING_INSTRUCTION_NODE=7,q=j.COMMENT_NODE=8,G=j.DOCUMENT_NODE=9,X=j.DOCUMENT_TYPE_NODE=10,Z=j.DOCUMENT_FRAGMENT_NODE=11,J=j.NOTATION_NODE=12,Q={},Y={},ee=(Q.INDEX_SIZE_ERR=(Y[1]="Index size error",1),Q.DOMSTRING_SIZE_ERR=(Y[2]="DOMString size error",2),Q.HIERARCHY_REQUEST_ERR=(Y[3]="Hierarchy request error",3)),te=(Q.WRONG_DOCUMENT_ERR=(Y[4]="Wrong document",4),Q.INVALID_CHARACTER_ERR=(Y[5]="Invalid character",5),Q.NO_DATA_ALLOWED_ERR=(Y[6]="No data allowed",6),Q.NO_MODIFICATION_ALLOWED_ERR=(Y[7]="No modification allowed",7),Q.NOT_FOUND_ERR=(Y[8]="Not found",8)),ne=(Q.NOT_SUPPORTED_ERR=(Y[9]="Not supported",9),Q.INUSE_ATTRIBUTE_ERR=(Y[10]="Attribute in use",10));Q.INVALID_STATE_ERR=(Y[11]="Invalid state",11),Q.SYNTAX_ERR=(Y[12]="Syntax error",12),Q.INVALID_MODIFICATION_ERR=(Y[13]="Invalid modification",13),Q.NAMESPACE_ERR=(Y[14]="Invalid namespace",14),Q.INVALID_ACCESS_ERR=(Y[15]="Invalid access",15),o.prototype=Error.prototype,n(Q,o),r.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)D(this[i],n,e,t);return n.join("")}},a.prototype.item=function(e){return s(this),this[e]},i(a,r),l.prototype={length:0,item:r.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new o(ne);var n=this.getNamedItem(e.nodeName);return u(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new o(ne);return t=this.getNamedItemNS(e.namespaceURI,e.localName),u(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return d(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return d(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},h.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var i=new g;if(i.implementation=this,i.childNodes=new r,i.doctype=n,n&&i.appendChild(n),t){var o=i.createElementNS(e,t);i.appendChild(o)}return i},createDocumentType:function(e,t,n){var i=new B;return i.name=e,i.nodeName=e,i.publicId=t,i.systemId=n,i}},p.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return b(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,i){var o=new n.constructor;for(var a in n){var s=n[a];"object"!=typeof s&&s!=o[a]&&(o[a]=s)}switch(n.childNodes&&(o.childNodes=new r),o.ownerDocument=t,o.nodeType){case F:var c=n.attributes,u=o.attributes=new l,d=c.length;u._ownerElement=o;for(var h=0;h<d;h++)o.setAttributeNode(e(t,c.item(h),!0));break;case H:i=!0}if(i)for(var p=n.firstChild;p;)o.appendChild(e(t,p,i)),p=p.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==z&&e.nodeType==z?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==H?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==H?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(j,p),n(j,p.prototype),g.prototype={nodeName:"#document",nodeType:G,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Z){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==F&&(this.documentElement=e),_(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),b(this,e)},importNode:function(e,t){return function e(t,n,i){var o;switch(n.nodeType){case F:(o=n.cloneNode(!1)).ownerDocument=t;case Z:break;case H:i=!0}if(o||(o=n.cloneNode(!1)),o.ownerDocument=t,o.parentNode=null,i)for(var r=n.firstChild;r;)o.appendChild(e(t,r,i)),r=r.nextSibling;return o}(this,e,t)},getElementById:function(e){var t=null;return m(this.documentElement,function(n){if(n.nodeType==F&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new C;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new r,(t.attributes=new l)._ownerElement=t,t},createDocumentFragment:function(){var e=new T;return e.ownerDocument=this,e.childNodes=new r,e},createTextNode:function(e){var t=new w;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new S;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new I;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new A;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new k;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new E;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new C,i=t.split(":"),o=n.attributes=new l;return n.childNodes=new r,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new k,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},i(g,p),C.prototype={nodeType:F,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Z?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t),i=e.lastChild}return i=e.lastChild,t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,v(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new a(this,function(t){var n=[];return m(t,function(i){i===t||i.nodeType!=F||"*"!==e&&i.tagName!=e||n.push(i)}),n})},getElementsByTagNameNS:function(e,t){return new a(this,function(n){var i=[];return m(n,function(o){o===n||o.nodeType!==F||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||i.push(o)}),i})}},g.prototype.getElementsByTagName=C.prototype.getElementsByTagName,g.prototype.getElementsByTagNameNS=C.prototype.getElementsByTagNameNS,i(C,p),k.prototype.nodeType=H,i(k,p),x.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Y[ee])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},i(x,p),w.prototype={nodeName:"#text",nodeType:z,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(w,x),S.prototype={nodeName:"#comment",nodeType:q},i(S,x),I.prototype={nodeName:"#cdata-section",nodeType:$},i(I,x),B.prototype.nodeType=X,i(B,p),M.prototype.nodeType=J,i(M,p),R.prototype.nodeType=V,i(R,p),E.prototype.nodeType=K,i(E,p),T.prototype.nodeName="#document-fragment",T.prototype.nodeType=Z,i(T,p),A.prototype.nodeType=W,i(A,p),O.prototype.serializeToString=function(e,t,n){return P.call(e,t,n)},p.prototype.toString=P;try{Object.defineProperty&&(Object.defineProperty(a.prototype,"length",{get:function(){return s(this),this.$$length}}),Object.defineProperty(p.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case F:case Z:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case F:case Z:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),L=function(e,t,n){e["$$"+t]=n})}catch(e){}t.DOMImplementation=h,t.XMLSerializer=O}});